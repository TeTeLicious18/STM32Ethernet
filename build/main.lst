ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"main.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Core/Src/main.c"
  18              		.section	.text.__io_putchar,"ax",%progbits
  19              		.align	1
  20              		.global	__io_putchar
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	__io_putchar:
  26              	.LVL0:
  27              	.LFB68:
   1:Core/Src/main.c **** /* USER CODE BEGIN Header */
   2:Core/Src/main.c **** /**
   3:Core/Src/main.c ****   ******************************************************************************
   4:Core/Src/main.c ****   * @file           : main.c
   5:Core/Src/main.c ****   * @brief          : Main program body
   6:Core/Src/main.c ****   ******************************************************************************
   7:Core/Src/main.c ****   * @attention
   8:Core/Src/main.c ****   *
   9:Core/Src/main.c ****   * Copyright (c) 2024 STMicroelectronics.
  10:Core/Src/main.c ****   * All rights reserved.
  11:Core/Src/main.c ****   *
  12:Core/Src/main.c ****   * This software is licensed under terms that can be found in the LICENSE file
  13:Core/Src/main.c ****   * in the root directory of this software component.
  14:Core/Src/main.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  15:Core/Src/main.c ****   *
  16:Core/Src/main.c ****   ******************************************************************************
  17:Core/Src/main.c ****   */
  18:Core/Src/main.c **** /* USER CODE END Header */
  19:Core/Src/main.c **** /* Includes ------------------------------------------------------------------*/
  20:Core/Src/main.c **** #include "main.h"
  21:Core/Src/main.c **** #include "i2c.h"
  22:Core/Src/main.c **** #include "tim.h"
  23:Core/Src/main.c **** #include "usart.h"
  24:Core/Src/main.c **** #include "usb_device.h"
  25:Core/Src/main.c **** #include "gpio.h"
  26:Core/Src/main.c **** 
  27:Core/Src/main.c **** /* Private includes ----------------------------------------------------------*/
  28:Core/Src/main.c **** /* USER CODE BEGIN Includes */
  29:Core/Src/main.c **** #include <stdio.h>      // add for printf
  30:Core/Src/main.c **** #include <string.h>
  31:Core/Src/main.c **** #include "liquidcrystal_i2c.h"
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 2


  32:Core/Src/main.c **** /* USER CODE END Includes */
  33:Core/Src/main.c **** 
  34:Core/Src/main.c **** /* Private typedef -----------------------------------------------------------*/
  35:Core/Src/main.c **** /* USER CODE BEGIN PTD */
  36:Core/Src/main.c **** 
  37:Core/Src/main.c **** /* USER CODE END PTD */
  38:Core/Src/main.c **** 
  39:Core/Src/main.c **** /* Private define ------------------------------------------------------------*/
  40:Core/Src/main.c **** /* USER CODE BEGIN PD */
  41:Core/Src/main.c **** 
  42:Core/Src/main.c **** /* USER CODE END PD */
  43:Core/Src/main.c **** 
  44:Core/Src/main.c **** /* Private macro -------------------------------------------------------------*/
  45:Core/Src/main.c **** /* USER CODE BEGIN PM */
  46:Core/Src/main.c **** 
  47:Core/Src/main.c **** /* USER CODE END PM */
  48:Core/Src/main.c **** 
  49:Core/Src/main.c **** /* Private variables ---------------------------------------------------------*/
  50:Core/Src/main.c **** 
  51:Core/Src/main.c **** /* USER CODE BEGIN PV */
  52:Core/Src/main.c **** uint8_t uart_buf[1];
  53:Core/Src/main.c **** uint8_t ticks;  // timer2 ticks
  54:Core/Src/main.c **** uint8_t SM_State; // State for the State Machine
  55:Core/Src/main.c **** 
  56:Core/Src/main.c **** GPIO_TypeDef *RGB_GPIO_Banks[] = {GPIOB, GPIOB, GPIOA};
  57:Core/Src/main.c **** uint16_t RGB_GPIO_Pins[] = {GPIO_PIN_0, GPIO_PIN_1, GPIO_PIN_8};
  58:Core/Src/main.c **** 
  59:Core/Src/main.c **** uint8_t colors_Mode_A[4][3] = {
  60:Core/Src/main.c ****   {0, 100, 0},
  61:Core/Src/main.c ****   {75, 70, 40},
  62:Core/Src/main.c ****   {30, 60, 90},
  63:Core/Src/main.c ****   {0, 0, 0}
  64:Core/Src/main.c **** };
  65:Core/Src/main.c **** 
  66:Core/Src/main.c **** uint8_t colors_Mode_B[4][3] = {
  67:Core/Src/main.c ****   {100, 0, 0},
  68:Core/Src/main.c ****   {90, 30, 30},
  69:Core/Src/main.c ****   {0, 70, 70},
  70:Core/Src/main.c ****   {100, 100, 100}
  71:Core/Src/main.c **** };
  72:Core/Src/main.c **** 
  73:Core/Src/main.c **** uint8_t colors_Mode_C[4][3] = {
  74:Core/Src/main.c ****   {0, 0, 100},
  75:Core/Src/main.c ****   {80, 50, 0},
  76:Core/Src/main.c ****   {50, 0, 50},
  77:Core/Src/main.c ****   {0, 0, 0}
  78:Core/Src/main.c **** };
  79:Core/Src/main.c **** 
  80:Core/Src/main.c **** uint8_t (*color_PWM_Set[3])[3] = { colors_Mode_A, colors_Mode_B, colors_Mode_C };
  81:Core/Src/main.c **** uint8_t color_PWM[4][3];
  82:Core/Src/main.c **** 
  83:Core/Src/main.c **** 
  84:Core/Src/main.c **** 
  85:Core/Src/main.c **** char* morse_Messages[] = {
  86:Core/Src/main.c ****   "..--- ----. / ... - .- .-. -",      
  87:Core/Src/main.c ****   ". -.-. .... .. .--. .- / ..--- ----.",              
  88:Core/Src/main.c ****   ".... . .-.. .-.. --- / ..--- ----.",     
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 3


  89:Core/Src/main.c **** };
  90:Core/Src/main.c **** 
  91:Core/Src/main.c **** char morse_Msg[64] = "..--- ----. / ... - .- .-. -";
  92:Core/Src/main.c **** 
  93:Core/Src/main.c **** uint8_t current_Mode = 0; //0 - A, 1 - B, 2 - C
  94:Core/Src/main.c **** uint8_t T = 100 ;
  95:Core/Src/main.c **** 
  96:Core/Src/main.c **** 
  97:Core/Src/main.c **** uint8_t test_mode = 0; // 0=RGB mode, 1=Cable test
  98:Core/Src/main.c **** uint8_t last_button_state = 1;
  99:Core/Src/main.c **** /* USER CODE END PV */
 100:Core/Src/main.c **** 
 101:Core/Src/main.c **** typedef enum {
 102:Core/Src/main.c ****   CABLE_STRAIGHT,
 103:Core/Src/main.c ****   CABLE_CROSSOVER,
 104:Core/Src/main.c ****   CABLE_FAULTY
 105:Core/Src/main.c **** } CableType;
 106:Core/Src/main.c **** 
 107:Core/Src/main.c **** const char* cable_type_names[] = {
 108:Core/Src/main.c ****   "Straight",
 109:Core/Src/main.c ****   "Crossover",
 110:Core/Src/main.c ****   "Faulty"
 111:Core/Src/main.c **** };
 112:Core/Src/main.c **** /* USER CODE END PV */
 113:Core/Src/main.c **** 
 114:Core/Src/main.c **** /* USER CODE END PV */
 115:Core/Src/main.c **** 
 116:Core/Src/main.c **** /* Private function prototypes -----------------------------------------------*/
 117:Core/Src/main.c **** void SystemClock_Config(void);
 118:Core/Src/main.c **** /* USER CODE BEGIN PFP */
 119:Core/Src/main.c **** 
 120:Core/Src/main.c **** /* USER CODE END PFP */
 121:Core/Src/main.c **** 
 122:Core/Src/main.c **** /* Private user code ---------------------------------------------------------*/
 123:Core/Src/main.c **** /* USER CODE BEGIN 0 */
 124:Core/Src/main.c **** 
 125:Core/Src/main.c **** #ifdef __GNUC__
 126:Core/Src/main.c **** #define PUTCHAR_PROTOTYPE int __io_putchar(int ch)
 127:Core/Src/main.c **** #else
 128:Core/Src/main.c **** #define PUTCHAR_PROTOTYPE int fputc(int ch, FILE *f)
 129:Core/Src/main.c **** #endif
 130:Core/Src/main.c **** 
 131:Core/Src/main.c **** /**
 132:Core/Src/main.c ****   * @brief  Retargets the C library printf function to the USART.
 133:Core/Src/main.c ****   * @param  None
 134:Core/Src/main.c ****   * @retval None
 135:Core/Src/main.c ****   */
 136:Core/Src/main.c **** PUTCHAR_PROTOTYPE
 137:Core/Src/main.c **** {
  28              		.loc 1 137 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 8
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 137 1 is_stmt 0 view .LVU1
  33 0000 00B5     		push	{lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 4
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 4


  36              		.cfi_offset 14, -4
  37 0002 83B0     		sub	sp, sp, #12
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 16
  40 0004 0190     		str	r0, [sp, #4]
 138:Core/Src/main.c ****   HAL_UART_Transmit(&huart1, (uint8_t *)&ch, 1, 0xFFFF);
  41              		.loc 1 138 3 is_stmt 1 view .LVU2
  42 0006 4FF6FF73 		movw	r3, #65535
  43 000a 0122     		movs	r2, #1
  44 000c 01A9     		add	r1, sp, #4
  45 000e 0348     		ldr	r0, .L3
  46              	.LVL1:
  47              		.loc 1 138 3 is_stmt 0 view .LVU3
  48 0010 FFF7FEFF 		bl	HAL_UART_Transmit
  49              	.LVL2:
 139:Core/Src/main.c ****   return ch;
  50              		.loc 1 139 3 is_stmt 1 view .LVU4
 140:Core/Src/main.c **** }
  51              		.loc 1 140 1 is_stmt 0 view .LVU5
  52 0014 0198     		ldr	r0, [sp, #4]
  53 0016 03B0     		add	sp, sp, #12
  54              	.LCFI2:
  55              		.cfi_def_cfa_offset 4
  56              		@ sp needed
  57 0018 5DF804FB 		ldr	pc, [sp], #4
  58              	.L4:
  59              		.align	2
  60              	.L3:
  61 001c 00000000 		.word	huart1
  62              		.cfi_endproc
  63              	.LFE68:
  65              		.section	.text._write,"ax",%progbits
  66              		.align	1
  67              		.global	_write
  68              		.syntax unified
  69              		.thumb
  70              		.thumb_func
  72              	_write:
  73              	.LVL3:
  74              	.LFB69:
 141:Core/Src/main.c **** 
 142:Core/Src/main.c **** /* also redefine _write for printf*/
 143:Core/Src/main.c **** int _write(int fd, char * ptr, int len)
 144:Core/Src/main.c **** {
  75              		.loc 1 144 1 is_stmt 1 view -0
  76              		.cfi_startproc
  77              		@ args = 0, pretend = 0, frame = 0
  78              		@ frame_needed = 0, uses_anonymous_args = 0
  79              		.loc 1 144 1 is_stmt 0 view .LVU7
  80 0000 10B5     		push	{r4, lr}
  81              	.LCFI3:
  82              		.cfi_def_cfa_offset 8
  83              		.cfi_offset 4, -8
  84              		.cfi_offset 14, -4
  85 0002 1446     		mov	r4, r2
 145:Core/Src/main.c ****   HAL_UART_Transmit(&huart1, (uint8_t *) ptr, len, HAL_MAX_DELAY);
  86              		.loc 1 145 3 is_stmt 1 view .LVU8
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 5


  87 0004 4FF0FF33 		mov	r3, #-1
  88 0008 92B2     		uxth	r2, r2
  89              	.LVL4:
  90              		.loc 1 145 3 is_stmt 0 view .LVU9
  91 000a 0248     		ldr	r0, .L7
  92              	.LVL5:
  93              		.loc 1 145 3 view .LVU10
  94 000c FFF7FEFF 		bl	HAL_UART_Transmit
  95              	.LVL6:
 146:Core/Src/main.c ****   return len;
  96              		.loc 1 146 3 is_stmt 1 view .LVU11
 147:Core/Src/main.c **** }
  97              		.loc 1 147 1 is_stmt 0 view .LVU12
  98 0010 2046     		mov	r0, r4
  99 0012 10BD     		pop	{r4, pc}
 100              	.LVL7:
 101              	.L8:
 102              		.loc 1 147 1 view .LVU13
 103              		.align	2
 104              	.L7:
 105 0014 00000000 		.word	huart1
 106              		.cfi_endproc
 107              	.LFE69:
 109              		.section	.text.dot,"ax",%progbits
 110              		.align	1
 111              		.global	dot
 112              		.syntax unified
 113              		.thumb
 114              		.thumb_func
 116              	dot:
 117              	.LFB70:
 148:Core/Src/main.c **** uint8_t dot_Color[] = {1, 0, 1};
 149:Core/Src/main.c **** uint8_t dash_Color[] = {0, 1, 0};
 150:Core/Src/main.c **** void dot() {
 118              		.loc 1 150 12 is_stmt 1 view -0
 119              		.cfi_startproc
 120              		@ args = 0, pretend = 0, frame = 8
 121              		@ frame_needed = 0, uses_anonymous_args = 0
 122 0000 10B5     		push	{r4, lr}
 123              	.LCFI4:
 124              		.cfi_def_cfa_offset 8
 125              		.cfi_offset 4, -8
 126              		.cfi_offset 14, -4
 127 0002 82B0     		sub	sp, sp, #8
 128              	.LCFI5:
 129              		.cfi_def_cfa_offset 16
 151:Core/Src/main.c ****   uint8_t dot_Color[] = {1, 0, 1};
 130              		.loc 1 151 3 view .LVU15
 131              		.loc 1 151 11 is_stmt 0 view .LVU16
 132 0004 184B     		ldr	r3, .L15
 133 0006 1B68     		ldr	r3, [r3]
 134 0008 ADF80430 		strh	r3, [sp, #4]	@ movhi
 135 000c 1B0C     		lsrs	r3, r3, #16
 136 000e 8DF80630 		strb	r3, [sp, #6]
 152:Core/Src/main.c **** 
 153:Core/Src/main.c ****   for(unsigned int k=0; k<3; k++)
 137              		.loc 1 153 3 is_stmt 1 view .LVU17
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 6


 138              	.LBB4:
 139              		.loc 1 153 7 view .LVU18
 140              	.LVL8:
 141              		.loc 1 153 20 is_stmt 0 view .LVU19
 142 0012 0024     		movs	r4, #0
 143              		.loc 1 153 3 view .LVU20
 144 0014 0DE0     		b	.L10
 145              	.LVL9:
 146              	.L11:
 154:Core/Src/main.c ****     HAL_GPIO_WritePin(RGB_GPIO_Banks[k], RGB_GPIO_Pins[k], dot_Color[k]);
 147              		.loc 1 154 5 is_stmt 1 view .LVU21
 148              		.loc 1 154 69 is_stmt 0 view .LVU22
 149 0016 04F10803 		add	r3, r4, #8
 150 001a 6B44     		add	r3, sp, r3
 151              		.loc 1 154 5 view .LVU23
 152 001c 13F8042C 		ldrb	r2, [r3, #-4]	@ zero_extendqisi2
 153 0020 124B     		ldr	r3, .L15+4
 154 0022 33F81410 		ldrh	r1, [r3, r4, lsl #1]
 155 0026 124B     		ldr	r3, .L15+8
 156 0028 53F82400 		ldr	r0, [r3, r4, lsl #2]
 157 002c FFF7FEFF 		bl	HAL_GPIO_WritePin
 158              	.LVL10:
 153:Core/Src/main.c ****     HAL_GPIO_WritePin(RGB_GPIO_Banks[k], RGB_GPIO_Pins[k], dot_Color[k]);
 159              		.loc 1 153 31 is_stmt 1 discriminator 3 view .LVU24
 160 0030 0134     		adds	r4, r4, #1
 161              	.LVL11:
 162              	.L10:
 153:Core/Src/main.c ****     HAL_GPIO_WritePin(RGB_GPIO_Banks[k], RGB_GPIO_Pins[k], dot_Color[k]);
 163              		.loc 1 153 26 discriminator 1 view .LVU25
 164 0032 022C     		cmp	r4, #2
 165 0034 EFD9     		bls	.L11
 166              	.LBE4:
 155:Core/Src/main.c ****   HAL_Delay(T);
 167              		.loc 1 155 3 view .LVU26
 168 0036 0F4B     		ldr	r3, .L15+12
 169 0038 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 170 003a FFF7FEFF 		bl	HAL_Delay
 171              	.LVL12:
 156:Core/Src/main.c **** 
 157:Core/Src/main.c ****   for(unsigned int k=0; k<3; k++)
 172              		.loc 1 157 3 view .LVU27
 173              	.LBB5:
 174              		.loc 1 157 7 view .LVU28
 175              		.loc 1 157 20 is_stmt 0 view .LVU29
 176 003e 0024     		movs	r4, #0
 177              	.LVL13:
 178              		.loc 1 157 3 view .LVU30
 179 0040 09E0     		b	.L12
 180              	.LVL14:
 181              	.L13:
 158:Core/Src/main.c ****     HAL_GPIO_WritePin(RGB_GPIO_Banks[k], RGB_GPIO_Pins[k], 0);
 182              		.loc 1 158 5 is_stmt 1 view .LVU31
 183 0042 0022     		movs	r2, #0
 184 0044 094B     		ldr	r3, .L15+4
 185 0046 33F81410 		ldrh	r1, [r3, r4, lsl #1]
 186 004a 094B     		ldr	r3, .L15+8
 187 004c 53F82400 		ldr	r0, [r3, r4, lsl #2]
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 7


 188 0050 FFF7FEFF 		bl	HAL_GPIO_WritePin
 189              	.LVL15:
 157:Core/Src/main.c ****     HAL_GPIO_WritePin(RGB_GPIO_Banks[k], RGB_GPIO_Pins[k], 0);
 190              		.loc 1 157 31 discriminator 3 view .LVU32
 191 0054 0134     		adds	r4, r4, #1
 192              	.LVL16:
 193              	.L12:
 157:Core/Src/main.c ****     HAL_GPIO_WritePin(RGB_GPIO_Banks[k], RGB_GPIO_Pins[k], 0);
 194              		.loc 1 157 26 discriminator 1 view .LVU33
 195 0056 022C     		cmp	r4, #2
 196 0058 F3D9     		bls	.L13
 197              	.LBE5:
 159:Core/Src/main.c ****   HAL_Delay(T);
 198              		.loc 1 159 3 view .LVU34
 199 005a 064B     		ldr	r3, .L15+12
 200 005c 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 201 005e FFF7FEFF 		bl	HAL_Delay
 202              	.LVL17:
 160:Core/Src/main.c **** }
 203              		.loc 1 160 1 is_stmt 0 view .LVU35
 204 0062 02B0     		add	sp, sp, #8
 205              	.LCFI6:
 206              		.cfi_def_cfa_offset 8
 207              		@ sp needed
 208 0064 10BD     		pop	{r4, pc}
 209              	.LVL18:
 210              	.L16:
 211              		.loc 1 160 1 view .LVU36
 212 0066 00BF     		.align	2
 213              	.L15:
 214 0068 00000000 		.word	.LANCHOR0
 215 006c 00000000 		.word	RGB_GPIO_Pins
 216 0070 00000000 		.word	RGB_GPIO_Banks
 217 0074 00000000 		.word	T
 218              		.cfi_endproc
 219              	.LFE70:
 221              		.section	.text.dash,"ax",%progbits
 222              		.align	1
 223              		.global	dash
 224              		.syntax unified
 225              		.thumb
 226              		.thumb_func
 228              	dash:
 229              	.LFB71:
 161:Core/Src/main.c **** 
 162:Core/Src/main.c **** void dash() {
 230              		.loc 1 162 13 is_stmt 1 view -0
 231              		.cfi_startproc
 232              		@ args = 0, pretend = 0, frame = 8
 233              		@ frame_needed = 0, uses_anonymous_args = 0
 234 0000 10B5     		push	{r4, lr}
 235              	.LCFI7:
 236              		.cfi_def_cfa_offset 8
 237              		.cfi_offset 4, -8
 238              		.cfi_offset 14, -4
 239 0002 82B0     		sub	sp, sp, #8
 240              	.LCFI8:
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 8


 241              		.cfi_def_cfa_offset 16
 163:Core/Src/main.c ****   uint8_t dash_Color[] = {0, 1, 0};
 242              		.loc 1 163 3 view .LVU38
 243              		.loc 1 163 11 is_stmt 0 view .LVU39
 244 0004 194B     		ldr	r3, .L23
 245 0006 5B68     		ldr	r3, [r3, #4]
 246 0008 ADF80430 		strh	r3, [sp, #4]	@ movhi
 247 000c 1B0C     		lsrs	r3, r3, #16
 248 000e 8DF80630 		strb	r3, [sp, #6]
 164:Core/Src/main.c **** 
 165:Core/Src/main.c ****   for(unsigned int k=0; k<3; k++)
 249              		.loc 1 165 3 is_stmt 1 view .LVU40
 250              	.LBB6:
 251              		.loc 1 165 7 view .LVU41
 252              	.LVL19:
 253              		.loc 1 165 20 is_stmt 0 view .LVU42
 254 0012 0024     		movs	r4, #0
 255              		.loc 1 165 3 view .LVU43
 256 0014 0DE0     		b	.L18
 257              	.LVL20:
 258              	.L19:
 166:Core/Src/main.c ****     HAL_GPIO_WritePin(RGB_GPIO_Banks[k], RGB_GPIO_Pins[k], dash_Color[k]);
 259              		.loc 1 166 5 is_stmt 1 view .LVU44
 260              		.loc 1 166 70 is_stmt 0 view .LVU45
 261 0016 04F10803 		add	r3, r4, #8
 262 001a 6B44     		add	r3, sp, r3
 263              		.loc 1 166 5 view .LVU46
 264 001c 13F8042C 		ldrb	r2, [r3, #-4]	@ zero_extendqisi2
 265 0020 134B     		ldr	r3, .L23+4
 266 0022 33F81410 		ldrh	r1, [r3, r4, lsl #1]
 267 0026 134B     		ldr	r3, .L23+8
 268 0028 53F82400 		ldr	r0, [r3, r4, lsl #2]
 269 002c FFF7FEFF 		bl	HAL_GPIO_WritePin
 270              	.LVL21:
 165:Core/Src/main.c ****     HAL_GPIO_WritePin(RGB_GPIO_Banks[k], RGB_GPIO_Pins[k], dash_Color[k]);
 271              		.loc 1 165 31 is_stmt 1 discriminator 3 view .LVU47
 272 0030 0134     		adds	r4, r4, #1
 273              	.LVL22:
 274              	.L18:
 165:Core/Src/main.c ****     HAL_GPIO_WritePin(RGB_GPIO_Banks[k], RGB_GPIO_Pins[k], dash_Color[k]);
 275              		.loc 1 165 26 discriminator 1 view .LVU48
 276 0032 022C     		cmp	r4, #2
 277 0034 EFD9     		bls	.L19
 278              	.LBE6:
 167:Core/Src/main.c ****   HAL_Delay(3*T);
 279              		.loc 1 167 3 view .LVU49
 280              		.loc 1 167 14 is_stmt 0 view .LVU50
 281 0036 104B     		ldr	r3, .L23+12
 282 0038 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 283              		.loc 1 167 3 view .LVU51
 284 003a 00EB4000 		add	r0, r0, r0, lsl #1
 285 003e FFF7FEFF 		bl	HAL_Delay
 286              	.LVL23:
 168:Core/Src/main.c **** 
 169:Core/Src/main.c ****   for(unsigned int k=0; k<3; k++)
 287              		.loc 1 169 3 is_stmt 1 view .LVU52
 288              	.LBB7:
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 9


 289              		.loc 1 169 7 view .LVU53
 290              		.loc 1 169 20 is_stmt 0 view .LVU54
 291 0042 0024     		movs	r4, #0
 292              	.LVL24:
 293              		.loc 1 169 3 view .LVU55
 294 0044 09E0     		b	.L20
 295              	.LVL25:
 296              	.L21:
 170:Core/Src/main.c ****     HAL_GPIO_WritePin(RGB_GPIO_Banks[k], RGB_GPIO_Pins[k], 0);
 297              		.loc 1 170 5 is_stmt 1 view .LVU56
 298 0046 0022     		movs	r2, #0
 299 0048 094B     		ldr	r3, .L23+4
 300 004a 33F81410 		ldrh	r1, [r3, r4, lsl #1]
 301 004e 094B     		ldr	r3, .L23+8
 302 0050 53F82400 		ldr	r0, [r3, r4, lsl #2]
 303 0054 FFF7FEFF 		bl	HAL_GPIO_WritePin
 304              	.LVL26:
 169:Core/Src/main.c ****     HAL_GPIO_WritePin(RGB_GPIO_Banks[k], RGB_GPIO_Pins[k], 0);
 305              		.loc 1 169 31 discriminator 3 view .LVU57
 306 0058 0134     		adds	r4, r4, #1
 307              	.LVL27:
 308              	.L20:
 169:Core/Src/main.c ****     HAL_GPIO_WritePin(RGB_GPIO_Banks[k], RGB_GPIO_Pins[k], 0);
 309              		.loc 1 169 26 discriminator 1 view .LVU58
 310 005a 022C     		cmp	r4, #2
 311 005c F3D9     		bls	.L21
 312              	.LBE7:
 171:Core/Src/main.c ****   HAL_Delay(T);
 313              		.loc 1 171 3 view .LVU59
 314 005e 064B     		ldr	r3, .L23+12
 315 0060 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 316 0062 FFF7FEFF 		bl	HAL_Delay
 317              	.LVL28:
 172:Core/Src/main.c **** }
 318              		.loc 1 172 1 is_stmt 0 view .LVU60
 319 0066 02B0     		add	sp, sp, #8
 320              	.LCFI9:
 321              		.cfi_def_cfa_offset 8
 322              		@ sp needed
 323 0068 10BD     		pop	{r4, pc}
 324              	.LVL29:
 325              	.L24:
 326              		.loc 1 172 1 view .LVU61
 327 006a 00BF     		.align	2
 328              	.L23:
 329 006c 00000000 		.word	.LANCHOR0
 330 0070 00000000 		.word	RGB_GPIO_Pins
 331 0074 00000000 		.word	RGB_GPIO_Banks
 332 0078 00000000 		.word	T
 333              		.cfi_endproc
 334              	.LFE71:
 336              		.section	.rodata.morse_Send.str1.4,"aMS",%progbits,1
 337              		.align	2
 338              	.LC4:
 339 0000 0D0A0D0A 		.ascii	"\015\012\015\012[ SENDING MESSAGE ]\015\000"
 339      5B205345 
 339      4E44494E 
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 10


 339      47204D45 
 339      53534147 
 340 0019 000000   		.align	2
 341              	.LC5:
 342 001c 0D00     		.ascii	"\015\000"
 343              		.section	.text.morse_Send,"ax",%progbits
 344              		.align	1
 345              		.global	morse_Send
 346              		.syntax unified
 347              		.thumb
 348              		.thumb_func
 350              	morse_Send:
 351              	.LVL30:
 352              	.LFB72:
 173:Core/Src/main.c **** 
 174:Core/Src/main.c **** void morse_Send(char* msg) {
 353              		.loc 1 174 28 is_stmt 1 view -0
 354              		.cfi_startproc
 355              		@ args = 0, pretend = 0, frame = 0
 356              		@ frame_needed = 0, uses_anonymous_args = 0
 357              		.loc 1 174 28 is_stmt 0 view .LVU63
 358 0000 38B5     		push	{r3, r4, r5, lr}
 359              	.LCFI10:
 360              		.cfi_def_cfa_offset 16
 361              		.cfi_offset 3, -16
 362              		.cfi_offset 4, -12
 363              		.cfi_offset 5, -8
 364              		.cfi_offset 14, -4
 365 0002 0546     		mov	r5, r0
 175:Core/Src/main.c ****   printf("\r\n\r\n[ SENDING MESSAGE ]\r\n");
 366              		.loc 1 175 3 is_stmt 1 view .LVU64
 367 0004 1248     		ldr	r0, .L34
 368              	.LVL31:
 369              		.loc 1 175 3 is_stmt 0 view .LVU65
 370 0006 FFF7FEFF 		bl	puts
 371              	.LVL32:
 176:Core/Src/main.c ****   for(unsigned int j=0; j<strlen(msg); j++) {
 372              		.loc 1 176 3 is_stmt 1 view .LVU66
 373              	.LBB8:
 374              		.loc 1 176 7 view .LVU67
 375              		.loc 1 176 20 is_stmt 0 view .LVU68
 376 000a 0024     		movs	r4, #0
 377              		.loc 1 176 3 view .LVU69
 378 000c 06E0     		b	.L26
 379              	.LVL33:
 380              	.L33:
 177:Core/Src/main.c ****     switch(morse_Msg[j]) {
 178:Core/Src/main.c ****       case '.':
 179:Core/Src/main.c ****         dot();
 381              		.loc 1 179 9 is_stmt 1 view .LVU70
 382 000e FFF7FEFF 		bl	dot
 383              	.LVL34:
 180:Core/Src/main.c ****         break;
 384              		.loc 1 180 9 view .LVU71
 385              	.L29:
 181:Core/Src/main.c ****       case '-':
 182:Core/Src/main.c ****         dash();
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 11


 183:Core/Src/main.c ****         break;
 184:Core/Src/main.c ****       default:
 185:Core/Src/main.c ****         HAL_Delay(3*T);
 186:Core/Src/main.c ****     }
 187:Core/Src/main.c ****     printf("%c", morse_Msg[j]);
 386              		.loc 1 187 5 view .LVU72
 387 0012 104B     		ldr	r3, .L34+4
 388 0014 185D     		ldrb	r0, [r3, r4]	@ zero_extendqisi2
 389 0016 FFF7FEFF 		bl	putchar
 390              	.LVL35:
 176:Core/Src/main.c ****     switch(morse_Msg[j]) {
 391              		.loc 1 176 41 discriminator 2 view .LVU73
 392 001a 0134     		adds	r4, r4, #1
 393              	.LVL36:
 394              	.L26:
 176:Core/Src/main.c ****     switch(morse_Msg[j]) {
 395              		.loc 1 176 26 discriminator 1 view .LVU74
 176:Core/Src/main.c ****     switch(morse_Msg[j]) {
 396              		.loc 1 176 27 is_stmt 0 discriminator 1 view .LVU75
 397 001c 2846     		mov	r0, r5
 398 001e FFF7FEFF 		bl	strlen
 399              	.LVL37:
 176:Core/Src/main.c ****     switch(morse_Msg[j]) {
 400              		.loc 1 176 26 discriminator 1 view .LVU76
 401 0022 A042     		cmp	r0, r4
 402 0024 0FD9     		bls	.L32
 177:Core/Src/main.c ****       case '.':
 403              		.loc 1 177 5 is_stmt 1 view .LVU77
 177:Core/Src/main.c ****       case '.':
 404              		.loc 1 177 21 is_stmt 0 view .LVU78
 405 0026 0B4B     		ldr	r3, .L34+4
 406 0028 1B5D     		ldrb	r3, [r3, r4]	@ zero_extendqisi2
 177:Core/Src/main.c ****       case '.':
 407              		.loc 1 177 5 view .LVU79
 408 002a 2D2B     		cmp	r3, #45
 409 002c 08D0     		beq	.L27
 410 002e 2E2B     		cmp	r3, #46
 411 0030 EDD0     		beq	.L33
 185:Core/Src/main.c ****     }
 412              		.loc 1 185 9 is_stmt 1 view .LVU80
 185:Core/Src/main.c ****     }
 413              		.loc 1 185 20 is_stmt 0 view .LVU81
 414 0032 094B     		ldr	r3, .L34+8
 415 0034 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 185:Core/Src/main.c ****     }
 416              		.loc 1 185 9 view .LVU82
 417 0036 00EB4000 		add	r0, r0, r0, lsl #1
 418 003a FFF7FEFF 		bl	HAL_Delay
 419              	.LVL38:
 420 003e E8E7     		b	.L29
 421              	.L27:
 182:Core/Src/main.c ****         break;
 422              		.loc 1 182 9 is_stmt 1 view .LVU83
 423 0040 FFF7FEFF 		bl	dash
 424              	.LVL39:
 183:Core/Src/main.c ****       default:
 425              		.loc 1 183 9 view .LVU84
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 12


 426 0044 E5E7     		b	.L29
 427              	.L32:
 428              	.LBE8:
 188:Core/Src/main.c ****   }
 189:Core/Src/main.c ****   printf("\r\n");
 429              		.loc 1 189 3 view .LVU85
 430 0046 0548     		ldr	r0, .L34+12
 431 0048 FFF7FEFF 		bl	puts
 432              	.LVL40:
 190:Core/Src/main.c **** }
 433              		.loc 1 190 1 is_stmt 0 view .LVU86
 434 004c 38BD     		pop	{r3, r4, r5, pc}
 435              	.LVL41:
 436              	.L35:
 437              		.loc 1 190 1 view .LVU87
 438 004e 00BF     		.align	2
 439              	.L34:
 440 0050 00000000 		.word	.LC4
 441 0054 00000000 		.word	morse_Msg
 442 0058 00000000 		.word	T
 443 005c 1C000000 		.word	.LC5
 444              		.cfi_endproc
 445              	.LFE72:
 447              		.section	.rodata.morse_Trigger.str1.4,"aMS",%progbits,1
 448              		.align	2
 449              	.LC7:
 450 0000 53776974 		.ascii	"Switched to mode %c\015\012\000"
 450      63686564 
 450      20746F20 
 450      6D6F6465 
 450      2025630D 
 451 0016 0000     		.align	2
 452              	.LC6:
 453 0018 6D6F7273 		.ascii	"morse\000"
 453      6500
 454              		.section	.text.morse_Trigger,"ax",%progbits
 455              		.align	1
 456              		.global	morse_Trigger
 457              		.syntax unified
 458              		.thumb
 459              		.thumb_func
 461              	morse_Trigger:
 462              	.LVL42:
 463              	.LFB73:
 191:Core/Src/main.c **** 
 192:Core/Src/main.c **** void morse_Trigger(char c) {
 464              		.loc 1 192 28 is_stmt 1 view -0
 465              		.cfi_startproc
 466              		@ args = 0, pretend = 0, frame = 8
 467              		@ frame_needed = 0, uses_anonymous_args = 0
 468              		.loc 1 192 28 is_stmt 0 view .LVU89
 469 0000 30B5     		push	{r4, r5, lr}
 470              	.LCFI11:
 471              		.cfi_def_cfa_offset 12
 472              		.cfi_offset 4, -12
 473              		.cfi_offset 5, -8
 474              		.cfi_offset 14, -4
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 13


 475 0002 83B0     		sub	sp, sp, #12
 476              	.LCFI12:
 477              		.cfi_def_cfa_offset 24
 478 0004 0446     		mov	r4, r0
 193:Core/Src/main.c ****   char s[] = "morse";
 479              		.loc 1 193 3 is_stmt 1 view .LVU90
 480              		.loc 1 193 8 is_stmt 0 view .LVU91
 481 0006 204B     		ldr	r3, .L46
 482 0008 93E80300 		ldm	r3, {r0, r1}
 483              	.LVL43:
 484              		.loc 1 193 8 view .LVU92
 485 000c 0090     		str	r0, [sp]
 486 000e ADF80410 		strh	r1, [sp, #4]	@ movhi
 194:Core/Src/main.c ****   static unsigned int i = 0;
 487              		.loc 1 194 3 is_stmt 1 view .LVU93
 195:Core/Src/main.c **** 
 196:Core/Src/main.c ****   if(c == 'A' || c == 'B' || c == 'C') {
 488              		.loc 1 196 3 view .LVU94
 489              		.loc 1 196 27 is_stmt 0 view .LVU95
 490 0012 A4F14103 		sub	r3, r4, #65
 491 0016 DBB2     		uxtb	r3, r3
 492              		.loc 1 196 5 view .LVU96
 493 0018 022B     		cmp	r3, #2
 494 001a 14D9     		bls	.L43
 197:Core/Src/main.c ****     current_Mode = c - 'A';  // Set mode 0, 1 or 2
 198:Core/Src/main.c ****     memcpy(color_PWM, color_PWM_Set[current_Mode], sizeof(color_PWM));
 199:Core/Src/main.c ****     strcpy(morse_Msg, morse_Messages[current_Mode]);
 200:Core/Src/main.c ****     printf("Switched to mode %c\r\n", c);
 201:Core/Src/main.c ****     return;
 202:Core/Src/main.c ****   }
 203:Core/Src/main.c **** 
 204:Core/Src/main.c ****   if(c == s[i])
 495              		.loc 1 204 3 is_stmt 1 view .LVU97
 496              		.loc 1 204 12 is_stmt 0 view .LVU98
 497 001c 1B4B     		ldr	r3, .L46+4
 498 001e 1B68     		ldr	r3, [r3]
 499 0020 03F10802 		add	r2, r3, #8
 500 0024 6A44     		add	r2, sp, r2
 501 0026 12F8082C 		ldrb	r2, [r2, #-8]	@ zero_extendqisi2
 502              		.loc 1 204 5 view .LVU99
 503 002a A242     		cmp	r2, r4
 504 002c 20D0     		beq	.L44
 205:Core/Src/main.c ****     i++;
 206:Core/Src/main.c ****   else
 207:Core/Src/main.c ****     i = 0;
 505              		.loc 1 207 5 is_stmt 1 view .LVU100
 506              		.loc 1 207 7 is_stmt 0 view .LVU101
 507 002e 174B     		ldr	r3, .L46+4
 508 0030 0022     		movs	r2, #0
 509 0032 1A60     		str	r2, [r3]
 510              	.L40:
 208:Core/Src/main.c ****   
 209:Core/Src/main.c ****   if(!s[i]) {
 511              		.loc 1 209 3 is_stmt 1 view .LVU102
 512              		.loc 1 209 8 is_stmt 0 view .LVU103
 513 0034 154B     		ldr	r3, .L46+4
 514 0036 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 14


 515 0038 0833     		adds	r3, r3, #8
 516 003a 6B44     		add	r3, sp, r3
 517 003c 13F8083C 		ldrb	r3, [r3, #-8]	@ zero_extendqisi2
 518              		.loc 1 209 5 view .LVU104
 519 0040 D3B1     		cbz	r3, .L45
 520              	.L36:
 210:Core/Src/main.c ****     i = 0;
 211:Core/Src/main.c ****     morse_Send(morse_Msg);
 212:Core/Src/main.c ****   }
 213:Core/Src/main.c **** }
 521              		.loc 1 213 1 view .LVU105
 522 0042 03B0     		add	sp, sp, #12
 523              	.LCFI13:
 524              		.cfi_remember_state
 525              		.cfi_def_cfa_offset 12
 526              		@ sp needed
 527 0044 30BD     		pop	{r4, r5, pc}
 528              	.LVL44:
 529              	.L43:
 530              	.LCFI14:
 531              		.cfi_restore_state
 197:Core/Src/main.c ****     memcpy(color_PWM, color_PWM_Set[current_Mode], sizeof(color_PWM));
 532              		.loc 1 197 5 is_stmt 1 view .LVU106
 197:Core/Src/main.c ****     memcpy(color_PWM, color_PWM_Set[current_Mode], sizeof(color_PWM));
 533              		.loc 1 197 18 is_stmt 0 view .LVU107
 534 0046 124A     		ldr	r2, .L46+8
 535 0048 1370     		strb	r3, [r2]
 198:Core/Src/main.c ****     strcpy(morse_Msg, morse_Messages[current_Mode]);
 536              		.loc 1 198 5 is_stmt 1 view .LVU108
 198:Core/Src/main.c ****     strcpy(morse_Msg, morse_Messages[current_Mode]);
 537              		.loc 1 198 36 is_stmt 0 view .LVU109
 538 004a 124A     		ldr	r2, .L46+12
 539 004c 52F82320 		ldr	r2, [r2, r3, lsl #2]
 198:Core/Src/main.c ****     strcpy(morse_Msg, morse_Messages[current_Mode]);
 540              		.loc 1 198 5 view .LVU110
 541 0050 114D     		ldr	r5, .L46+16
 542 0052 1068     		ldr	r0, [r2]	@ unaligned
 543 0054 5168     		ldr	r1, [r2, #4]	@ unaligned
 544 0056 9268     		ldr	r2, [r2, #8]	@ unaligned
 545 0058 07C5     		stmia	r5!, {r0, r1, r2}
 199:Core/Src/main.c ****     printf("Switched to mode %c\r\n", c);
 546              		.loc 1 199 5 is_stmt 1 view .LVU111
 547 005a 104A     		ldr	r2, .L46+20
 548 005c 52F82310 		ldr	r1, [r2, r3, lsl #2]
 549 0060 0F48     		ldr	r0, .L46+24
 550 0062 FFF7FEFF 		bl	strcpy
 551              	.LVL45:
 200:Core/Src/main.c ****     return;
 552              		.loc 1 200 5 view .LVU112
 553 0066 2146     		mov	r1, r4
 554 0068 0E48     		ldr	r0, .L46+28
 555 006a FFF7FEFF 		bl	printf
 556              	.LVL46:
 201:Core/Src/main.c ****   }
 557              		.loc 1 201 5 view .LVU113
 558 006e E8E7     		b	.L36
 559              	.L44:
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 15


 205:Core/Src/main.c ****   else
 560              		.loc 1 205 5 view .LVU114
 205:Core/Src/main.c ****   else
 561              		.loc 1 205 6 is_stmt 0 view .LVU115
 562 0070 0133     		adds	r3, r3, #1
 563 0072 064A     		ldr	r2, .L46+4
 564 0074 1360     		str	r3, [r2]
 565 0076 DDE7     		b	.L40
 566              	.L45:
 210:Core/Src/main.c ****     morse_Send(morse_Msg);
 567              		.loc 1 210 5 is_stmt 1 view .LVU116
 210:Core/Src/main.c ****     morse_Send(morse_Msg);
 568              		.loc 1 210 7 is_stmt 0 view .LVU117
 569 0078 044B     		ldr	r3, .L46+4
 570 007a 0022     		movs	r2, #0
 571 007c 1A60     		str	r2, [r3]
 211:Core/Src/main.c ****   }
 572              		.loc 1 211 5 is_stmt 1 view .LVU118
 573 007e 0848     		ldr	r0, .L46+24
 574 0080 FFF7FEFF 		bl	morse_Send
 575              	.LVL47:
 576 0084 DDE7     		b	.L36
 577              	.L47:
 578 0086 00BF     		.align	2
 579              	.L46:
 580 0088 18000000 		.word	.LC6
 581 008c 00000000 		.word	i.2
 582 0090 00000000 		.word	current_Mode
 583 0094 00000000 		.word	color_PWM_Set
 584 0098 00000000 		.word	color_PWM
 585 009c 00000000 		.word	morse_Messages
 586 00a0 00000000 		.word	morse_Msg
 587 00a4 00000000 		.word	.LC7
 588              		.cfi_endproc
 589              	.LFE73:
 591              		.section	.rodata.HAL_UART_RxCpltCallback.str1.4,"aMS",%progbits,1
 592              		.align	2
 593              	.LC8:
 594 0000 4361626C 		.ascii	"Cable Test Mode\000"
 594      65205465 
 594      7374204D 
 594      6F646500 
 595              		.align	2
 596              	.LC9:
 597 0010 52474220 		.ascii	"RGB Mode\000"
 597      4D6F6465 
 597      00
 598 0019 000000   		.align	2
 599              	.LC10:
 600 001c 436F6465 		.ascii	"Code Version %d.%d\015\012\000"
 600      20566572 
 600      73696F6E 
 600      2025642E 
 600      25640D0A 
 601              		.section	.text.HAL_UART_RxCpltCallback,"ax",%progbits
 602              		.align	1
 603              		.global	HAL_UART_RxCpltCallback
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 16


 604              		.syntax unified
 605              		.thumb
 606              		.thumb_func
 608              	HAL_UART_RxCpltCallback:
 609              	.LVL48:
 610              	.LFB74:
 214:Core/Src/main.c **** 
 215:Core/Src/main.c **** 
 216:Core/Src/main.c **** /* Callback function for UART RX Complete: process incoming character */
 217:Core/Src/main.c **** void HAL_UART_RxCpltCallback(UART_HandleTypeDef *huart)
 218:Core/Src/main.c **** {
 611              		.loc 1 218 1 view -0
 612              		.cfi_startproc
 613              		@ args = 0, pretend = 0, frame = 0
 614              		@ frame_needed = 0, uses_anonymous_args = 0
 615              		.loc 1 218 1 is_stmt 0 view .LVU120
 616 0000 10B5     		push	{r4, lr}
 617              	.LCFI15:
 618              		.cfi_def_cfa_offset 8
 619              		.cfi_offset 4, -8
 620              		.cfi_offset 14, -4
 219:Core/Src/main.c ****   if(uart_buf[0] == 'T') { // Toggle test mode
 621              		.loc 1 219 3 is_stmt 1 view .LVU121
 622              		.loc 1 219 14 is_stmt 0 view .LVU122
 623 0002 0F4B     		ldr	r3, .L55
 624 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 625              		.loc 1 219 5 view .LVU123
 626 0006 542B     		cmp	r3, #84
 627 0008 0AD0     		beq	.L54
 220:Core/Src/main.c ****     test_mode = !test_mode;
 221:Core/Src/main.c ****     HD44780_Clear();
 222:Core/Src/main.c ****     HD44780_PrintStr(test_mode ? "Cable Test Mode" : "RGB Mode");
 223:Core/Src/main.c ****   }
 224:Core/Src/main.c ****   else
 225:Core/Src/main.c ****     printf("Code Version %d.%d\r\n",SW_VERSION/10, SW_VERSION%10);
 628              		.loc 1 225 5 is_stmt 1 view .LVU124
 629 000a 0122     		movs	r2, #1
 630 000c 1146     		mov	r1, r2
 631 000e 0D48     		ldr	r0, .L55+4
 632              	.LVL49:
 633              		.loc 1 225 5 is_stmt 0 view .LVU125
 634 0010 FFF7FEFF 		bl	printf
 635              	.LVL50:
 636              	.L51:
 226:Core/Src/main.c ****   
 227:Core/Src/main.c ****   HAL_UART_Receive_IT(&huart1, uart_buf, 1); // reactivate interrupt for next char
 637              		.loc 1 227 3 is_stmt 1 view .LVU126
 638 0014 0122     		movs	r2, #1
 639 0016 0A49     		ldr	r1, .L55
 640 0018 0B48     		ldr	r0, .L55+8
 641 001a FFF7FEFF 		bl	HAL_UART_Receive_IT
 642              	.LVL51:
 228:Core/Src/main.c **** }
 643              		.loc 1 228 1 is_stmt 0 view .LVU127
 644 001e 10BD     		pop	{r4, pc}
 645              	.LVL52:
 646              	.L54:
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 17


 220:Core/Src/main.c ****     test_mode = !test_mode;
 647              		.loc 1 220 5 is_stmt 1 view .LVU128
 220:Core/Src/main.c ****     test_mode = !test_mode;
 648              		.loc 1 220 17 is_stmt 0 view .LVU129
 649 0020 0A4C     		ldr	r4, .L55+12
 650 0022 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 651 0024 B3FA83F3 		clz	r3, r3
 652 0028 5B09     		lsrs	r3, r3, #5
 220:Core/Src/main.c ****     test_mode = !test_mode;
 653              		.loc 1 220 15 view .LVU130
 654 002a 2370     		strb	r3, [r4]
 221:Core/Src/main.c ****     HD44780_PrintStr(test_mode ? "Cable Test Mode" : "RGB Mode");
 655              		.loc 1 221 5 is_stmt 1 view .LVU131
 656 002c FFF7FEFF 		bl	HD44780_Clear
 657              	.LVL53:
 222:Core/Src/main.c ****   }
 658              		.loc 1 222 5 view .LVU132
 222:Core/Src/main.c ****   }
 659              		.loc 1 222 32 is_stmt 0 view .LVU133
 660 0030 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 222:Core/Src/main.c ****   }
 661              		.loc 1 222 5 view .LVU134
 662 0032 1BB1     		cbz	r3, .L52
 222:Core/Src/main.c ****   }
 663              		.loc 1 222 5 discriminator 1 view .LVU135
 664 0034 0648     		ldr	r0, .L55+16
 665              	.L50:
 222:Core/Src/main.c ****   }
 666              		.loc 1 222 5 discriminator 4 view .LVU136
 667 0036 FFF7FEFF 		bl	HD44780_PrintStr
 668              	.LVL54:
 669 003a EBE7     		b	.L51
 670              	.L52:
 222:Core/Src/main.c ****   }
 671              		.loc 1 222 5 discriminator 2 view .LVU137
 672 003c 0548     		ldr	r0, .L55+20
 673 003e FAE7     		b	.L50
 674              	.L56:
 675              		.align	2
 676              	.L55:
 677 0040 00000000 		.word	uart_buf
 678 0044 1C000000 		.word	.LC10
 679 0048 00000000 		.word	huart1
 680 004c 00000000 		.word	test_mode
 681 0050 00000000 		.word	.LC8
 682 0054 10000000 		.word	.LC9
 683              		.cfi_endproc
 684              	.LFE74:
 686              		.section	.text.HAL_TIM_PeriodElapsedCallback,"ax",%progbits
 687              		.align	1
 688              		.global	HAL_TIM_PeriodElapsedCallback
 689              		.syntax unified
 690              		.thumb
 691              		.thumb_func
 693              	HAL_TIM_PeriodElapsedCallback:
 694              	.LVL55:
 695              	.LFB75:
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 18


 229:Core/Src/main.c **** 
 230:Core/Src/main.c **** /* Callback function for TIM2 period elapsed */
 231:Core/Src/main.c **** void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim2)
 232:Core/Src/main.c **** {
 696              		.loc 1 232 1 is_stmt 1 view -0
 697              		.cfi_startproc
 698              		@ args = 0, pretend = 0, frame = 0
 699              		@ frame_needed = 0, uses_anonymous_args = 0
 700              		.loc 1 232 1 is_stmt 0 view .LVU139
 701 0000 10B5     		push	{r4, lr}
 702              	.LCFI16:
 703              		.cfi_def_cfa_offset 8
 704              		.cfi_offset 4, -8
 705              		.cfi_offset 14, -4
 233:Core/Src/main.c ****   if(ticks++ == 100) {    // 100 timer2 ticks = one hundredth of a second! This is fitting for 100H
 706              		.loc 1 233 3 is_stmt 1 view .LVU140
 707              		.loc 1 233 11 is_stmt 0 view .LVU141
 708 0002 1D4A     		ldr	r2, .L68
 709 0004 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 710 0006 591C     		adds	r1, r3, #1
 711 0008 1170     		strb	r1, [r2]
 712              		.loc 1 233 5 view .LVU142
 713 000a 642B     		cmp	r3, #100
 714 000c 01D0     		beq	.L66
 715              	.LVL56:
 716              	.L58:
 717              	.LBB9:
 234:Core/Src/main.c ****     ticks=0;   // reset
 235:Core/Src/main.c ****     for(unsigned int i=0; i<3; i++)
 718              		.loc 1 235 22 view .LVU143
 719 000e 0024     		movs	r4, #0
 720 0010 19E0     		b	.L62
 721              	.LVL57:
 722              	.L66:
 723              		.loc 1 235 22 view .LVU144
 724              	.LBE9:
 234:Core/Src/main.c ****     ticks=0;   // reset
 725              		.loc 1 234 5 is_stmt 1 view .LVU145
 234:Core/Src/main.c ****     ticks=0;   // reset
 726              		.loc 1 234 10 is_stmt 0 view .LVU146
 727 0012 0024     		movs	r4, #0
 728 0014 1470     		strb	r4, [r2]
 729              		.loc 1 235 5 is_stmt 1 view .LVU147
 730              	.LBB10:
 731              		.loc 1 235 9 view .LVU148
 732              	.LVL58:
 733              		.loc 1 235 5 is_stmt 0 view .LVU149
 734 0016 00E0     		b	.L59
 735              	.LVL59:
 736              	.L60:
 737              		.loc 1 235 33 is_stmt 1 discriminator 2 view .LVU150
 738 0018 0134     		adds	r4, r4, #1
 739              	.LVL60:
 740              	.L59:
 741              		.loc 1 235 28 discriminator 1 view .LVU151
 742 001a 022C     		cmp	r4, #2
 743 001c F7D8     		bhi	.L58
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 19


 236:Core/Src/main.c ****       if(color_PWM[SM_State][i])
 744              		.loc 1 236 7 view .LVU152
 745              		.loc 1 236 29 is_stmt 0 view .LVU153
 746 001e 174B     		ldr	r3, .L68+4
 747 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 748 0022 03EB4303 		add	r3, r3, r3, lsl #1
 749 0026 164A     		ldr	r2, .L68+8
 750 0028 1344     		add	r3, r3, r2
 751 002a 1B5D     		ldrb	r3, [r3, r4]	@ zero_extendqisi2
 752              		.loc 1 236 9 view .LVU154
 753 002c 002B     		cmp	r3, #0
 754 002e F3D0     		beq	.L60
 237:Core/Src/main.c ****         HAL_GPIO_WritePin(RGB_GPIO_Banks[i], RGB_GPIO_Pins[i], 1);
 755              		.loc 1 237 9 is_stmt 1 view .LVU155
 756 0030 0122     		movs	r2, #1
 757 0032 144B     		ldr	r3, .L68+12
 758 0034 33F81410 		ldrh	r1, [r3, r4, lsl #1]
 759 0038 134B     		ldr	r3, .L68+16
 760 003a 53F82400 		ldr	r0, [r3, r4, lsl #2]
 761 003e FFF7FEFF 		bl	HAL_GPIO_WritePin
 762              	.LVL61:
 763 0042 E9E7     		b	.L60
 764              	.LVL62:
 765              	.L63:
 766              		.loc 1 237 9 is_stmt 0 view .LVU156
 767              	.LBE10:
 768              	.LBB11:
 238:Core/Src/main.c ****   }
 239:Core/Src/main.c **** 
 240:Core/Src/main.c ****   for(unsigned int i=0; i<3; i++) {
 769              		.loc 1 240 31 is_stmt 1 discriminator 2 view .LVU157
 770 0044 0134     		adds	r4, r4, #1
 771              	.LVL63:
 772              	.L62:
 773              		.loc 1 240 26 discriminator 1 view .LVU158
 774 0046 022C     		cmp	r4, #2
 775 0048 14D8     		bhi	.L67
 241:Core/Src/main.c ****     if(ticks == color_PWM[SM_State][i])
 776              		.loc 1 241 5 view .LVU159
 777              		.loc 1 241 36 is_stmt 0 view .LVU160
 778 004a 0C4B     		ldr	r3, .L68+4
 779 004c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 780 004e 03EB4303 		add	r3, r3, r3, lsl #1
 781 0052 0B4A     		ldr	r2, .L68+8
 782 0054 1344     		add	r3, r3, r2
 783 0056 1A5D     		ldrb	r2, [r3, r4]	@ zero_extendqisi2
 784              		.loc 1 241 14 view .LVU161
 785 0058 074B     		ldr	r3, .L68
 786 005a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 787              		.loc 1 241 7 view .LVU162
 788 005c 9A42     		cmp	r2, r3
 789 005e F1D1     		bne	.L63
 242:Core/Src/main.c ****       HAL_GPIO_WritePin(RGB_GPIO_Banks[i], RGB_GPIO_Pins[i], 0);
 790              		.loc 1 242 7 is_stmt 1 view .LVU163
 791 0060 0022     		movs	r2, #0
 792 0062 084B     		ldr	r3, .L68+12
 793 0064 33F81410 		ldrh	r1, [r3, r4, lsl #1]
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 20


 794 0068 074B     		ldr	r3, .L68+16
 795 006a 53F82400 		ldr	r0, [r3, r4, lsl #2]
 796 006e FFF7FEFF 		bl	HAL_GPIO_WritePin
 797              	.LVL64:
 798 0072 E7E7     		b	.L63
 799              	.L67:
 800              	.LBE11:
 243:Core/Src/main.c ****   }
 244:Core/Src/main.c **** }
 801              		.loc 1 244 1 is_stmt 0 view .LVU164
 802 0074 10BD     		pop	{r4, pc}
 803              	.LVL65:
 804              	.L69:
 805              		.loc 1 244 1 view .LVU165
 806 0076 00BF     		.align	2
 807              	.L68:
 808 0078 00000000 		.word	ticks
 809 007c 00000000 		.word	SM_State
 810 0080 00000000 		.word	color_PWM
 811 0084 00000000 		.word	RGB_GPIO_Pins
 812 0088 00000000 		.word	RGB_GPIO_Banks
 813              		.cfi_endproc
 814              	.LFE75:
 816              		.section	.rodata.show_faulty_pins.str1.4,"aMS",%progbits,1
 817              		.align	2
 818              	.LC11:
 819 0000 25642000 		.ascii	"%d \000"
 820              		.section	.text.show_faulty_pins,"ax",%progbits
 821              		.align	1
 822              		.global	show_faulty_pins
 823              		.syntax unified
 824              		.thumb
 825              		.thumb_func
 827              	show_faulty_pins:
 828              	.LVL66:
 829              	.LFB77:
 245:Core/Src/main.c **** 
 246:Core/Src/main.c **** /* USER CODE BEGIN 0 */
 247:Core/Src/main.c **** 
 248:Core/Src/main.c **** void run_cable_test() {
 249:Core/Src/main.c ****     uint8_t wire_connections[8][8] = {0}; // Connection matrix
 250:Core/Src/main.c ****     uint16_t pa_pins[8] = {GPIO_PIN_1, GPIO_PIN_2, GPIO_PIN_3, GPIO_PIN_4,
 251:Core/Src/main.c ****                           GPIO_PIN_5, GPIO_PIN_6, GPIO_PIN_7, GPIO_PIN_8};
 252:Core/Src/main.c ****     uint16_t pb_pins[8] = {GPIO_PIN_8, GPIO_PIN_9, GPIO_PIN_10, GPIO_PIN_11,
 253:Core/Src/main.c ****                           GPIO_PIN_12, GPIO_PIN_13, GPIO_PIN_14, GPIO_PIN_15};
 254:Core/Src/main.c ****     
 255:Core/Src/main.c ****     // Test all connections
 256:Core/Src/main.c ****     for (uint8_t pa_idx = 0; pa_idx < 8; pa_idx++) {
 257:Core/Src/main.c ****         HAL_GPIO_WritePin(GPIOA, pa_pins[pa_idx], GPIO_PIN_SET);
 258:Core/Src/main.c ****         HAL_Delay(5);
 259:Core/Src/main.c ****         for (uint8_t pb_idx = 0; pb_idx < 8; pb_idx++) {
 260:Core/Src/main.c ****             wire_connections[pa_idx][pb_idx] = 
 261:Core/Src/main.c ****                 HAL_GPIO_ReadPin(GPIOB, pb_pins[pb_idx]) ? 1 : 0;
 262:Core/Src/main.c ****         }
 263:Core/Src/main.c ****         HAL_GPIO_WritePin(GPIOA, pa_pins[pa_idx], GPIO_PIN_RESET);
 264:Core/Src/main.c ****     }
 265:Core/Src/main.c ****     
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 21


 266:Core/Src/main.c ****     // Count total connections
 267:Core/Src/main.c ****     uint8_t total_connections = 0;
 268:Core/Src/main.c ****     for (uint8_t i = 0; i < 8; i++) {
 269:Core/Src/main.c ****         for (uint8_t j = 0; j < 8; j++) {
 270:Core/Src/main.c ****             total_connections += wire_connections[i][j];
 271:Core/Src/main.c ****         }
 272:Core/Src/main.c ****     }
 273:Core/Src/main.c ****     
 274:Core/Src/main.c ****     HD44780_Clear();
 275:Core/Src/main.c ****     HD44780_SetCursor(0, 0);
 276:Core/Src/main.c ****     
 277:Core/Src/main.c ****     if (total_connections == 0) {
 278:Core/Src/main.c ****         HD44780_PrintStr("NO CABLE");
 279:Core/Src/main.c ****         return;
 280:Core/Src/main.c ****     }
 281:Core/Src/main.c ****     
 282:Core/Src/main.c ****     // Check for YOUR crossover pattern: 2<->4 and 7<->8
 283:Core/Src/main.c ****     if ((wire_connections[1][3] && wire_connections[3][1]) && 
 284:Core/Src/main.c ****         (wire_connections[6][7] && wire_connections[7][6])) {
 285:Core/Src/main.c ****         HD44780_PrintStr("CROSSOVER CABLE");
 286:Core/Src/main.c ****         return;
 287:Core/Src/main.c ****     }
 288:Core/Src/main.c ****     
 289:Core/Src/main.c ****     // Check for straight cable
 290:Core/Src/main.c ****     uint8_t straight_connections = 0;
 291:Core/Src/main.c ****     for (uint8_t i = 0; i < 8; i++) {
 292:Core/Src/main.c ****         if (wire_connections[i][i] == 1) {
 293:Core/Src/main.c ****             straight_connections++;
 294:Core/Src/main.c ****         }
 295:Core/Src/main.c ****     }
 296:Core/Src/main.c ****     
 297:Core/Src/main.c ****     if (straight_connections >= 6) {
 298:Core/Src/main.c ****         HD44780_PrintStr("STRAIGHT CABLE");
 299:Core/Src/main.c ****         return;
 300:Core/Src/main.c ****     }
 301:Core/Src/main.c ****     
 302:Core/Src/main.c ****     HD44780_PrintStr("FAULTY CABLE");
 303:Core/Src/main.c ****     show_faulty_pins(wire_connections);
 304:Core/Src/main.c **** }
 305:Core/Src/main.c **** 
 306:Core/Src/main.c **** void show_faulty_pins(uint8_t wire_connections[8][8]) {
 830              		.loc 1 306 55 is_stmt 1 view -0
 831              		.cfi_startproc
 832              		@ args = 0, pretend = 0, frame = 8
 833              		@ frame_needed = 0, uses_anonymous_args = 0
 834              		.loc 1 306 55 is_stmt 0 view .LVU167
 835 0000 30B5     		push	{r4, r5, lr}
 836              	.LCFI17:
 837              		.cfi_def_cfa_offset 12
 838              		.cfi_offset 4, -12
 839              		.cfi_offset 5, -8
 840              		.cfi_offset 14, -4
 841 0002 83B0     		sub	sp, sp, #12
 842              	.LCFI18:
 843              		.cfi_def_cfa_offset 24
 844 0004 0546     		mov	r5, r0
 307:Core/Src/main.c ****     HD44780_SetCursor(0, 1);
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 22


 845              		.loc 1 307 5 is_stmt 1 view .LVU168
 846 0006 0121     		movs	r1, #1
 847 0008 0020     		movs	r0, #0
 848              	.LVL67:
 849              		.loc 1 307 5 is_stmt 0 view .LVU169
 850 000a FFF7FEFF 		bl	HD44780_SetCursor
 851              	.LVL68:
 308:Core/Src/main.c ****     for (uint8_t i = 0; i < 8; i++) {
 852              		.loc 1 308 5 is_stmt 1 view .LVU170
 853              	.LBB12:
 854              		.loc 1 308 10 view .LVU171
 855              		.loc 1 308 18 is_stmt 0 view .LVU172
 856 000e 0024     		movs	r4, #0
 857              		.loc 1 308 5 view .LVU173
 858 0010 0AE0     		b	.L71
 859              	.LVL69:
 860              	.L72:
 861              	.LBB13:
 862              	.LBB14:
 309:Core/Src/main.c ****         uint8_t connected = 0;
 310:Core/Src/main.c ****         for (uint8_t j = 0; j < 8; j++) {
 311:Core/Src/main.c ****             connected |= wire_connections[i][j];
 863              		.loc 1 311 13 is_stmt 1 view .LVU174
 864              		.loc 1 311 42 is_stmt 0 view .LVU175
 865 0012 05EBC401 		add	r1, r5, r4, lsl #3
 866              		.loc 1 311 45 view .LVU176
 867 0016 C95C     		ldrb	r1, [r1, r3]	@ zero_extendqisi2
 868              		.loc 1 311 23 view .LVU177
 869 0018 0A43     		orrs	r2, r2, r1
 870              	.LVL70:
 310:Core/Src/main.c ****             connected |= wire_connections[i][j];
 871              		.loc 1 310 37 is_stmt 1 discriminator 3 view .LVU178
 872 001a 0133     		adds	r3, r3, #1
 873              	.LVL71:
 310:Core/Src/main.c ****             connected |= wire_connections[i][j];
 874              		.loc 1 310 37 is_stmt 0 discriminator 3 view .LVU179
 875 001c DBB2     		uxtb	r3, r3
 876              	.LVL72:
 877              	.L74:
 310:Core/Src/main.c ****             connected |= wire_connections[i][j];
 878              		.loc 1 310 31 is_stmt 1 discriminator 1 view .LVU180
 879 001e 072B     		cmp	r3, #7
 880 0020 F7D9     		bls	.L72
 881              	.LBE14:
 312:Core/Src/main.c ****         }
 313:Core/Src/main.c ****         if (!connected) {
 882              		.loc 1 313 9 view .LVU181
 883              		.loc 1 313 12 is_stmt 0 view .LVU182
 884 0022 32B1     		cbz	r2, .L77
 885              	.LVL73:
 886              	.L73:
 887              		.loc 1 313 12 view .LVU183
 888              	.LBE13:
 308:Core/Src/main.c ****         uint8_t connected = 0;
 889              		.loc 1 308 33 is_stmt 1 discriminator 2 view .LVU184
 890 0024 0134     		adds	r4, r4, #1
 891              	.LVL74:
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 23


 308:Core/Src/main.c ****         uint8_t connected = 0;
 892              		.loc 1 308 33 is_stmt 0 discriminator 2 view .LVU185
 893 0026 E4B2     		uxtb	r4, r4
 894              	.LVL75:
 895              	.L71:
 308:Core/Src/main.c ****         uint8_t connected = 0;
 896              		.loc 1 308 27 is_stmt 1 discriminator 1 view .LVU186
 897 0028 072C     		cmp	r4, #7
 898 002a 0BD8     		bhi	.L78
 899              	.LBB17:
 900              	.LBB15:
 310:Core/Src/main.c ****             connected |= wire_connections[i][j];
 901              		.loc 1 310 22 is_stmt 0 view .LVU187
 902 002c 0023     		movs	r3, #0
 903              	.LBE15:
 309:Core/Src/main.c ****         for (uint8_t j = 0; j < 8; j++) {
 904              		.loc 1 309 17 view .LVU188
 905 002e 1A46     		mov	r2, r3
 906 0030 F5E7     		b	.L74
 907              	.LVL76:
 908              	.L77:
 909              	.LBB16:
 314:Core/Src/main.c ****             char buf[4];
 910              		.loc 1 314 13 is_stmt 1 view .LVU189
 315:Core/Src/main.c ****             sprintf(buf, "%d ", i+1);
 911              		.loc 1 315 13 view .LVU190
 912 0032 621C     		adds	r2, r4, #1
 913              	.LVL77:
 914              		.loc 1 315 13 is_stmt 0 view .LVU191
 915 0034 0449     		ldr	r1, .L79
 916 0036 01A8     		add	r0, sp, #4
 917 0038 FFF7FEFF 		bl	sprintf
 918              	.LVL78:
 316:Core/Src/main.c ****             HD44780_PrintStr(buf);
 919              		.loc 1 316 13 is_stmt 1 view .LVU192
 920 003c 01A8     		add	r0, sp, #4
 921 003e FFF7FEFF 		bl	HD44780_PrintStr
 922              	.LVL79:
 923 0042 EFE7     		b	.L73
 924              	.LVL80:
 925              	.L78:
 926              		.loc 1 316 13 is_stmt 0 view .LVU193
 927              	.LBE16:
 928              	.LBE17:
 929              	.LBE12:
 317:Core/Src/main.c ****         }
 318:Core/Src/main.c ****     }
 319:Core/Src/main.c **** }
 930              		.loc 1 319 1 view .LVU194
 931 0044 03B0     		add	sp, sp, #12
 932              	.LCFI19:
 933              		.cfi_def_cfa_offset 12
 934              		@ sp needed
 935 0046 30BD     		pop	{r4, r5, pc}
 936              	.LVL81:
 937              	.L80:
 938              		.loc 1 319 1 view .LVU195
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 24


 939              		.align	2
 940              	.L79:
 941 0048 00000000 		.word	.LC11
 942              		.cfi_endproc
 943              	.LFE77:
 945              		.section	.rodata.run_cable_test.str1.4,"aMS",%progbits,1
 946              		.align	2
 947              	.LC12:
 948 0000 4E4F2043 		.ascii	"NO CABLE\000"
 948      41424C45 
 948      00
 949 0009 000000   		.align	2
 950              	.LC13:
 951 000c 43524F53 		.ascii	"CROSSOVER CABLE\000"
 951      534F5645 
 951      52204341 
 951      424C4500 
 952              		.align	2
 953              	.LC14:
 954 001c 53545241 		.ascii	"STRAIGHT CABLE\000"
 954      49474854 
 954      20434142 
 954      4C4500
 955 002b 00       		.align	2
 956              	.LC15:
 957 002c 4641554C 		.ascii	"FAULTY CABLE\000"
 957      54592043 
 957      41424C45 
 957      00
 958              		.section	.text.run_cable_test,"ax",%progbits
 959              		.align	1
 960              		.global	run_cable_test
 961              		.syntax unified
 962              		.thumb
 963              		.thumb_func
 965              	run_cable_test:
 966              	.LFB76:
 248:Core/Src/main.c ****     uint8_t wire_connections[8][8] = {0}; // Connection matrix
 967              		.loc 1 248 23 is_stmt 1 view -0
 968              		.cfi_startproc
 969              		@ args = 0, pretend = 0, frame = 96
 970              		@ frame_needed = 0, uses_anonymous_args = 0
 971 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 972              	.LCFI20:
 973              		.cfi_def_cfa_offset 20
 974              		.cfi_offset 4, -20
 975              		.cfi_offset 5, -16
 976              		.cfi_offset 6, -12
 977              		.cfi_offset 7, -8
 978              		.cfi_offset 14, -4
 979 0002 99B0     		sub	sp, sp, #100
 980              	.LCFI21:
 981              		.cfi_def_cfa_offset 120
 249:Core/Src/main.c ****     uint16_t pa_pins[8] = {GPIO_PIN_1, GPIO_PIN_2, GPIO_PIN_3, GPIO_PIN_4,
 982              		.loc 1 249 5 view .LVU197
 249:Core/Src/main.c ****     uint16_t pa_pins[8] = {GPIO_PIN_1, GPIO_PIN_2, GPIO_PIN_3, GPIO_PIN_4,
 983              		.loc 1 249 13 is_stmt 0 view .LVU198
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 25


 984 0004 4022     		movs	r2, #64
 985 0006 0021     		movs	r1, #0
 986 0008 08A8     		add	r0, sp, #32
 987 000a FFF7FEFF 		bl	memset
 988              	.LVL82:
 250:Core/Src/main.c ****                           GPIO_PIN_5, GPIO_PIN_6, GPIO_PIN_7, GPIO_PIN_8};
 989              		.loc 1 250 5 is_stmt 1 view .LVU199
 250:Core/Src/main.c ****                           GPIO_PIN_5, GPIO_PIN_6, GPIO_PIN_7, GPIO_PIN_8};
 990              		.loc 1 250 14 is_stmt 0 view .LVU200
 991 000e 494C     		ldr	r4, .L109
 992 0010 04AD     		add	r5, sp, #16
 993 0012 04F10803 		add	r3, r4, #8
 994 0016 0FCB     		ldm	r3, {r0, r1, r2, r3}
 995 0018 85E80F00 		stm	r5, {r0, r1, r2, r3}
 252:Core/Src/main.c ****                           GPIO_PIN_12, GPIO_PIN_13, GPIO_PIN_14, GPIO_PIN_15};
 996              		.loc 1 252 5 is_stmt 1 view .LVU201
 252:Core/Src/main.c ****                           GPIO_PIN_12, GPIO_PIN_13, GPIO_PIN_14, GPIO_PIN_15};
 997              		.loc 1 252 14 is_stmt 0 view .LVU202
 998 001c 6D46     		mov	r5, sp
 999 001e 04F11803 		add	r3, r4, #24
 1000 0022 0FCB     		ldm	r3, {r0, r1, r2, r3}
 1001 0024 85E80F00 		stm	r5, {r0, r1, r2, r3}
 256:Core/Src/main.c ****         HAL_GPIO_WritePin(GPIOA, pa_pins[pa_idx], GPIO_PIN_SET);
 1002              		.loc 1 256 5 is_stmt 1 view .LVU203
 1003              	.LBB18:
 256:Core/Src/main.c ****         HAL_GPIO_WritePin(GPIOA, pa_pins[pa_idx], GPIO_PIN_SET);
 1004              		.loc 1 256 10 view .LVU204
 1005              	.LVL83:
 256:Core/Src/main.c ****         HAL_GPIO_WritePin(GPIOA, pa_pins[pa_idx], GPIO_PIN_SET);
 1006              		.loc 1 256 18 is_stmt 0 view .LVU205
 1007 0028 0026     		movs	r6, #0
 256:Core/Src/main.c ****         HAL_GPIO_WritePin(GPIOA, pa_pins[pa_idx], GPIO_PIN_SET);
 1008              		.loc 1 256 5 view .LVU206
 1009 002a 1BE0     		b	.L82
 1010              	.LVL84:
 1011              	.L84:
 1012              	.LBB19:
 260:Core/Src/main.c ****                 HAL_GPIO_ReadPin(GPIOB, pb_pins[pb_idx]) ? 1 : 0;
 1013              		.loc 1 260 13 is_stmt 1 view .LVU207
 261:Core/Src/main.c ****         }
 1014              		.loc 1 261 17 is_stmt 0 view .LVU208
 1015 002c 18AB     		add	r3, sp, #96
 1016 002e 03EB4403 		add	r3, r3, r4, lsl #1
 1017 0032 33F8601C 		ldrh	r1, [r3, #-96]
 1018 0036 4048     		ldr	r0, .L109+4
 1019 0038 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 1020              	.LVL85:
 261:Core/Src/main.c ****         }
 1021              		.loc 1 261 62 view .LVU209
 1022 003c 0038     		subs	r0, r0, #0
 1023 003e 18BF     		it	ne
 1024 0040 0120     		movne	r0, #1
 260:Core/Src/main.c ****                 HAL_GPIO_ReadPin(GPIOB, pb_pins[pb_idx]) ? 1 : 0;
 1025              		.loc 1 260 46 view .LVU210
 1026 0042 18AB     		add	r3, sp, #96
 1027 0044 03EBC503 		add	r3, r3, r5, lsl #3
 1028 0048 2344     		add	r3, r3, r4
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 26


 1029 004a 03F8400C 		strb	r0, [r3, #-64]
 259:Core/Src/main.c ****             wire_connections[pa_idx][pb_idx] = 
 1030              		.loc 1 259 52 is_stmt 1 discriminator 3 view .LVU211
 1031 004e 0134     		adds	r4, r4, #1
 1032              	.LVL86:
 259:Core/Src/main.c ****             wire_connections[pa_idx][pb_idx] = 
 1033              		.loc 1 259 52 is_stmt 0 discriminator 3 view .LVU212
 1034 0050 E4B2     		uxtb	r4, r4
 1035              	.LVL87:
 1036              	.L83:
 259:Core/Src/main.c ****             wire_connections[pa_idx][pb_idx] = 
 1037              		.loc 1 259 41 is_stmt 1 discriminator 1 view .LVU213
 1038 0052 072C     		cmp	r4, #7
 1039 0054 EAD9     		bls	.L84
 1040              	.LBE19:
 263:Core/Src/main.c ****     }
 1041              		.loc 1 263 9 view .LVU214
 1042 0056 0022     		movs	r2, #0
 1043 0058 3946     		mov	r1, r7
 1044 005a 3848     		ldr	r0, .L109+8
 1045 005c FFF7FEFF 		bl	HAL_GPIO_WritePin
 1046              	.LVL88:
 256:Core/Src/main.c ****         HAL_GPIO_WritePin(GPIOA, pa_pins[pa_idx], GPIO_PIN_SET);
 1047              		.loc 1 256 48 discriminator 2 view .LVU215
 1048 0060 0136     		adds	r6, r6, #1
 1049              	.LVL89:
 256:Core/Src/main.c ****         HAL_GPIO_WritePin(GPIOA, pa_pins[pa_idx], GPIO_PIN_SET);
 1050              		.loc 1 256 48 is_stmt 0 discriminator 2 view .LVU216
 1051 0062 F6B2     		uxtb	r6, r6
 1052              	.LVL90:
 1053              	.L82:
 256:Core/Src/main.c ****         HAL_GPIO_WritePin(GPIOA, pa_pins[pa_idx], GPIO_PIN_SET);
 1054              		.loc 1 256 37 is_stmt 1 discriminator 1 view .LVU217
 1055 0064 072E     		cmp	r6, #7
 1056 0066 0FD8     		bhi	.L103
 257:Core/Src/main.c ****         HAL_Delay(5);
 1057              		.loc 1 257 9 view .LVU218
 1058 0068 3546     		mov	r5, r6
 1059 006a 18AB     		add	r3, sp, #96
 1060 006c 03EB4603 		add	r3, r3, r6, lsl #1
 1061 0070 33F8507C 		ldrh	r7, [r3, #-80]
 1062 0074 0122     		movs	r2, #1
 1063 0076 3946     		mov	r1, r7
 1064 0078 3048     		ldr	r0, .L109+8
 1065 007a FFF7FEFF 		bl	HAL_GPIO_WritePin
 1066              	.LVL91:
 258:Core/Src/main.c ****         for (uint8_t pb_idx = 0; pb_idx < 8; pb_idx++) {
 1067              		.loc 1 258 9 view .LVU219
 1068 007e 0520     		movs	r0, #5
 1069 0080 FFF7FEFF 		bl	HAL_Delay
 1070              	.LVL92:
 259:Core/Src/main.c ****             wire_connections[pa_idx][pb_idx] = 
 1071              		.loc 1 259 9 view .LVU220
 1072              	.LBB20:
 259:Core/Src/main.c ****             wire_connections[pa_idx][pb_idx] = 
 1073              		.loc 1 259 14 view .LVU221
 259:Core/Src/main.c ****             wire_connections[pa_idx][pb_idx] = 
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 27


 1074              		.loc 1 259 22 is_stmt 0 view .LVU222
 1075 0084 0024     		movs	r4, #0
 259:Core/Src/main.c ****             wire_connections[pa_idx][pb_idx] = 
 1076              		.loc 1 259 9 view .LVU223
 1077 0086 E4E7     		b	.L83
 1078              	.LVL93:
 1079              	.L103:
 259:Core/Src/main.c ****             wire_connections[pa_idx][pb_idx] = 
 1080              		.loc 1 259 9 view .LVU224
 1081              	.LBE20:
 1082              	.LBE18:
 1083              	.LBB21:
 268:Core/Src/main.c ****         for (uint8_t j = 0; j < 8; j++) {
 1084              		.loc 1 268 18 view .LVU225
 1085 0088 0021     		movs	r1, #0
 1086              	.LBE21:
 267:Core/Src/main.c ****     for (uint8_t i = 0; i < 8; i++) {
 1087              		.loc 1 267 13 view .LVU226
 1088 008a 0C46     		mov	r4, r1
 1089 008c 0DE0     		b	.L86
 1090              	.LVL94:
 1091              	.L87:
 1092              	.LBB24:
 1093              	.LBB22:
 270:Core/Src/main.c ****         }
 1094              		.loc 1 270 13 is_stmt 1 view .LVU227
 270:Core/Src/main.c ****         }
 1095              		.loc 1 270 53 is_stmt 0 view .LVU228
 1096 008e 18AA     		add	r2, sp, #96
 1097 0090 02EBC102 		add	r2, r2, r1, lsl #3
 1098 0094 1A44     		add	r2, r2, r3
 1099 0096 12F8402C 		ldrb	r2, [r2, #-64]	@ zero_extendqisi2
 270:Core/Src/main.c ****         }
 1100              		.loc 1 270 31 view .LVU229
 1101 009a 1444     		add	r4, r4, r2
 1102              	.LVL95:
 270:Core/Src/main.c ****         }
 1103              		.loc 1 270 31 view .LVU230
 1104 009c E4B2     		uxtb	r4, r4
 1105              	.LVL96:
 269:Core/Src/main.c ****             total_connections += wire_connections[i][j];
 1106              		.loc 1 269 37 is_stmt 1 discriminator 3 view .LVU231
 1107 009e 0133     		adds	r3, r3, #1
 1108              	.LVL97:
 269:Core/Src/main.c ****             total_connections += wire_connections[i][j];
 1109              		.loc 1 269 37 is_stmt 0 discriminator 3 view .LVU232
 1110 00a0 DBB2     		uxtb	r3, r3
 1111              	.LVL98:
 1112              	.L88:
 269:Core/Src/main.c ****             total_connections += wire_connections[i][j];
 1113              		.loc 1 269 31 is_stmt 1 discriminator 1 view .LVU233
 1114 00a2 072B     		cmp	r3, #7
 1115 00a4 F3D9     		bls	.L87
 269:Core/Src/main.c ****             total_connections += wire_connections[i][j];
 1116              		.loc 1 269 31 is_stmt 0 discriminator 1 view .LVU234
 1117              	.LBE22:
 268:Core/Src/main.c ****         for (uint8_t j = 0; j < 8; j++) {
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 28


 1118              		.loc 1 268 33 is_stmt 1 discriminator 2 view .LVU235
 1119 00a6 0131     		adds	r1, r1, #1
 1120              	.LVL99:
 268:Core/Src/main.c ****         for (uint8_t j = 0; j < 8; j++) {
 1121              		.loc 1 268 33 is_stmt 0 discriminator 2 view .LVU236
 1122 00a8 C9B2     		uxtb	r1, r1
 1123              	.LVL100:
 1124              	.L86:
 268:Core/Src/main.c ****         for (uint8_t j = 0; j < 8; j++) {
 1125              		.loc 1 268 27 is_stmt 1 discriminator 1 view .LVU237
 1126 00aa 0729     		cmp	r1, #7
 1127 00ac 01D8     		bhi	.L104
 1128              	.LBB23:
 269:Core/Src/main.c ****             total_connections += wire_connections[i][j];
 1129              		.loc 1 269 22 is_stmt 0 view .LVU238
 1130 00ae 0023     		movs	r3, #0
 1131 00b0 F7E7     		b	.L88
 1132              	.L104:
 1133              	.LBE23:
 1134              	.LBE24:
 274:Core/Src/main.c ****     HD44780_SetCursor(0, 0);
 1135              		.loc 1 274 5 is_stmt 1 view .LVU239
 1136 00b2 FFF7FEFF 		bl	HD44780_Clear
 1137              	.LVL101:
 275:Core/Src/main.c ****     
 1138              		.loc 1 275 5 view .LVU240
 1139 00b6 0021     		movs	r1, #0
 1140 00b8 0846     		mov	r0, r1
 1141 00ba FFF7FEFF 		bl	HD44780_SetCursor
 1142              	.LVL102:
 277:Core/Src/main.c ****         HD44780_PrintStr("NO CABLE");
 1143              		.loc 1 277 5 view .LVU241
 277:Core/Src/main.c ****         HD44780_PrintStr("NO CABLE");
 1144              		.loc 1 277 8 is_stmt 0 view .LVU242
 1145 00be 6CB1     		cbz	r4, .L105
 283:Core/Src/main.c ****         (wire_connections[6][7] && wire_connections[7][6])) {
 1146              		.loc 1 283 5 is_stmt 1 view .LVU243
 283:Core/Src/main.c ****         (wire_connections[6][7] && wire_connections[7][6])) {
 1147              		.loc 1 283 29 is_stmt 0 view .LVU244
 1148 00c0 9DF82B10 		ldrb	r1, [sp, #43]	@ zero_extendqisi2
 283:Core/Src/main.c ****         (wire_connections[6][7] && wire_connections[7][6])) {
 1149              		.loc 1 283 8 view .LVU245
 1150 00c4 09B3     		cbz	r1, .L98
 283:Core/Src/main.c ****         (wire_connections[6][7] && wire_connections[7][6])) {
 1151              		.loc 1 283 55 discriminator 1 view .LVU246
 1152 00c6 9DF83910 		ldrb	r1, [sp, #57]	@ zero_extendqisi2
 283:Core/Src/main.c ****         (wire_connections[6][7] && wire_connections[7][6])) {
 1153              		.loc 1 283 33 discriminator 1 view .LVU247
 1154 00ca 01B3     		cbz	r1, .L99
 284:Core/Src/main.c ****         HD44780_PrintStr("CROSSOVER CABLE");
 1155              		.loc 1 284 29 view .LVU248
 1156 00cc 9DF85710 		ldrb	r1, [sp, #87]	@ zero_extendqisi2
 283:Core/Src/main.c ****         (wire_connections[6][7] && wire_connections[7][6])) {
 1157              		.loc 1 283 60 discriminator 2 view .LVU249
 1158 00d0 F9B1     		cbz	r1, .L100
 284:Core/Src/main.c ****         HD44780_PrintStr("CROSSOVER CABLE");
 1159              		.loc 1 284 55 view .LVU250
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 29


 1160 00d2 9DF85E10 		ldrb	r1, [sp, #94]	@ zero_extendqisi2
 284:Core/Src/main.c ****         HD44780_PrintStr("CROSSOVER CABLE");
 1161              		.loc 1 284 33 view .LVU251
 1162 00d6 29B9     		cbnz	r1, .L106
 1163 00d8 0B46     		mov	r3, r1
 1164 00da 09E0     		b	.L93
 1165              	.L105:
 278:Core/Src/main.c ****         return;
 1166              		.loc 1 278 9 is_stmt 1 view .LVU252
 1167 00dc 1848     		ldr	r0, .L109+12
 1168 00de FFF7FEFF 		bl	HD44780_PrintStr
 1169              	.LVL103:
 279:Core/Src/main.c ****     }
 1170              		.loc 1 279 9 view .LVU253
 1171 00e2 20E0     		b	.L81
 1172              	.L106:
 285:Core/Src/main.c ****         return;
 1173              		.loc 1 285 9 view .LVU254
 1174 00e4 1748     		ldr	r0, .L109+16
 1175 00e6 FFF7FEFF 		bl	HD44780_PrintStr
 1176              	.LVL104:
 286:Core/Src/main.c ****     }
 1177              		.loc 1 286 9 view .LVU255
 1178 00ea 1CE0     		b	.L81
 1179              	.LVL105:
 1180              	.L92:
 1181              	.LBB25:
 291:Core/Src/main.c ****         if (wire_connections[i][i] == 1) {
 1182              		.loc 1 291 33 discriminator 2 view .LVU256
 1183 00ec 0133     		adds	r3, r3, #1
 1184              	.LVL106:
 291:Core/Src/main.c ****         if (wire_connections[i][i] == 1) {
 1185              		.loc 1 291 33 is_stmt 0 discriminator 2 view .LVU257
 1186 00ee DBB2     		uxtb	r3, r3
 1187              	.LVL107:
 1188              	.L93:
 291:Core/Src/main.c ****         if (wire_connections[i][i] == 1) {
 1189              		.loc 1 291 27 is_stmt 1 discriminator 1 view .LVU258
 1190 00f0 072B     		cmp	r3, #7
 1191 00f2 10D8     		bhi	.L107
 292:Core/Src/main.c ****             straight_connections++;
 1192              		.loc 1 292 9 view .LVU259
 292:Core/Src/main.c ****             straight_connections++;
 1193              		.loc 1 292 32 is_stmt 0 view .LVU260
 1194 00f4 03EBC302 		add	r2, r3, r3, lsl #3
 1195 00f8 6032     		adds	r2, r2, #96
 1196 00fa 6A44     		add	r2, sp, r2
 1197 00fc 12F8402C 		ldrb	r2, [r2, #-64]	@ zero_extendqisi2
 292:Core/Src/main.c ****             straight_connections++;
 1198              		.loc 1 292 12 view .LVU261
 1199 0100 012A     		cmp	r2, #1
 1200 0102 F3D1     		bne	.L92
 293:Core/Src/main.c ****         }
 1201              		.loc 1 293 13 is_stmt 1 view .LVU262
 293:Core/Src/main.c ****         }
 1202              		.loc 1 293 33 is_stmt 0 view .LVU263
 1203 0104 0131     		adds	r1, r1, #1
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 30


 1204              	.LVL108:
 293:Core/Src/main.c ****         }
 1205              		.loc 1 293 33 view .LVU264
 1206 0106 C9B2     		uxtb	r1, r1
 1207              	.LVL109:
 293:Core/Src/main.c ****         }
 1208              		.loc 1 293 33 view .LVU265
 1209 0108 F0E7     		b	.L92
 1210              	.LVL110:
 1211              	.L98:
 293:Core/Src/main.c ****         }
 1212              		.loc 1 293 33 view .LVU266
 1213              	.LBE25:
 1214 010a 0B46     		mov	r3, r1
 1215 010c F0E7     		b	.L93
 1216              	.L99:
 1217 010e 0B46     		mov	r3, r1
 1218 0110 EEE7     		b	.L93
 1219              	.L100:
 1220 0112 0B46     		mov	r3, r1
 1221 0114 ECE7     		b	.L93
 1222              	.LVL111:
 1223              	.L107:
 297:Core/Src/main.c ****         HD44780_PrintStr("STRAIGHT CABLE");
 1224              		.loc 1 297 5 is_stmt 1 view .LVU267
 297:Core/Src/main.c ****         HD44780_PrintStr("STRAIGHT CABLE");
 1225              		.loc 1 297 8 is_stmt 0 view .LVU268
 1226 0116 0529     		cmp	r1, #5
 1227 0118 07D8     		bhi	.L108
 302:Core/Src/main.c ****     show_faulty_pins(wire_connections);
 1228              		.loc 1 302 5 is_stmt 1 view .LVU269
 1229 011a 0B48     		ldr	r0, .L109+20
 1230 011c FFF7FEFF 		bl	HD44780_PrintStr
 1231              	.LVL112:
 303:Core/Src/main.c **** }
 1232              		.loc 1 303 5 view .LVU270
 1233 0120 08A8     		add	r0, sp, #32
 1234 0122 FFF7FEFF 		bl	show_faulty_pins
 1235              	.LVL113:
 1236              	.L81:
 304:Core/Src/main.c **** 
 1237              		.loc 1 304 1 is_stmt 0 view .LVU271
 1238 0126 19B0     		add	sp, sp, #100
 1239              	.LCFI22:
 1240              		.cfi_remember_state
 1241              		.cfi_def_cfa_offset 20
 1242              		@ sp needed
 1243 0128 F0BD     		pop	{r4, r5, r6, r7, pc}
 1244              	.LVL114:
 1245              	.L108:
 1246              	.LCFI23:
 1247              		.cfi_restore_state
 298:Core/Src/main.c ****         return;
 1248              		.loc 1 298 9 is_stmt 1 view .LVU272
 1249 012a 0848     		ldr	r0, .L109+24
 1250 012c FFF7FEFF 		bl	HD44780_PrintStr
 1251              	.LVL115:
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 31


 299:Core/Src/main.c ****     }
 1252              		.loc 1 299 9 view .LVU273
 1253 0130 F9E7     		b	.L81
 1254              	.L110:
 1255 0132 00BF     		.align	2
 1256              	.L109:
 1257 0134 00000000 		.word	.LANCHOR0
 1258 0138 000C0140 		.word	1073810432
 1259 013c 00080140 		.word	1073809408
 1260 0140 00000000 		.word	.LC12
 1261 0144 0C000000 		.word	.LC13
 1262 0148 2C000000 		.word	.LC15
 1263 014c 1C000000 		.word	.LC14
 1264              		.cfi_endproc
 1265              	.LFE76:
 1267              		.section	.text.Error_Handler,"ax",%progbits
 1268              		.align	1
 1269              		.global	Error_Handler
 1270              		.syntax unified
 1271              		.thumb
 1272              		.thumb_func
 1274              	Error_Handler:
 1275              	.LFB80:
 320:Core/Src/main.c **** /* USER CODE END 0 */
 321:Core/Src/main.c **** 
 322:Core/Src/main.c **** /**
 323:Core/Src/main.c ****   * @brief  The application entry point.
 324:Core/Src/main.c ****   * @retval int
 325:Core/Src/main.c ****   */
 326:Core/Src/main.c **** int main(void)
 327:Core/Src/main.c **** {
 328:Core/Src/main.c **** 
 329:Core/Src/main.c ****   /* USER CODE BEGIN 1 */
 330:Core/Src/main.c ****   /****************************************************************************/
 331:Core/Src/main.c ****   /********************************      MAIN        **************************/
 332:Core/Src/main.c ****   /****************************************************************************/
 333:Core/Src/main.c ****   
 334:Core/Src/main.c ****   /* USER CODE END 1 */
 335:Core/Src/main.c **** 
 336:Core/Src/main.c ****   /* MCU Configuration--------------------------------------------------------*/
 337:Core/Src/main.c **** 
 338:Core/Src/main.c ****   /* Reset of all peripherals, Initializes the Flash interface and the Systick. */
 339:Core/Src/main.c ****   HAL_Init();
 340:Core/Src/main.c **** 
 341:Core/Src/main.c ****   /* USER CODE BEGIN Init */
 342:Core/Src/main.c ****   /* USER CODE END Init */
 343:Core/Src/main.c **** 
 344:Core/Src/main.c ****   /* Configure the system clock */
 345:Core/Src/main.c ****   SystemClock_Config();
 346:Core/Src/main.c **** 
 347:Core/Src/main.c ****   /* USER CODE BEGIN SysInit */
 348:Core/Src/main.c ****   /* USER CODE END SysInit */
 349:Core/Src/main.c **** 
 350:Core/Src/main.c ****   /* Initialize all configured peripherals */
 351:Core/Src/main.c ****   MX_GPIO_Init();
 352:Core/Src/main.c ****   MX_USART1_UART_Init();
 353:Core/Src/main.c ****   MX_USB_DEVICE_Init();
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 32


 354:Core/Src/main.c ****   MX_TIM2_Init();
 355:Core/Src/main.c ****   MX_I2C1_Init();
 356:Core/Src/main.c ****   /* USER CODE BEGIN 2 */
 357:Core/Src/main.c ****   HAL_UART_Receive_IT(&huart1, uart_buf, 1); // enable UART Rx IT=interrupt
 358:Core/Src/main.c ****   HAL_TIM_Base_Start_IT(&htim2);  //enable Timer 2 interrupt
 359:Core/Src/main.c ****   memcpy(color_PWM, color_PWM_Set[current_Mode], sizeof(color_PWM));
 360:Core/Src/main.c ****   // Initialize LCD (16 columns, 2 rows)
 361:Core/Src/main.c **** HD44780_Init(2);
 362:Core/Src/main.c **** HD44780_Backlight();
 363:Core/Src/main.c **** HD44780_Clear();
 364:Core/Src/main.c **** HD44780_SetCursor(0, 0);
 365:Core/Src/main.c **** HD44780_PrintStr("hello world from");
 366:Core/Src/main.c **** HD44780_SetCursor(0, 1);
 367:Core/Src/main.c **** HD44780_PrintStr("haidamacu");
 368:Core/Src/main.c ****   /* USER CODE END 2 */
 369:Core/Src/main.c **** 
 370:Core/Src/main.c ****   /* Infinite loop */
 371:Core/Src/main.c ****   /* USER CODE BEGIN WHILE */
 372:Core/Src/main.c ****   
 373:Core/Src/main.c ****   setbuf(stdout, NULL);
 374:Core/Src/main.c ****   printf("Code version %d.%d starting...\r\n", SW_VERSION/10, SW_VERSION%10);
 375:Core/Src/main.c ****   /*********************************** main loop *************************************************/
 376:Core/Src/main.c ****   while (1)
 377:Core/Src/main.c ****   {
 378:Core/Src/main.c ****     /* USER CODE END WHILE */
 379:Core/Src/main.c **** 
 380:Core/Src/main.c ****   /* USER CODE BEGIN 3 */
 381:Core/Src/main.c **** static uint32_t button_press_time = 0;
 382:Core/Src/main.c **** static uint8_t last_button_state = 1; // Initialize with button released state
 383:Core/Src/main.c **** 
 384:Core/Src/main.c **** // Read current button state properly
 385:Core/Src/main.c **** uint8_t current_button_state = HAL_GPIO_ReadPin(GPIOC, GPIO_PIN_13);
 386:Core/Src/main.c **** 
 387:Core/Src/main.c **** // Detect button press (falling edge)
 388:Core/Src/main.c **** if(last_button_state && !current_button_state) { 
 389:Core/Src/main.c ****     button_press_time = HAL_GetTick();
 390:Core/Src/main.c **** } 
 391:Core/Src/main.c **** // Detect button release (rising edge)
 392:Core/Src/main.c **** else if(!last_button_state && current_button_state) {
 393:Core/Src/main.c ****     if(button_press_time > 0) {
 394:Core/Src/main.c ****         // Long press detection (>1000ms)
 395:Core/Src/main.c ****         if(HAL_GetTick() - button_press_time > 1000) {
 396:Core/Src/main.c ****             test_mode = !test_mode;
 397:Core/Src/main.c ****             HD44780_Clear();
 398:Core/Src/main.c ****             HD44780_PrintStr(test_mode ? "Cable Test Mode" : "RGB MODE");
 399:Core/Src/main.c ****         }
 400:Core/Src/main.c ****         // Short press action
 401:Core/Src/main.c ****         else {
 402:Core/Src/main.c ****             if(test_mode) {
 403:Core/Src/main.c ****                 run_cable_test();
 404:Core/Src/main.c ****             } else {
 405:Core/Src/main.c ****                 SM_State = (SM_State+1)%4;
 406:Core/Src/main.c ****                 printf("R:%d G:%d B:%d\r\n", 
 407:Core/Src/main.c ****                     color_PWM[SM_State][0],
 408:Core/Src/main.c ****                     color_PWM[SM_State][1],
 409:Core/Src/main.c ****                     color_PWM[SM_State][2]);
 410:Core/Src/main.c ****             }
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 33


 411:Core/Src/main.c ****         }
 412:Core/Src/main.c ****         button_press_time = 0;
 413:Core/Src/main.c ****     }
 414:Core/Src/main.c **** }
 415:Core/Src/main.c **** 
 416:Core/Src/main.c **** // Update last state at the END of the loop iteration
 417:Core/Src/main.c **** last_button_state = current_button_state;
 418:Core/Src/main.c **** 
 419:Core/Src/main.c **** 
 420:Core/Src/main.c **** HAL_Delay(10); // Small delay to reduce CPU usage
 421:Core/Src/main.c **** /* USER CODE END 3 */
 422:Core/Src/main.c **** 
 423:Core/Src/main.c ****   
 424:Core/Src/main.c **** }
 425:Core/Src/main.c **** 
 426:Core/Src/main.c **** }
 427:Core/Src/main.c **** /**
 428:Core/Src/main.c ****   * @brief System Clock Configuration
 429:Core/Src/main.c ****   * @retval None
 430:Core/Src/main.c ****   */
 431:Core/Src/main.c **** void SystemClock_Config(void)
 432:Core/Src/main.c **** {
 433:Core/Src/main.c ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 434:Core/Src/main.c ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 435:Core/Src/main.c ****   RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
 436:Core/Src/main.c **** 
 437:Core/Src/main.c ****   /** Initializes the RCC Oscillators according to the specified parameters
 438:Core/Src/main.c ****   * in the RCC_OscInitTypeDef structure.
 439:Core/Src/main.c ****   */
 440:Core/Src/main.c ****   RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSE;
 441:Core/Src/main.c ****   RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 442:Core/Src/main.c ****   RCC_OscInitStruct.HSEPredivValue = RCC_HSE_PREDIV_DIV1;
 443:Core/Src/main.c ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 444:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 445:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 446:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL9;
 447:Core/Src/main.c ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 448:Core/Src/main.c ****   {
 449:Core/Src/main.c ****     Error_Handler();
 450:Core/Src/main.c ****   }
 451:Core/Src/main.c **** 
 452:Core/Src/main.c ****   /** Initializes the CPU, AHB and APB buses clocks
 453:Core/Src/main.c ****   */
 454:Core/Src/main.c ****   RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK|RCC_CLOCKTYPE_SYSCLK
 455:Core/Src/main.c ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 456:Core/Src/main.c ****   RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
 457:Core/Src/main.c ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 458:Core/Src/main.c ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 459:Core/Src/main.c ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 460:Core/Src/main.c **** 
 461:Core/Src/main.c ****   if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_2) != HAL_OK)
 462:Core/Src/main.c ****   {
 463:Core/Src/main.c ****     Error_Handler();
 464:Core/Src/main.c ****   }
 465:Core/Src/main.c ****   PeriphClkInit.PeriphClockSelection = RCC_PERIPHCLK_USB;
 466:Core/Src/main.c ****   PeriphClkInit.UsbClockSelection = RCC_USBCLKSOURCE_PLL_DIV1_5;
 467:Core/Src/main.c ****   if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK)
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 34


 468:Core/Src/main.c ****   {
 469:Core/Src/main.c ****     Error_Handler();
 470:Core/Src/main.c ****   }
 471:Core/Src/main.c **** }
 472:Core/Src/main.c **** 
 473:Core/Src/main.c **** /* USER CODE BEGIN 4 */
 474:Core/Src/main.c **** 
 475:Core/Src/main.c **** /* USER CODE END 4 */
 476:Core/Src/main.c **** 
 477:Core/Src/main.c **** /**
 478:Core/Src/main.c ****   * @brief  This function is executed in case of error occurrence.
 479:Core/Src/main.c ****   * @retval None
 480:Core/Src/main.c ****   */
 481:Core/Src/main.c **** void Error_Handler(void)
 482:Core/Src/main.c **** {
 1276              		.loc 1 482 1 view -0
 1277              		.cfi_startproc
 1278              		@ Volatile: function does not return.
 1279              		@ args = 0, pretend = 0, frame = 0
 1280              		@ frame_needed = 0, uses_anonymous_args = 0
 1281              		@ link register save eliminated.
 483:Core/Src/main.c ****   /* USER CODE BEGIN Error_Handler_Debug */
 484:Core/Src/main.c ****   /* User can add his own implementation to report the HAL error return state */
 485:Core/Src/main.c ****   __disable_irq();
 1282              		.loc 1 485 3 view .LVU275
 1283              	.LBB26:
 1284              	.LBI26:
 1285              		.file 2 "Drivers/CMSIS/Include/cmsis_gcc.h"
   1:Drivers/CMSIS/Include/cmsis_gcc.h **** /**************************************************************************//**
   2:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @brief    CMSIS compiler GCC header file
   4:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @version  V5.0.4
   5:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @date     09. April 2018
   6:Drivers/CMSIS/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:Drivers/CMSIS/Include/cmsis_gcc.h **** /*
   8:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Copyright (c) 2009-2018 Arm Limited. All rights reserved.
   9:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  10:Drivers/CMSIS/Include/cmsis_gcc.h ****  * SPDX-License-Identifier: Apache-2.0
  11:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  12:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Licensed under the Apache License, Version 2.0 (the License); you may
  13:Drivers/CMSIS/Include/cmsis_gcc.h ****  * not use this file except in compliance with the License.
  14:Drivers/CMSIS/Include/cmsis_gcc.h ****  * You may obtain a copy of the License at
  15:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  16:Drivers/CMSIS/Include/cmsis_gcc.h ****  * www.apache.org/licenses/LICENSE-2.0
  17:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  18:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Unless required by applicable law or agreed to in writing, software
  19:Drivers/CMSIS/Include/cmsis_gcc.h ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
  20:Drivers/CMSIS/Include/cmsis_gcc.h ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  21:Drivers/CMSIS/Include/cmsis_gcc.h ****  * See the License for the specific language governing permissions and
  22:Drivers/CMSIS/Include/cmsis_gcc.h ****  * limitations under the License.
  23:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  24:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  25:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  26:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  27:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  28:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
  29:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 35


  30:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  31:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  32:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  33:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  34:Drivers/CMSIS/Include/cmsis_gcc.h **** /* Fallback for __has_builtin */
  35:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __has_builtin
  36:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __has_builtin(x) (0)
  37:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  38:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  39:Drivers/CMSIS/Include/cmsis_gcc.h **** /* CMSIS compiler specific defines */
  40:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ASM
  41:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ASM                                  __asm
  42:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  43:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __INLINE
  44:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __INLINE                               inline
  45:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  46:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_INLINE
  47:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_INLINE                        static inline
  48:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  49:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_FORCEINLINE                 
  50:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_FORCEINLINE                   __attribute__((always_inline)) static inline
  51:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif                                           
  52:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __NO_RETURN
  53:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __NO_RETURN                            __attribute__((__noreturn__))
  54:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  55:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __USED
  56:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __USED                                 __attribute__((used))
  57:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  58:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __WEAK
  59:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __WEAK                                 __attribute__((weak))
  60:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  61:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED
  62:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED                               __attribute__((packed, aligned(1)))
  63:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  64:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_STRUCT
  65:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_STRUCT                        struct __attribute__((packed, aligned(1)))
  66:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  67:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_UNION
  68:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_UNION                         union __attribute__((packed, aligned(1)))
  69:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  70:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32        /* deprecated */
  71:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  72:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  73:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  74:Drivers/CMSIS/Include/cmsis_gcc.h ****   struct __attribute__((packed)) T_UINT32 { uint32_t v; };
  75:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  76:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32(x)                  (((struct T_UINT32 *)(x))->v)
  77:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  78:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_WRITE
  79:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  80:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  81:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  82:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_WRITE { uint16_t v; };
  83:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  84:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_WRITE(addr, val)    (void)((((struct T_UINT16_WRITE *)(void *)(addr))-
  85:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  86:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_READ
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 36


  87:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  88:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  89:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  90:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_READ { uint16_t v; };
  91:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  92:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_READ(addr)          (((const struct T_UINT16_READ *)(const void *)(add
  93:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  94:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_WRITE
  95:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  96:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  97:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  98:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_WRITE { uint32_t v; };
  99:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 100:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_WRITE(addr, val)    (void)((((struct T_UINT32_WRITE *)(void *)(addr))-
 101:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 102:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_READ
 103:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
 104:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
 105:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
 106:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_READ { uint32_t v; };
 107:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 108:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_READ(addr)          (((const struct T_UINT32_READ *)(const void *)(add
 109:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 110:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ALIGNED
 111:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ALIGNED(x)                           __attribute__((aligned(x)))
 112:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 113:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __RESTRICT
 114:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __RESTRICT                             __restrict
 115:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 116:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 117:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 118:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
 119:Drivers/CMSIS/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
 120:Drivers/CMSIS/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
 121:Drivers/CMSIS/Include/cmsis_gcc.h ****   @{
 122:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 123:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 124:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 125:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
 126:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing the I-bit in the CPSR.
 127:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 128:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __enable_irq(void)
 130:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 131:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
 132:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 133:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 134:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 135:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 136:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
 137:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting the I-bit in the CPSR.
 138:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 139:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __disable_irq(void)
 1286              		.loc 2 140 27 view .LVU276
 1287              	.LBB27:
 141:Drivers/CMSIS/Include/cmsis_gcc.h **** {
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 37


 142:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
 1288              		.loc 2 142 3 view .LVU277
 1289              		.syntax unified
 1290              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1291 0000 72B6     		cpsid i
 1292              	@ 0 "" 2
 1293              		.thumb
 1294              		.syntax unified
 1295              	.L112:
 1296              	.LBE27:
 1297              	.LBE26:
 486:Core/Src/main.c ****   while (1)
 1298              		.loc 1 486 3 view .LVU278
 487:Core/Src/main.c ****   {
 488:Core/Src/main.c ****   }
 1299              		.loc 1 488 3 view .LVU279
 486:Core/Src/main.c ****   while (1)
 1300              		.loc 1 486 9 view .LVU280
 1301 0002 FEE7     		b	.L112
 1302              		.cfi_endproc
 1303              	.LFE80:
 1305              		.section	.text.SystemClock_Config,"ax",%progbits
 1306              		.align	1
 1307              		.global	SystemClock_Config
 1308              		.syntax unified
 1309              		.thumb
 1310              		.thumb_func
 1312              	SystemClock_Config:
 1313              	.LFB79:
 432:Core/Src/main.c ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 1314              		.loc 1 432 1 view -0
 1315              		.cfi_startproc
 1316              		@ args = 0, pretend = 0, frame = 80
 1317              		@ frame_needed = 0, uses_anonymous_args = 0
 1318 0000 00B5     		push	{lr}
 1319              	.LCFI24:
 1320              		.cfi_def_cfa_offset 4
 1321              		.cfi_offset 14, -4
 1322 0002 95B0     		sub	sp, sp, #84
 1323              	.LCFI25:
 1324              		.cfi_def_cfa_offset 88
 433:Core/Src/main.c ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 1325              		.loc 1 433 3 view .LVU282
 433:Core/Src/main.c ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 1326              		.loc 1 433 22 is_stmt 0 view .LVU283
 1327 0004 2822     		movs	r2, #40
 1328 0006 0021     		movs	r1, #0
 1329 0008 0DEB0200 		add	r0, sp, r2
 1330 000c FFF7FEFF 		bl	memset
 1331              	.LVL116:
 434:Core/Src/main.c ****   RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
 1332              		.loc 1 434 3 is_stmt 1 view .LVU284
 434:Core/Src/main.c ****   RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
 1333              		.loc 1 434 22 is_stmt 0 view .LVU285
 1334 0010 0023     		movs	r3, #0
 1335 0012 0593     		str	r3, [sp, #20]
 1336 0014 0693     		str	r3, [sp, #24]
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 38


 1337 0016 0793     		str	r3, [sp, #28]
 1338 0018 0893     		str	r3, [sp, #32]
 1339 001a 0993     		str	r3, [sp, #36]
 435:Core/Src/main.c **** 
 1340              		.loc 1 435 3 is_stmt 1 view .LVU286
 435:Core/Src/main.c **** 
 1341              		.loc 1 435 28 is_stmt 0 view .LVU287
 1342 001c 0193     		str	r3, [sp, #4]
 1343 001e 0293     		str	r3, [sp, #8]
 1344 0020 0393     		str	r3, [sp, #12]
 1345 0022 0493     		str	r3, [sp, #16]
 440:Core/Src/main.c ****   RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 1346              		.loc 1 440 3 is_stmt 1 view .LVU288
 440:Core/Src/main.c ****   RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 1347              		.loc 1 440 36 is_stmt 0 view .LVU289
 1348 0024 0122     		movs	r2, #1
 1349 0026 0A92     		str	r2, [sp, #40]
 441:Core/Src/main.c ****   RCC_OscInitStruct.HSEPredivValue = RCC_HSE_PREDIV_DIV1;
 1350              		.loc 1 441 3 is_stmt 1 view .LVU290
 441:Core/Src/main.c ****   RCC_OscInitStruct.HSEPredivValue = RCC_HSE_PREDIV_DIV1;
 1351              		.loc 1 441 30 is_stmt 0 view .LVU291
 1352 0028 4FF48033 		mov	r3, #65536
 1353 002c 0B93     		str	r3, [sp, #44]
 442:Core/Src/main.c ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 1354              		.loc 1 442 3 is_stmt 1 view .LVU292
 443:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 1355              		.loc 1 443 3 view .LVU293
 443:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 1356              		.loc 1 443 30 is_stmt 0 view .LVU294
 1357 002e 0E92     		str	r2, [sp, #56]
 444:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 1358              		.loc 1 444 3 is_stmt 1 view .LVU295
 444:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 1359              		.loc 1 444 34 is_stmt 0 view .LVU296
 1360 0030 0222     		movs	r2, #2
 1361 0032 1192     		str	r2, [sp, #68]
 445:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL9;
 1362              		.loc 1 445 3 is_stmt 1 view .LVU297
 445:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL9;
 1363              		.loc 1 445 35 is_stmt 0 view .LVU298
 1364 0034 1293     		str	r3, [sp, #72]
 446:Core/Src/main.c ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 1365              		.loc 1 446 3 is_stmt 1 view .LVU299
 446:Core/Src/main.c ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 1366              		.loc 1 446 32 is_stmt 0 view .LVU300
 1367 0036 4FF4E013 		mov	r3, #1835008
 1368 003a 1393     		str	r3, [sp, #76]
 447:Core/Src/main.c ****   {
 1369              		.loc 1 447 3 is_stmt 1 view .LVU301
 447:Core/Src/main.c ****   {
 1370              		.loc 1 447 7 is_stmt 0 view .LVU302
 1371 003c 0AA8     		add	r0, sp, #40
 1372 003e FFF7FEFF 		bl	HAL_RCC_OscConfig
 1373              	.LVL117:
 447:Core/Src/main.c ****   {
 1374              		.loc 1 447 6 discriminator 1 view .LVU303
 1375 0042 C0B9     		cbnz	r0, .L118
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 39


 454:Core/Src/main.c ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 1376              		.loc 1 454 3 is_stmt 1 view .LVU304
 454:Core/Src/main.c ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 1377              		.loc 1 454 31 is_stmt 0 view .LVU305
 1378 0044 0F23     		movs	r3, #15
 1379 0046 0593     		str	r3, [sp, #20]
 456:Core/Src/main.c ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 1380              		.loc 1 456 3 is_stmt 1 view .LVU306
 456:Core/Src/main.c ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 1381              		.loc 1 456 34 is_stmt 0 view .LVU307
 1382 0048 0221     		movs	r1, #2
 1383 004a 0691     		str	r1, [sp, #24]
 457:Core/Src/main.c ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 1384              		.loc 1 457 3 is_stmt 1 view .LVU308
 457:Core/Src/main.c ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 1385              		.loc 1 457 35 is_stmt 0 view .LVU309
 1386 004c 0023     		movs	r3, #0
 1387 004e 0793     		str	r3, [sp, #28]
 458:Core/Src/main.c ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 1388              		.loc 1 458 3 is_stmt 1 view .LVU310
 458:Core/Src/main.c ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 1389              		.loc 1 458 36 is_stmt 0 view .LVU311
 1390 0050 4FF48062 		mov	r2, #1024
 1391 0054 0892     		str	r2, [sp, #32]
 459:Core/Src/main.c **** 
 1392              		.loc 1 459 3 is_stmt 1 view .LVU312
 459:Core/Src/main.c **** 
 1393              		.loc 1 459 36 is_stmt 0 view .LVU313
 1394 0056 0993     		str	r3, [sp, #36]
 461:Core/Src/main.c ****   {
 1395              		.loc 1 461 3 is_stmt 1 view .LVU314
 461:Core/Src/main.c ****   {
 1396              		.loc 1 461 7 is_stmt 0 view .LVU315
 1397 0058 05A8     		add	r0, sp, #20
 1398 005a FFF7FEFF 		bl	HAL_RCC_ClockConfig
 1399              	.LVL118:
 461:Core/Src/main.c ****   {
 1400              		.loc 1 461 6 discriminator 1 view .LVU316
 1401 005e 60B9     		cbnz	r0, .L119
 465:Core/Src/main.c ****   PeriphClkInit.UsbClockSelection = RCC_USBCLKSOURCE_PLL_DIV1_5;
 1402              		.loc 1 465 3 is_stmt 1 view .LVU317
 465:Core/Src/main.c ****   PeriphClkInit.UsbClockSelection = RCC_USBCLKSOURCE_PLL_DIV1_5;
 1403              		.loc 1 465 38 is_stmt 0 view .LVU318
 1404 0060 1023     		movs	r3, #16
 1405 0062 0193     		str	r3, [sp, #4]
 466:Core/Src/main.c ****   if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK)
 1406              		.loc 1 466 3 is_stmt 1 view .LVU319
 466:Core/Src/main.c ****   if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK)
 1407              		.loc 1 466 35 is_stmt 0 view .LVU320
 1408 0064 0023     		movs	r3, #0
 1409 0066 0493     		str	r3, [sp, #16]
 467:Core/Src/main.c ****   {
 1410              		.loc 1 467 3 is_stmt 1 view .LVU321
 467:Core/Src/main.c ****   {
 1411              		.loc 1 467 7 is_stmt 0 view .LVU322
 1412 0068 01A8     		add	r0, sp, #4
 1413 006a FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 40


 1414              	.LVL119:
 467:Core/Src/main.c ****   {
 1415              		.loc 1 467 6 discriminator 1 view .LVU323
 1416 006e 30B9     		cbnz	r0, .L120
 471:Core/Src/main.c **** 
 1417              		.loc 1 471 1 view .LVU324
 1418 0070 15B0     		add	sp, sp, #84
 1419              	.LCFI26:
 1420              		.cfi_remember_state
 1421              		.cfi_def_cfa_offset 4
 1422              		@ sp needed
 1423 0072 5DF804FB 		ldr	pc, [sp], #4
 1424              	.L118:
 1425              	.LCFI27:
 1426              		.cfi_restore_state
 449:Core/Src/main.c ****   }
 1427              		.loc 1 449 5 is_stmt 1 view .LVU325
 1428 0076 FFF7FEFF 		bl	Error_Handler
 1429              	.LVL120:
 1430              	.L119:
 463:Core/Src/main.c ****   }
 1431              		.loc 1 463 5 view .LVU326
 1432 007a FFF7FEFF 		bl	Error_Handler
 1433              	.LVL121:
 1434              	.L120:
 469:Core/Src/main.c ****   }
 1435              		.loc 1 469 5 view .LVU327
 1436 007e FFF7FEFF 		bl	Error_Handler
 1437              	.LVL122:
 1438              		.cfi_endproc
 1439              	.LFE79:
 1441              		.section	.rodata.main.str1.4,"aMS",%progbits,1
 1442              		.align	2
 1443              	.LC16:
 1444 0000 52474220 		.ascii	"RGB MODE\000"
 1444      4D4F4445 
 1444      00
 1445 0009 000000   		.align	2
 1446              	.LC17:
 1447 000c 68656C6C 		.ascii	"hello world from\000"
 1447      6F20776F 
 1447      726C6420 
 1447      66726F6D 
 1447      00
 1448 001d 000000   		.align	2
 1449              	.LC18:
 1450 0020 68616964 		.ascii	"haidamacu\000"
 1450      616D6163 
 1450      7500
 1451 002a 0000     		.align	2
 1452              	.LC19:
 1453 002c 436F6465 		.ascii	"Code version %d.%d starting...\015\012\000"
 1453      20766572 
 1453      73696F6E 
 1453      2025642E 
 1453      25642073 
 1454 004d 000000   		.align	2
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 41


 1455              	.LC20:
 1456 0050 523A2564 		.ascii	"R:%d G:%d B:%d\015\012\000"
 1456      20473A25 
 1456      6420423A 
 1456      25640D0A 
 1456      00
 1457              		.section	.text.main,"ax",%progbits
 1458              		.align	1
 1459              		.global	main
 1460              		.syntax unified
 1461              		.thumb
 1462              		.thumb_func
 1464              	main:
 1465              	.LFB78:
 327:Core/Src/main.c **** 
 1466              		.loc 1 327 1 view -0
 1467              		.cfi_startproc
 1468              		@ args = 0, pretend = 0, frame = 0
 1469              		@ frame_needed = 0, uses_anonymous_args = 0
 1470 0000 38B5     		push	{r3, r4, r5, lr}
 1471              	.LCFI28:
 1472              		.cfi_def_cfa_offset 16
 1473              		.cfi_offset 3, -16
 1474              		.cfi_offset 4, -12
 1475              		.cfi_offset 5, -8
 1476              		.cfi_offset 14, -4
 339:Core/Src/main.c **** 
 1477              		.loc 1 339 3 view .LVU329
 1478 0002 FFF7FEFF 		bl	HAL_Init
 1479              	.LVL123:
 345:Core/Src/main.c **** 
 1480              		.loc 1 345 3 view .LVU330
 1481 0006 FFF7FEFF 		bl	SystemClock_Config
 1482              	.LVL124:
 351:Core/Src/main.c ****   MX_USART1_UART_Init();
 1483              		.loc 1 351 3 view .LVU331
 1484 000a FFF7FEFF 		bl	MX_GPIO_Init
 1485              	.LVL125:
 352:Core/Src/main.c ****   MX_USB_DEVICE_Init();
 1486              		.loc 1 352 3 view .LVU332
 1487 000e FFF7FEFF 		bl	MX_USART1_UART_Init
 1488              	.LVL126:
 353:Core/Src/main.c ****   MX_TIM2_Init();
 1489              		.loc 1 353 3 view .LVU333
 1490 0012 FFF7FEFF 		bl	MX_USB_DEVICE_Init
 1491              	.LVL127:
 354:Core/Src/main.c ****   MX_I2C1_Init();
 1492              		.loc 1 354 3 view .LVU334
 1493 0016 FFF7FEFF 		bl	MX_TIM2_Init
 1494              	.LVL128:
 355:Core/Src/main.c ****   /* USER CODE BEGIN 2 */
 1495              		.loc 1 355 3 view .LVU335
 1496 001a FFF7FEFF 		bl	MX_I2C1_Init
 1497              	.LVL129:
 357:Core/Src/main.c ****   HAL_TIM_Base_Start_IT(&htim2);  //enable Timer 2 interrupt
 1498              		.loc 1 357 3 view .LVU336
 1499 001e 0122     		movs	r2, #1
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 42


 1500 0020 4249     		ldr	r1, .L133
 1501 0022 4348     		ldr	r0, .L133+4
 1502 0024 FFF7FEFF 		bl	HAL_UART_Receive_IT
 1503              	.LVL130:
 358:Core/Src/main.c ****   memcpy(color_PWM, color_PWM_Set[current_Mode], sizeof(color_PWM));
 1504              		.loc 1 358 3 view .LVU337
 1505 0028 4248     		ldr	r0, .L133+8
 1506 002a FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 1507              	.LVL131:
 359:Core/Src/main.c ****   // Initialize LCD (16 columns, 2 rows)
 1508              		.loc 1 359 3 view .LVU338
 1509 002e 424B     		ldr	r3, .L133+12
 1510 0030 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 359:Core/Src/main.c ****   // Initialize LCD (16 columns, 2 rows)
 1511              		.loc 1 359 34 is_stmt 0 view .LVU339
 1512 0032 424B     		ldr	r3, .L133+16
 1513 0034 53F82220 		ldr	r2, [r3, r2, lsl #2]
 359:Core/Src/main.c ****   // Initialize LCD (16 columns, 2 rows)
 1514              		.loc 1 359 3 view .LVU340
 1515 0038 414B     		ldr	r3, .L133+20
 1516 003a 1068     		ldr	r0, [r2]	@ unaligned
 1517 003c 5168     		ldr	r1, [r2, #4]	@ unaligned
 1518 003e 9268     		ldr	r2, [r2, #8]	@ unaligned
 1519 0040 07C3     		stmia	r3!, {r0, r1, r2}
 361:Core/Src/main.c **** HD44780_Backlight();
 1520              		.loc 1 361 1 is_stmt 1 view .LVU341
 1521 0042 0220     		movs	r0, #2
 1522 0044 FFF7FEFF 		bl	HD44780_Init
 1523              	.LVL132:
 362:Core/Src/main.c **** HD44780_Clear();
 1524              		.loc 1 362 1 view .LVU342
 1525 0048 FFF7FEFF 		bl	HD44780_Backlight
 1526              	.LVL133:
 363:Core/Src/main.c **** HD44780_SetCursor(0, 0);
 1527              		.loc 1 363 1 view .LVU343
 1528 004c FFF7FEFF 		bl	HD44780_Clear
 1529              	.LVL134:
 364:Core/Src/main.c **** HD44780_PrintStr("hello world from");
 1530              		.loc 1 364 1 view .LVU344
 1531 0050 0021     		movs	r1, #0
 1532 0052 0846     		mov	r0, r1
 1533 0054 FFF7FEFF 		bl	HD44780_SetCursor
 1534              	.LVL135:
 365:Core/Src/main.c **** HD44780_SetCursor(0, 1);
 1535              		.loc 1 365 1 view .LVU345
 1536 0058 3A48     		ldr	r0, .L133+24
 1537 005a FFF7FEFF 		bl	HD44780_PrintStr
 1538              	.LVL136:
 366:Core/Src/main.c **** HD44780_PrintStr("haidamacu");
 1539              		.loc 1 366 1 view .LVU346
 1540 005e 0121     		movs	r1, #1
 1541 0060 0020     		movs	r0, #0
 1542 0062 FFF7FEFF 		bl	HD44780_SetCursor
 1543              	.LVL137:
 367:Core/Src/main.c ****   /* USER CODE END 2 */
 1544              		.loc 1 367 1 view .LVU347
 1545 0066 3848     		ldr	r0, .L133+28
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 43


 1546 0068 FFF7FEFF 		bl	HD44780_PrintStr
 1547              	.LVL138:
 373:Core/Src/main.c ****   printf("Code version %d.%d starting...\r\n", SW_VERSION/10, SW_VERSION%10);
 1548              		.loc 1 373 3 view .LVU348
 373:Core/Src/main.c ****   printf("Code version %d.%d starting...\r\n", SW_VERSION/10, SW_VERSION%10);
 1549              		.loc 1 373 10 is_stmt 0 view .LVU349
 1550 006c 374B     		ldr	r3, .L133+32
 1551 006e 1B68     		ldr	r3, [r3]
 373:Core/Src/main.c ****   printf("Code version %d.%d starting...\r\n", SW_VERSION/10, SW_VERSION%10);
 1552              		.loc 1 373 3 view .LVU350
 1553 0070 0021     		movs	r1, #0
 1554 0072 9868     		ldr	r0, [r3, #8]
 1555 0074 FFF7FEFF 		bl	setbuf
 1556              	.LVL139:
 374:Core/Src/main.c ****   /*********************************** main loop *************************************************/
 1557              		.loc 1 374 3 is_stmt 1 view .LVU351
 1558 0078 0122     		movs	r2, #1
 1559 007a 1146     		mov	r1, r2
 1560 007c 3448     		ldr	r0, .L133+36
 1561 007e FFF7FEFF 		bl	printf
 1562              	.LVL140:
 1563 0082 09E0     		b	.L128
 1564              	.LVL141:
 1565              	.L122:
 1566              	.LBB28:
 392:Core/Src/main.c ****     if(button_press_time > 0) {
 1567              		.loc 1 392 6 view .LVU352
 392:Core/Src/main.c ****     if(button_press_time > 0) {
 1568              		.loc 1 392 8 is_stmt 0 view .LVU353
 1569 0084 1BB9     		cbnz	r3, .L123
 392:Core/Src/main.c ****     if(button_press_time > 0) {
 1570              		.loc 1 392 28 discriminator 1 view .LVU354
 1571 0086 14B1     		cbz	r4, .L123
 393:Core/Src/main.c ****         // Long press detection (>1000ms)
 1572              		.loc 1 393 5 is_stmt 1 view .LVU355
 393:Core/Src/main.c ****         // Long press detection (>1000ms)
 1573              		.loc 1 393 26 is_stmt 0 view .LVU356
 1574 0088 324B     		ldr	r3, .L133+40
 1575 008a 1B68     		ldr	r3, [r3]
 393:Core/Src/main.c ****         // Long press detection (>1000ms)
 1576              		.loc 1 393 7 view .LVU357
 1577 008c ABB9     		cbnz	r3, .L131
 1578              	.LVL142:
 1579              	.L123:
 417:Core/Src/main.c **** 
 1580              		.loc 1 417 1 is_stmt 1 view .LVU358
 417:Core/Src/main.c **** 
 1581              		.loc 1 417 19 is_stmt 0 view .LVU359
 1582 008e 324B     		ldr	r3, .L133+44
 1583 0090 1C70     		strb	r4, [r3]
 420:Core/Src/main.c **** /* USER CODE END 3 */
 1584              		.loc 1 420 1 is_stmt 1 view .LVU360
 1585 0092 0A20     		movs	r0, #10
 1586 0094 FFF7FEFF 		bl	HAL_Delay
 1587              	.LVL143:
 1588              	.LBE28:
 376:Core/Src/main.c ****   {
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 44


 1589              		.loc 1 376 9 view .LVU361
 1590              	.L128:
 376:Core/Src/main.c ****   {
 1591              		.loc 1 376 3 view .LVU362
 1592              	.LBB29:
 381:Core/Src/main.c **** static uint8_t last_button_state = 1; // Initialize with button released state
 1593              		.loc 1 381 1 view .LVU363
 382:Core/Src/main.c **** 
 1594              		.loc 1 382 1 view .LVU364
 385:Core/Src/main.c **** 
 1595              		.loc 1 385 1 view .LVU365
 385:Core/Src/main.c **** 
 1596              		.loc 1 385 32 is_stmt 0 view .LVU366
 1597 0098 4FF40051 		mov	r1, #8192
 1598 009c 2F48     		ldr	r0, .L133+48
 1599 009e FFF7FEFF 		bl	HAL_GPIO_ReadPin
 1600              	.LVL144:
 1601 00a2 0446     		mov	r4, r0
 1602              	.LVL145:
 388:Core/Src/main.c ****     button_press_time = HAL_GetTick();
 1603              		.loc 1 388 1 is_stmt 1 view .LVU367
 388:Core/Src/main.c ****     button_press_time = HAL_GetTick();
 1604              		.loc 1 388 4 is_stmt 0 view .LVU368
 1605 00a4 2C4B     		ldr	r3, .L133+44
 1606 00a6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 388:Core/Src/main.c ****     button_press_time = HAL_GetTick();
 1607              		.loc 1 388 3 view .LVU369
 1608 00a8 002B     		cmp	r3, #0
 1609 00aa EBD0     		beq	.L122
 388:Core/Src/main.c ****     button_press_time = HAL_GetTick();
 1610              		.loc 1 388 22 discriminator 1 view .LVU370
 1611 00ac 0028     		cmp	r0, #0
 1612 00ae E9D1     		bne	.L122
 389:Core/Src/main.c **** } 
 1613              		.loc 1 389 5 is_stmt 1 view .LVU371
 389:Core/Src/main.c **** } 
 1614              		.loc 1 389 25 is_stmt 0 view .LVU372
 1615 00b0 FFF7FEFF 		bl	HAL_GetTick
 1616              	.LVL146:
 389:Core/Src/main.c **** } 
 1617              		.loc 1 389 23 discriminator 1 view .LVU373
 1618 00b4 274B     		ldr	r3, .L133+40
 1619 00b6 1860     		str	r0, [r3]
 389:Core/Src/main.c **** } 
 1620              		.loc 1 389 23 view .LVU374
 1621 00b8 E9E7     		b	.L123
 1622              	.LVL147:
 1623              	.L131:
 395:Core/Src/main.c ****             test_mode = !test_mode;
 1624              		.loc 1 395 9 is_stmt 1 view .LVU375
 395:Core/Src/main.c ****             test_mode = !test_mode;
 1625              		.loc 1 395 12 is_stmt 0 view .LVU376
 1626 00ba FFF7FEFF 		bl	HAL_GetTick
 1627              	.LVL148:
 395:Core/Src/main.c ****             test_mode = !test_mode;
 1628              		.loc 1 395 26 discriminator 1 view .LVU377
 1629 00be 254B     		ldr	r3, .L133+40
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 45


 1630 00c0 1B68     		ldr	r3, [r3]
 1631 00c2 C01A     		subs	r0, r0, r3
 395:Core/Src/main.c ****             test_mode = !test_mode;
 1632              		.loc 1 395 11 discriminator 1 view .LVU378
 1633 00c4 B0F57A7F 		cmp	r0, #1000
 1634 00c8 08D8     		bhi	.L132
 402:Core/Src/main.c ****                 run_cable_test();
 1635              		.loc 1 402 13 is_stmt 1 view .LVU379
 402:Core/Src/main.c ****                 run_cable_test();
 1636              		.loc 1 402 16 is_stmt 0 view .LVU380
 1637 00ca 254B     		ldr	r3, .L133+52
 1638 00cc 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 402:Core/Src/main.c ****                 run_cable_test();
 1639              		.loc 1 402 15 view .LVU381
 1640 00ce ABB1     		cbz	r3, .L127
 403:Core/Src/main.c ****             } else {
 1641              		.loc 1 403 17 is_stmt 1 view .LVU382
 1642 00d0 FFF7FEFF 		bl	run_cable_test
 1643              	.LVL149:
 1644              	.L126:
 412:Core/Src/main.c ****     }
 1645              		.loc 1 412 9 view .LVU383
 412:Core/Src/main.c ****     }
 1646              		.loc 1 412 27 is_stmt 0 view .LVU384
 1647 00d4 1F4B     		ldr	r3, .L133+40
 1648 00d6 0022     		movs	r2, #0
 1649 00d8 1A60     		str	r2, [r3]
 1650 00da D8E7     		b	.L123
 1651              	.L132:
 396:Core/Src/main.c ****             HD44780_Clear();
 1652              		.loc 1 396 13 is_stmt 1 view .LVU385
 396:Core/Src/main.c ****             HD44780_Clear();
 1653              		.loc 1 396 25 is_stmt 0 view .LVU386
 1654 00dc 204D     		ldr	r5, .L133+52
 1655 00de 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 1656 00e0 B3FA83F3 		clz	r3, r3
 1657 00e4 5B09     		lsrs	r3, r3, #5
 396:Core/Src/main.c ****             HD44780_Clear();
 1658              		.loc 1 396 23 view .LVU387
 1659 00e6 2B70     		strb	r3, [r5]
 397:Core/Src/main.c ****             HD44780_PrintStr(test_mode ? "Cable Test Mode" : "RGB MODE");
 1660              		.loc 1 397 13 is_stmt 1 view .LVU388
 1661 00e8 FFF7FEFF 		bl	HD44780_Clear
 1662              	.LVL150:
 398:Core/Src/main.c ****         }
 1663              		.loc 1 398 13 view .LVU389
 398:Core/Src/main.c ****         }
 1664              		.loc 1 398 40 is_stmt 0 view .LVU390
 1665 00ec 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 398:Core/Src/main.c ****         }
 1666              		.loc 1 398 13 view .LVU391
 1667 00ee 1BB1     		cbz	r3, .L129
 398:Core/Src/main.c ****         }
 1668              		.loc 1 398 13 discriminator 1 view .LVU392
 1669 00f0 1C48     		ldr	r0, .L133+56
 1670              	.L125:
 398:Core/Src/main.c ****         }
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 46


 1671              		.loc 1 398 13 discriminator 4 view .LVU393
 1672 00f2 FFF7FEFF 		bl	HD44780_PrintStr
 1673              	.LVL151:
 1674 00f6 EDE7     		b	.L126
 1675              	.L129:
 398:Core/Src/main.c ****         }
 1676              		.loc 1 398 13 discriminator 2 view .LVU394
 1677 00f8 1B48     		ldr	r0, .L133+60
 1678 00fa FAE7     		b	.L125
 1679              	.L127:
 405:Core/Src/main.c ****                 printf("R:%d G:%d B:%d\r\n", 
 1680              		.loc 1 405 17 is_stmt 1 view .LVU395
 405:Core/Src/main.c ****                 printf("R:%d G:%d B:%d\r\n", 
 1681              		.loc 1 405 37 is_stmt 0 view .LVU396
 1682 00fc 1B49     		ldr	r1, .L133+64
 1683 00fe 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1684 0100 0133     		adds	r3, r3, #1
 405:Core/Src/main.c ****                 printf("R:%d G:%d B:%d\r\n", 
 1685              		.loc 1 405 40 view .LVU397
 1686 0102 5A42     		rsbs	r2, r3, #0
 1687 0104 03F00303 		and	r3, r3, #3
 1688 0108 02F00302 		and	r2, r2, #3
 1689 010c 58BF     		it	pl
 1690 010e 5342     		rsbpl	r3, r2, #0
 405:Core/Src/main.c ****                 printf("R:%d G:%d B:%d\r\n", 
 1691              		.loc 1 405 26 view .LVU398
 1692 0110 0B70     		strb	r3, [r1]
 406:Core/Src/main.c ****                     color_PWM[SM_State][0],
 1693              		.loc 1 406 17 is_stmt 1 view .LVU399
 1694 0112 D9B2     		uxtb	r1, r3
 407:Core/Src/main.c ****                     color_PWM[SM_State][1],
 1695              		.loc 1 407 40 is_stmt 0 view .LVU400
 1696 0114 0A48     		ldr	r0, .L133+20
 1697 0116 01EB4101 		add	r1, r1, r1, lsl #1
 1698 011a 4218     		adds	r2, r0, r1
 406:Core/Src/main.c ****                     color_PWM[SM_State][0],
 1699              		.loc 1 406 17 view .LVU401
 1700 011c 9378     		ldrb	r3, [r2, #2]	@ zero_extendqisi2
 1701 011e 5278     		ldrb	r2, [r2, #1]	@ zero_extendqisi2
 1702 0120 415C     		ldrb	r1, [r0, r1]	@ zero_extendqisi2
 1703 0122 1348     		ldr	r0, .L133+68
 1704 0124 FFF7FEFF 		bl	printf
 1705              	.LVL152:
 1706 0128 D4E7     		b	.L126
 1707              	.L134:
 1708 012a 00BF     		.align	2
 1709              	.L133:
 1710 012c 00000000 		.word	uart_buf
 1711 0130 00000000 		.word	huart1
 1712 0134 00000000 		.word	htim2
 1713 0138 00000000 		.word	current_Mode
 1714 013c 00000000 		.word	color_PWM_Set
 1715 0140 00000000 		.word	color_PWM
 1716 0144 0C000000 		.word	.LC17
 1717 0148 20000000 		.word	.LC18
 1718 014c 00000000 		.word	_impure_ptr
 1719 0150 2C000000 		.word	.LC19
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 47


 1720 0154 00000000 		.word	button_press_time.0
 1721 0158 00000000 		.word	last_button_state.1
 1722 015c 00100140 		.word	1073811456
 1723 0160 00000000 		.word	test_mode
 1724 0164 00000000 		.word	.LC8
 1725 0168 00000000 		.word	.LC16
 1726 016c 00000000 		.word	SM_State
 1727 0170 50000000 		.word	.LC20
 1728              	.LBE29:
 1729              		.cfi_endproc
 1730              	.LFE78:
 1732              		.section	.bss.button_press_time.0,"aw",%nobits
 1733              		.align	2
 1736              	button_press_time.0:
 1737 0000 00000000 		.space	4
 1738              		.section	.data.last_button_state.1,"aw"
 1741              	last_button_state.1:
 1742 0000 01       		.byte	1
 1743              		.section	.bss.i.2,"aw",%nobits
 1744              		.align	2
 1747              	i.2:
 1748 0000 00000000 		.space	4
 1749              		.global	dash_Color
 1750              		.section	.data.dash_Color,"aw"
 1751              		.align	2
 1754              	dash_Color:
 1755 0000 000100   		.ascii	"\000\001\000"
 1756              		.global	dot_Color
 1757              		.section	.data.dot_Color,"aw"
 1758              		.align	2
 1761              	dot_Color:
 1762 0000 010001   		.ascii	"\001\000\001"
 1763              		.global	cable_type_names
 1764              		.section	.rodata.str1.4,"aMS",%progbits,1
 1765              		.align	2
 1766              	.LC21:
 1767 0000 53747261 		.ascii	"Straight\000"
 1767      69676874 
 1767      00
 1768 0009 000000   		.align	2
 1769              	.LC22:
 1770 000c 43726F73 		.ascii	"Crossover\000"
 1770      736F7665 
 1770      7200
 1771 0016 0000     		.align	2
 1772              	.LC23:
 1773 0018 4661756C 		.ascii	"Faulty\000"
 1773      747900
 1774              		.section	.data.cable_type_names,"aw"
 1775              		.align	2
 1778              	cable_type_names:
 1779 0000 00000000 		.word	.LC21
 1780 0004 0C000000 		.word	.LC22
 1781 0008 18000000 		.word	.LC23
 1782              		.global	last_button_state
 1783              		.section	.data.last_button_state,"aw"
 1786              	last_button_state:
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 48


 1787 0000 01       		.byte	1
 1788              		.global	test_mode
 1789              		.section	.bss.test_mode,"aw",%nobits
 1792              	test_mode:
 1793 0000 00       		.space	1
 1794              		.global	T
 1795              		.section	.data.T,"aw"
 1798              	T:
 1799 0000 64       		.byte	100
 1800              		.global	current_Mode
 1801              		.section	.bss.current_Mode,"aw",%nobits
 1804              	current_Mode:
 1805 0000 00       		.space	1
 1806              		.global	morse_Msg
 1807              		.section	.data.morse_Msg,"aw"
 1808              		.align	2
 1811              	morse_Msg:
 1812 0000 2E2E2D2D 		.ascii	"..--- ----. / ... - .- .-. -\000"
 1812      2D202D2D 
 1812      2D2D2E20 
 1812      2F202E2E 
 1812      2E202D20 
 1813 001d 00000000 		.space	35
 1813      00000000 
 1813      00000000 
 1813      00000000 
 1813      00000000 
 1814              		.global	morse_Messages
 1815              		.section	.rodata.str1.4
 1816 001f 00       		.align	2
 1817              	.LC24:
 1818 0020 2E2E2D2D 		.ascii	"..--- ----. / ... - .- .-. -\000"
 1818      2D202D2D 
 1818      2D2D2E20 
 1818      2F202E2E 
 1818      2E202D20 
 1819 003d 000000   		.align	2
 1820              	.LC25:
 1821 0040 2E202D2E 		.ascii	". -.-. .... .. .--. .- / ..--- ----.\000"
 1821      2D2E202E 
 1821      2E2E2E20 
 1821      2E2E202E 
 1821      2D2D2E20 
 1822 0065 000000   		.align	2
 1823              	.LC26:
 1824 0068 2E2E2E2E 		.ascii	".... . .-.. .-.. --- / ..--- ----.\000"
 1824      202E202E 
 1824      2D2E2E20 
 1824      2E2D2E2E 
 1824      202D2D2D 
 1825              		.section	.data.morse_Messages,"aw"
 1826              		.align	2
 1829              	morse_Messages:
 1830 0000 20000000 		.word	.LC24
 1831 0004 40000000 		.word	.LC25
 1832 0008 68000000 		.word	.LC26
 1833              		.global	color_PWM
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 49


 1834              		.section	.bss.color_PWM,"aw",%nobits
 1835              		.align	2
 1838              	color_PWM:
 1839 0000 00000000 		.space	12
 1839      00000000 
 1839      00000000 
 1840              		.global	color_PWM_Set
 1841              		.section	.data.color_PWM_Set,"aw"
 1842              		.align	2
 1845              	color_PWM_Set:
 1846 0000 00000000 		.word	colors_Mode_A
 1847 0004 00000000 		.word	colors_Mode_B
 1848 0008 00000000 		.word	colors_Mode_C
 1849              		.global	colors_Mode_C
 1850              		.section	.data.colors_Mode_C,"aw"
 1851              		.align	2
 1854              	colors_Mode_C:
 1855 0000 000064   		.ascii	"\000\000d"
 1856 0003 503200   		.ascii	"P2\000"
 1857 0006 320032   		.ascii	"2\0002"
 1858 0009 000000   		.ascii	"\000\000\000"
 1859              		.global	colors_Mode_B
 1860              		.section	.data.colors_Mode_B,"aw"
 1861              		.align	2
 1864              	colors_Mode_B:
 1865 0000 640000   		.ascii	"d\000\000"
 1866 0003 5A1E1E   		.ascii	"Z\036\036"
 1867 0006 004646   		.ascii	"\000FF"
 1868 0009 646464   		.ascii	"ddd"
 1869              		.global	colors_Mode_A
 1870              		.section	.data.colors_Mode_A,"aw"
 1871              		.align	2
 1874              	colors_Mode_A:
 1875 0000 006400   		.ascii	"\000d\000"
 1876 0003 4B4628   		.ascii	"KF("
 1877 0006 1E3C5A   		.ascii	"\036<Z"
 1878 0009 000000   		.ascii	"\000\000\000"
 1879              		.global	RGB_GPIO_Pins
 1880              		.section	.data.RGB_GPIO_Pins,"aw"
 1881              		.align	2
 1884              	RGB_GPIO_Pins:
 1885 0000 0100     		.short	1
 1886 0002 0200     		.short	2
 1887 0004 0001     		.short	256
 1888              		.global	RGB_GPIO_Banks
 1889              		.section	.data.RGB_GPIO_Banks,"aw"
 1890              		.align	2
 1893              	RGB_GPIO_Banks:
 1894 0000 000C0140 		.word	1073810432
 1895 0004 000C0140 		.word	1073810432
 1896 0008 00080140 		.word	1073809408
 1897              		.global	SM_State
 1898              		.section	.bss.SM_State,"aw",%nobits
 1901              	SM_State:
 1902 0000 00       		.space	1
 1903              		.global	ticks
 1904              		.section	.bss.ticks,"aw",%nobits
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 50


 1907              	ticks:
 1908 0000 00       		.space	1
 1909              		.global	uart_buf
 1910              		.section	.bss.uart_buf,"aw",%nobits
 1911              		.align	2
 1914              	uart_buf:
 1915 0000 00       		.space	1
 1916              		.section	.rodata
 1917              		.align	2
 1918              		.set	.LANCHOR0,. + 0
 1919              	.LC2:
 1920 0000 010001   		.ascii	"\001\000\001"
 1921 0003 00       		.space	1
 1922              	.LC3:
 1923 0004 000100   		.ascii	"\000\001\000"
 1924 0007 00       		.space	1
 1925              	.LC0:
 1926 0008 0200     		.short	2
 1927 000a 0400     		.short	4
 1928 000c 0800     		.short	8
 1929 000e 1000     		.short	16
 1930 0010 2000     		.short	32
 1931 0012 4000     		.short	64
 1932 0014 8000     		.short	128
 1933 0016 0001     		.short	256
 1934              	.LC1:
 1935 0018 0001     		.short	256
 1936 001a 0002     		.short	512
 1937 001c 0004     		.short	1024
 1938 001e 0008     		.short	2048
 1939 0020 0010     		.short	4096
 1940 0022 0020     		.short	8192
 1941 0024 0040     		.short	16384
 1942 0026 0080     		.short	-32768
 1943              		.text
 1944              	.Letext0:
 1945              		.file 3 "C:\\ST\\STM32CubeCLT_1.18.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/13.3.1/../
 1946              		.file 4 "C:\\ST\\STM32CubeCLT_1.18.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/13.3.1/../
 1947              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 1948              		.file 6 "C:\\ST\\STM32CubeCLT_1.18.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/13.3.1/inc
 1949              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 1950              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_rcc.h"
 1951              		.file 9 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_rcc_ex.h"
 1952              		.file 10 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_gpio.h"
 1953              		.file 11 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 1954              		.file 12 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_tim.h"
 1955              		.file 13 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_uart.h"
 1956              		.file 14 "Core/Inc/tim.h"
 1957              		.file 15 "Core/Inc/usart.h"
 1958              		.file 16 "C:\\ST\\STM32CubeCLT_1.18.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/13.3.1/..
 1959              		.file 17 "C:\\ST\\STM32CubeCLT_1.18.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/13.3.1/..
 1960              		.file 18 "C:\\ST\\STM32CubeCLT_1.18.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/13.3.1/..
 1961              		.file 19 "C:\\ST\\STM32CubeCLT_1.18.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/13.3.1/..
 1962              		.file 20 "Core/Inc/liquidcrystal_i2c.h"
 1963              		.file 21 "Core/Inc/i2c.h"
 1964              		.file 22 "USB_DEVICE/App/usb_device.h"
 1965              		.file 23 "Core/Inc/gpio.h"
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 51


 1966              		.file 24 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 1967              		.file 25 "C:\\ST\\STM32CubeCLT_1.18.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/13.3.1/..
 1968              		.file 26 "<built-in>"
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 52


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:19     .text.__io_putchar:00000000 $t
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:25     .text.__io_putchar:00000000 __io_putchar
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:61     .text.__io_putchar:0000001c $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:66     .text._write:00000000 $t
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:72     .text._write:00000000 _write
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:105    .text._write:00000014 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:110    .text.dot:00000000 $t
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:116    .text.dot:00000000 dot
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:214    .text.dot:00000068 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1884   .data.RGB_GPIO_Pins:00000000 RGB_GPIO_Pins
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1893   .data.RGB_GPIO_Banks:00000000 RGB_GPIO_Banks
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1798   .data.T:00000000 T
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:222    .text.dash:00000000 $t
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:228    .text.dash:00000000 dash
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:329    .text.dash:0000006c $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:337    .rodata.morse_Send.str1.4:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:344    .text.morse_Send:00000000 $t
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:350    .text.morse_Send:00000000 morse_Send
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:440    .text.morse_Send:00000050 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1811   .data.morse_Msg:00000000 morse_Msg
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:448    .rodata.morse_Trigger.str1.4:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:455    .text.morse_Trigger:00000000 $t
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:461    .text.morse_Trigger:00000000 morse_Trigger
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:580    .text.morse_Trigger:00000088 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1747   .bss.i.2:00000000 i.2
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1804   .bss.current_Mode:00000000 current_Mode
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1845   .data.color_PWM_Set:00000000 color_PWM_Set
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1838   .bss.color_PWM:00000000 color_PWM
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1829   .data.morse_Messages:00000000 morse_Messages
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:592    .rodata.HAL_UART_RxCpltCallback.str1.4:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:602    .text.HAL_UART_RxCpltCallback:00000000 $t
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:608    .text.HAL_UART_RxCpltCallback:00000000 HAL_UART_RxCpltCallback
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:677    .text.HAL_UART_RxCpltCallback:00000040 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1914   .bss.uart_buf:00000000 uart_buf
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1792   .bss.test_mode:00000000 test_mode
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:687    .text.HAL_TIM_PeriodElapsedCallback:00000000 $t
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:693    .text.HAL_TIM_PeriodElapsedCallback:00000000 HAL_TIM_PeriodElapsedCallback
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:808    .text.HAL_TIM_PeriodElapsedCallback:00000078 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1907   .bss.ticks:00000000 ticks
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1901   .bss.SM_State:00000000 SM_State
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:817    .rodata.show_faulty_pins.str1.4:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:821    .text.show_faulty_pins:00000000 $t
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:827    .text.show_faulty_pins:00000000 show_faulty_pins
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:941    .text.show_faulty_pins:00000048 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:946    .rodata.run_cable_test.str1.4:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:959    .text.run_cable_test:00000000 $t
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:965    .text.run_cable_test:00000000 run_cable_test
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1257   .text.run_cable_test:00000134 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1268   .text.Error_Handler:00000000 $t
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1274   .text.Error_Handler:00000000 Error_Handler
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1306   .text.SystemClock_Config:00000000 $t
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1312   .text.SystemClock_Config:00000000 SystemClock_Config
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1442   .rodata.main.str1.4:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1458   .text.main:00000000 $t
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1464   .text.main:00000000 main
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 53


C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1710   .text.main:0000012c $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1736   .bss.button_press_time.0:00000000 button_press_time.0
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1741   .data.last_button_state.1:00000000 last_button_state.1
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1733   .bss.button_press_time.0:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1744   .bss.i.2:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1754   .data.dash_Color:00000000 dash_Color
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1751   .data.dash_Color:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1761   .data.dot_Color:00000000 dot_Color
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1758   .data.dot_Color:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1778   .data.cable_type_names:00000000 cable_type_names
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1765   .rodata.str1.4:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1775   .data.cable_type_names:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1786   .data.last_button_state:00000000 last_button_state
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1793   .bss.test_mode:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1805   .bss.current_Mode:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1808   .data.morse_Msg:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1826   .data.morse_Messages:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1835   .bss.color_PWM:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1842   .data.color_PWM_Set:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1874   .data.colors_Mode_A:00000000 colors_Mode_A
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1864   .data.colors_Mode_B:00000000 colors_Mode_B
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1854   .data.colors_Mode_C:00000000 colors_Mode_C
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1851   .data.colors_Mode_C:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1861   .data.colors_Mode_B:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1871   .data.colors_Mode_A:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1881   .data.RGB_GPIO_Pins:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1890   .data.RGB_GPIO_Banks:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1902   .bss.SM_State:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1908   .bss.ticks:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1911   .bss.uart_buf:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s:1917   .rodata:00000000 $d

UNDEFINED SYMBOLS
HAL_UART_Transmit
huart1
HAL_GPIO_WritePin
HAL_Delay
puts
putchar
strlen
strcpy
printf
HAL_UART_Receive_IT
HD44780_Clear
HD44780_PrintStr
HD44780_SetCursor
sprintf
memset
HAL_GPIO_ReadPin
HAL_RCC_OscConfig
HAL_RCC_ClockConfig
HAL_RCCEx_PeriphCLKConfig
HAL_Init
MX_GPIO_Init
MX_USART1_UART_Init
MX_USB_DEVICE_Init
MX_TIM2_Init
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\cc24nklh.s 			page 54


MX_I2C1_Init
HAL_TIM_Base_Start_IT
HD44780_Init
HD44780_Backlight
setbuf
HAL_GetTick
htim2
_impure_ptr
