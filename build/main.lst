ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"main.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Core/Src/main.c"
  18              		.section	.text.__io_putchar,"ax",%progbits
  19              		.align	1
  20              		.global	__io_putchar
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	__io_putchar:
  26              	.LVL0:
  27              	.LFB68:
   1:Core/Src/main.c **** /* USER CODE BEGIN Header */
   2:Core/Src/main.c **** /**
   3:Core/Src/main.c ****   ******************************************************************************
   4:Core/Src/main.c ****   * @file           : main.c
   5:Core/Src/main.c ****   * @brief          : Main program body
   6:Core/Src/main.c ****   ******************************************************************************
   7:Core/Src/main.c ****   * @attention
   8:Core/Src/main.c ****   *
   9:Core/Src/main.c ****   * Copyright (c) 2024 STMicroelectronics.
  10:Core/Src/main.c ****   * All rights reserved.
  11:Core/Src/main.c ****   *
  12:Core/Src/main.c ****   * This software is licensed under terms that can be found in the LICENSE file
  13:Core/Src/main.c ****   * in the root directory of this software component.
  14:Core/Src/main.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  15:Core/Src/main.c ****   *
  16:Core/Src/main.c ****   ******************************************************************************
  17:Core/Src/main.c ****   */
  18:Core/Src/main.c **** /* USER CODE END Header */
  19:Core/Src/main.c **** /* Includes ------------------------------------------------------------------*/
  20:Core/Src/main.c **** #include "main.h"
  21:Core/Src/main.c **** #include "i2c.h"
  22:Core/Src/main.c **** #include "tim.h"
  23:Core/Src/main.c **** #include "usart.h"
  24:Core/Src/main.c **** #include "usb_device.h"
  25:Core/Src/main.c **** #include "gpio.h"
  26:Core/Src/main.c **** 
  27:Core/Src/main.c **** /* Private includes ----------------------------------------------------------*/
  28:Core/Src/main.c **** /* USER CODE BEGIN Includes */
  29:Core/Src/main.c **** #include <stdio.h>      // add for printf
  30:Core/Src/main.c **** #include <string.h>
  31:Core/Src/main.c **** #include "liquidcrystal_i2c.h"
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 2


  32:Core/Src/main.c **** /* USER CODE END Includes */
  33:Core/Src/main.c **** 
  34:Core/Src/main.c **** /* Private typedef -----------------------------------------------------------*/
  35:Core/Src/main.c **** /* USER CODE BEGIN PTD */
  36:Core/Src/main.c **** 
  37:Core/Src/main.c **** /* USER CODE END PTD */
  38:Core/Src/main.c **** 
  39:Core/Src/main.c **** /* Private define ------------------------------------------------------------*/
  40:Core/Src/main.c **** /* USER CODE BEGIN PD */
  41:Core/Src/main.c **** 
  42:Core/Src/main.c **** /* USER CODE END PD */
  43:Core/Src/main.c **** 
  44:Core/Src/main.c **** /* Private macro -------------------------------------------------------------*/
  45:Core/Src/main.c **** /* USER CODE BEGIN PM */
  46:Core/Src/main.c **** 
  47:Core/Src/main.c **** /* USER CODE END PM */
  48:Core/Src/main.c **** 
  49:Core/Src/main.c **** /* Private variables ---------------------------------------------------------*/
  50:Core/Src/main.c **** 
  51:Core/Src/main.c **** /* USER CODE BEGIN PV */
  52:Core/Src/main.c **** uint8_t uart_buf[1];
  53:Core/Src/main.c **** uint8_t ticks;  // timer2 ticks
  54:Core/Src/main.c **** uint8_t SM_State; // State for the State Machine
  55:Core/Src/main.c **** 
  56:Core/Src/main.c **** GPIO_TypeDef *RGB_GPIO_Banks[] = {GPIOB, GPIOB, GPIOA};
  57:Core/Src/main.c **** uint16_t RGB_GPIO_Pins[] = {GPIO_PIN_0, GPIO_PIN_1, GPIO_PIN_8};
  58:Core/Src/main.c **** 
  59:Core/Src/main.c **** uint8_t colors_Mode_A[4][3] = {
  60:Core/Src/main.c ****   {0, 100, 0},
  61:Core/Src/main.c ****   {75, 70, 40},
  62:Core/Src/main.c ****   {30, 60, 90},
  63:Core/Src/main.c ****   {0, 0, 0}
  64:Core/Src/main.c **** };
  65:Core/Src/main.c **** 
  66:Core/Src/main.c **** uint8_t colors_Mode_B[4][3] = {
  67:Core/Src/main.c ****   {100, 0, 0},
  68:Core/Src/main.c ****   {90, 30, 30},
  69:Core/Src/main.c ****   {0, 70, 70},
  70:Core/Src/main.c ****   {100, 100, 100}
  71:Core/Src/main.c **** };
  72:Core/Src/main.c **** 
  73:Core/Src/main.c **** uint8_t colors_Mode_C[4][3] = {
  74:Core/Src/main.c ****   {0, 0, 100},
  75:Core/Src/main.c ****   {80, 50, 0},
  76:Core/Src/main.c ****   {50, 0, 50},
  77:Core/Src/main.c ****   {0, 0, 0}
  78:Core/Src/main.c **** };
  79:Core/Src/main.c **** 
  80:Core/Src/main.c **** uint8_t (*color_PWM_Set[3])[3] = { colors_Mode_A, colors_Mode_B, colors_Mode_C };
  81:Core/Src/main.c **** uint8_t color_PWM[4][3];
  82:Core/Src/main.c **** 
  83:Core/Src/main.c **** 
  84:Core/Src/main.c **** 
  85:Core/Src/main.c **** char* morse_Messages[] = {
  86:Core/Src/main.c ****   "..--- ----. / ... - .- .-. -",      
  87:Core/Src/main.c ****   ". -.-. .... .. .--. .- / ..--- ----.",              
  88:Core/Src/main.c ****   ".... . .-.. .-.. --- / ..--- ----.",     
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 3


  89:Core/Src/main.c **** };
  90:Core/Src/main.c **** 
  91:Core/Src/main.c **** char morse_Msg[64] = "..--- ----. / ... - .- .-. -";
  92:Core/Src/main.c **** 
  93:Core/Src/main.c **** uint8_t current_Mode = 0; //0 - A, 1 - B, 2 - C
  94:Core/Src/main.c **** uint8_t T = 100;
  95:Core/Src/main.c **** 
  96:Core/Src/main.c **** 
  97:Core/Src/main.c **** uint8_t test_mode = 0; // 0=RGB mode, 1=Cable test
  98:Core/Src/main.c **** uint8_t last_button_state = 1;
  99:Core/Src/main.c **** /* USER CODE END PV */
 100:Core/Src/main.c **** 
 101:Core/Src/main.c **** typedef enum {
 102:Core/Src/main.c ****   CABLE_STRAIGHT,
 103:Core/Src/main.c ****   CABLE_CROSSOVER,
 104:Core/Src/main.c ****   CABLE_FAULTY
 105:Core/Src/main.c **** } CableType;
 106:Core/Src/main.c **** 
 107:Core/Src/main.c **** const char* cable_type_names[] = {
 108:Core/Src/main.c ****   "Straight",
 109:Core/Src/main.c ****   "Crossover",
 110:Core/Src/main.c ****   "Faulty"
 111:Core/Src/main.c **** };
 112:Core/Src/main.c **** /* USER CODE END PV */
 113:Core/Src/main.c **** 
 114:Core/Src/main.c **** /* USER CODE END PV */
 115:Core/Src/main.c **** 
 116:Core/Src/main.c **** /* Private function prototypes -----------------------------------------------*/
 117:Core/Src/main.c **** void SystemClock_Config(void);
 118:Core/Src/main.c **** /* USER CODE BEGIN PFP */
 119:Core/Src/main.c **** 
 120:Core/Src/main.c **** /* USER CODE END PFP */
 121:Core/Src/main.c **** 
 122:Core/Src/main.c **** /* Private user code ---------------------------------------------------------*/
 123:Core/Src/main.c **** /* USER CODE BEGIN 0 */
 124:Core/Src/main.c **** 
 125:Core/Src/main.c **** #ifdef __GNUC__
 126:Core/Src/main.c **** #define PUTCHAR_PROTOTYPE int __io_putchar(int ch)
 127:Core/Src/main.c **** #else
 128:Core/Src/main.c **** #define PUTCHAR_PROTOTYPE int fputc(int ch, FILE *f)
 129:Core/Src/main.c **** #endif
 130:Core/Src/main.c **** 
 131:Core/Src/main.c **** /**
 132:Core/Src/main.c ****   * @brief  Retargets the C library printf function to the USART.
 133:Core/Src/main.c ****   * @param  None
 134:Core/Src/main.c ****   * @retval None
 135:Core/Src/main.c ****   */
 136:Core/Src/main.c **** PUTCHAR_PROTOTYPE
 137:Core/Src/main.c **** {
  28              		.loc 1 137 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 8
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 137 1 is_stmt 0 view .LVU1
  33 0000 00B5     		push	{lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 4
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 4


  36              		.cfi_offset 14, -4
  37 0002 83B0     		sub	sp, sp, #12
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 16
  40 0004 0190     		str	r0, [sp, #4]
 138:Core/Src/main.c ****   HAL_UART_Transmit(&huart1, (uint8_t *)&ch, 1, 0xFFFF);
  41              		.loc 1 138 3 is_stmt 1 view .LVU2
  42 0006 4FF6FF73 		movw	r3, #65535
  43 000a 0122     		movs	r2, #1
  44 000c 01A9     		add	r1, sp, #4
  45 000e 0348     		ldr	r0, .L3
  46              	.LVL1:
  47              		.loc 1 138 3 is_stmt 0 view .LVU3
  48 0010 FFF7FEFF 		bl	HAL_UART_Transmit
  49              	.LVL2:
 139:Core/Src/main.c ****   return ch;
  50              		.loc 1 139 3 is_stmt 1 view .LVU4
 140:Core/Src/main.c **** }
  51              		.loc 1 140 1 is_stmt 0 view .LVU5
  52 0014 0198     		ldr	r0, [sp, #4]
  53 0016 03B0     		add	sp, sp, #12
  54              	.LCFI2:
  55              		.cfi_def_cfa_offset 4
  56              		@ sp needed
  57 0018 5DF804FB 		ldr	pc, [sp], #4
  58              	.L4:
  59              		.align	2
  60              	.L3:
  61 001c 00000000 		.word	huart1
  62              		.cfi_endproc
  63              	.LFE68:
  65              		.section	.text._write,"ax",%progbits
  66              		.align	1
  67              		.global	_write
  68              		.syntax unified
  69              		.thumb
  70              		.thumb_func
  72              	_write:
  73              	.LVL3:
  74              	.LFB69:
 141:Core/Src/main.c **** 
 142:Core/Src/main.c **** /* also redefine _write for printf*/
 143:Core/Src/main.c **** int _write(int fd, char * ptr, int len)
 144:Core/Src/main.c **** {
  75              		.loc 1 144 1 is_stmt 1 view -0
  76              		.cfi_startproc
  77              		@ args = 0, pretend = 0, frame = 0
  78              		@ frame_needed = 0, uses_anonymous_args = 0
  79              		.loc 1 144 1 is_stmt 0 view .LVU7
  80 0000 10B5     		push	{r4, lr}
  81              	.LCFI3:
  82              		.cfi_def_cfa_offset 8
  83              		.cfi_offset 4, -8
  84              		.cfi_offset 14, -4
  85 0002 1446     		mov	r4, r2
 145:Core/Src/main.c ****   HAL_UART_Transmit(&huart1, (uint8_t *) ptr, len, HAL_MAX_DELAY);
  86              		.loc 1 145 3 is_stmt 1 view .LVU8
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 5


  87 0004 4FF0FF33 		mov	r3, #-1
  88 0008 92B2     		uxth	r2, r2
  89              	.LVL4:
  90              		.loc 1 145 3 is_stmt 0 view .LVU9
  91 000a 0248     		ldr	r0, .L7
  92              	.LVL5:
  93              		.loc 1 145 3 view .LVU10
  94 000c FFF7FEFF 		bl	HAL_UART_Transmit
  95              	.LVL6:
 146:Core/Src/main.c ****   return len;
  96              		.loc 1 146 3 is_stmt 1 view .LVU11
 147:Core/Src/main.c **** }
  97              		.loc 1 147 1 is_stmt 0 view .LVU12
  98 0010 2046     		mov	r0, r4
  99 0012 10BD     		pop	{r4, pc}
 100              	.LVL7:
 101              	.L8:
 102              		.loc 1 147 1 view .LVU13
 103              		.align	2
 104              	.L7:
 105 0014 00000000 		.word	huart1
 106              		.cfi_endproc
 107              	.LFE69:
 109              		.section	.text.dot,"ax",%progbits
 110              		.align	1
 111              		.global	dot
 112              		.syntax unified
 113              		.thumb
 114              		.thumb_func
 116              	dot:
 117              	.LFB70:
 148:Core/Src/main.c **** uint8_t dot_Color[] = {1, 0, 1};
 149:Core/Src/main.c **** uint8_t dash_Color[] = {0, 1, 0};
 150:Core/Src/main.c **** void dot() {
 118              		.loc 1 150 12 is_stmt 1 view -0
 119              		.cfi_startproc
 120              		@ args = 0, pretend = 0, frame = 8
 121              		@ frame_needed = 0, uses_anonymous_args = 0
 122 0000 10B5     		push	{r4, lr}
 123              	.LCFI4:
 124              		.cfi_def_cfa_offset 8
 125              		.cfi_offset 4, -8
 126              		.cfi_offset 14, -4
 127 0002 82B0     		sub	sp, sp, #8
 128              	.LCFI5:
 129              		.cfi_def_cfa_offset 16
 151:Core/Src/main.c ****   uint8_t dot_Color[] = {1, 0, 1};
 130              		.loc 1 151 3 view .LVU15
 131              		.loc 1 151 11 is_stmt 0 view .LVU16
 132 0004 184B     		ldr	r3, .L15
 133 0006 1B68     		ldr	r3, [r3]
 134 0008 ADF80430 		strh	r3, [sp, #4]	@ movhi
 135 000c 1B0C     		lsrs	r3, r3, #16
 136 000e 8DF80630 		strb	r3, [sp, #6]
 152:Core/Src/main.c **** 
 153:Core/Src/main.c ****   for(unsigned int k=0; k<3; k++)
 137              		.loc 1 153 3 is_stmt 1 view .LVU17
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 6


 138              	.LBB4:
 139              		.loc 1 153 7 view .LVU18
 140              	.LVL8:
 141              		.loc 1 153 20 is_stmt 0 view .LVU19
 142 0012 0024     		movs	r4, #0
 143              		.loc 1 153 3 view .LVU20
 144 0014 0DE0     		b	.L10
 145              	.LVL9:
 146              	.L11:
 154:Core/Src/main.c ****     HAL_GPIO_WritePin(RGB_GPIO_Banks[k], RGB_GPIO_Pins[k], dot_Color[k]);
 147              		.loc 1 154 5 is_stmt 1 view .LVU21
 148              		.loc 1 154 69 is_stmt 0 view .LVU22
 149 0016 04F10803 		add	r3, r4, #8
 150 001a 6B44     		add	r3, sp, r3
 151              		.loc 1 154 5 view .LVU23
 152 001c 13F8042C 		ldrb	r2, [r3, #-4]	@ zero_extendqisi2
 153 0020 124B     		ldr	r3, .L15+4
 154 0022 33F81410 		ldrh	r1, [r3, r4, lsl #1]
 155 0026 124B     		ldr	r3, .L15+8
 156 0028 53F82400 		ldr	r0, [r3, r4, lsl #2]
 157 002c FFF7FEFF 		bl	HAL_GPIO_WritePin
 158              	.LVL10:
 153:Core/Src/main.c ****     HAL_GPIO_WritePin(RGB_GPIO_Banks[k], RGB_GPIO_Pins[k], dot_Color[k]);
 159              		.loc 1 153 31 is_stmt 1 discriminator 3 view .LVU24
 160 0030 0134     		adds	r4, r4, #1
 161              	.LVL11:
 162              	.L10:
 153:Core/Src/main.c ****     HAL_GPIO_WritePin(RGB_GPIO_Banks[k], RGB_GPIO_Pins[k], dot_Color[k]);
 163              		.loc 1 153 26 discriminator 1 view .LVU25
 164 0032 022C     		cmp	r4, #2
 165 0034 EFD9     		bls	.L11
 166              	.LBE4:
 155:Core/Src/main.c ****   HAL_Delay(T);
 167              		.loc 1 155 3 view .LVU26
 168 0036 0F4B     		ldr	r3, .L15+12
 169 0038 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 170 003a FFF7FEFF 		bl	HAL_Delay
 171              	.LVL12:
 156:Core/Src/main.c **** 
 157:Core/Src/main.c ****   for(unsigned int k=0; k<3; k++)
 172              		.loc 1 157 3 view .LVU27
 173              	.LBB5:
 174              		.loc 1 157 7 view .LVU28
 175              		.loc 1 157 20 is_stmt 0 view .LVU29
 176 003e 0024     		movs	r4, #0
 177              	.LVL13:
 178              		.loc 1 157 3 view .LVU30
 179 0040 09E0     		b	.L12
 180              	.LVL14:
 181              	.L13:
 158:Core/Src/main.c ****     HAL_GPIO_WritePin(RGB_GPIO_Banks[k], RGB_GPIO_Pins[k], 0);
 182              		.loc 1 158 5 is_stmt 1 view .LVU31
 183 0042 0022     		movs	r2, #0
 184 0044 094B     		ldr	r3, .L15+4
 185 0046 33F81410 		ldrh	r1, [r3, r4, lsl #1]
 186 004a 094B     		ldr	r3, .L15+8
 187 004c 53F82400 		ldr	r0, [r3, r4, lsl #2]
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 7


 188 0050 FFF7FEFF 		bl	HAL_GPIO_WritePin
 189              	.LVL15:
 157:Core/Src/main.c ****     HAL_GPIO_WritePin(RGB_GPIO_Banks[k], RGB_GPIO_Pins[k], 0);
 190              		.loc 1 157 31 discriminator 3 view .LVU32
 191 0054 0134     		adds	r4, r4, #1
 192              	.LVL16:
 193              	.L12:
 157:Core/Src/main.c ****     HAL_GPIO_WritePin(RGB_GPIO_Banks[k], RGB_GPIO_Pins[k], 0);
 194              		.loc 1 157 26 discriminator 1 view .LVU33
 195 0056 022C     		cmp	r4, #2
 196 0058 F3D9     		bls	.L13
 197              	.LBE5:
 159:Core/Src/main.c ****   HAL_Delay(T);
 198              		.loc 1 159 3 view .LVU34
 199 005a 064B     		ldr	r3, .L15+12
 200 005c 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 201 005e FFF7FEFF 		bl	HAL_Delay
 202              	.LVL17:
 160:Core/Src/main.c **** }
 203              		.loc 1 160 1 is_stmt 0 view .LVU35
 204 0062 02B0     		add	sp, sp, #8
 205              	.LCFI6:
 206              		.cfi_def_cfa_offset 8
 207              		@ sp needed
 208 0064 10BD     		pop	{r4, pc}
 209              	.LVL18:
 210              	.L16:
 211              		.loc 1 160 1 view .LVU36
 212 0066 00BF     		.align	2
 213              	.L15:
 214 0068 00000000 		.word	.LANCHOR0
 215 006c 00000000 		.word	RGB_GPIO_Pins
 216 0070 00000000 		.word	RGB_GPIO_Banks
 217 0074 00000000 		.word	T
 218              		.cfi_endproc
 219              	.LFE70:
 221              		.section	.text.dash,"ax",%progbits
 222              		.align	1
 223              		.global	dash
 224              		.syntax unified
 225              		.thumb
 226              		.thumb_func
 228              	dash:
 229              	.LFB71:
 161:Core/Src/main.c **** 
 162:Core/Src/main.c **** void dash() {
 230              		.loc 1 162 13 is_stmt 1 view -0
 231              		.cfi_startproc
 232              		@ args = 0, pretend = 0, frame = 8
 233              		@ frame_needed = 0, uses_anonymous_args = 0
 234 0000 10B5     		push	{r4, lr}
 235              	.LCFI7:
 236              		.cfi_def_cfa_offset 8
 237              		.cfi_offset 4, -8
 238              		.cfi_offset 14, -4
 239 0002 82B0     		sub	sp, sp, #8
 240              	.LCFI8:
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 8


 241              		.cfi_def_cfa_offset 16
 163:Core/Src/main.c ****   uint8_t dash_Color[] = {0, 1, 0};
 242              		.loc 1 163 3 view .LVU38
 243              		.loc 1 163 11 is_stmt 0 view .LVU39
 244 0004 194B     		ldr	r3, .L23
 245 0006 5B68     		ldr	r3, [r3, #4]
 246 0008 ADF80430 		strh	r3, [sp, #4]	@ movhi
 247 000c 1B0C     		lsrs	r3, r3, #16
 248 000e 8DF80630 		strb	r3, [sp, #6]
 164:Core/Src/main.c **** 
 165:Core/Src/main.c ****   for(unsigned int k=0; k<3; k++)
 249              		.loc 1 165 3 is_stmt 1 view .LVU40
 250              	.LBB6:
 251              		.loc 1 165 7 view .LVU41
 252              	.LVL19:
 253              		.loc 1 165 20 is_stmt 0 view .LVU42
 254 0012 0024     		movs	r4, #0
 255              		.loc 1 165 3 view .LVU43
 256 0014 0DE0     		b	.L18
 257              	.LVL20:
 258              	.L19:
 166:Core/Src/main.c ****     HAL_GPIO_WritePin(RGB_GPIO_Banks[k], RGB_GPIO_Pins[k], dash_Color[k]);
 259              		.loc 1 166 5 is_stmt 1 view .LVU44
 260              		.loc 1 166 70 is_stmt 0 view .LVU45
 261 0016 04F10803 		add	r3, r4, #8
 262 001a 6B44     		add	r3, sp, r3
 263              		.loc 1 166 5 view .LVU46
 264 001c 13F8042C 		ldrb	r2, [r3, #-4]	@ zero_extendqisi2
 265 0020 134B     		ldr	r3, .L23+4
 266 0022 33F81410 		ldrh	r1, [r3, r4, lsl #1]
 267 0026 134B     		ldr	r3, .L23+8
 268 0028 53F82400 		ldr	r0, [r3, r4, lsl #2]
 269 002c FFF7FEFF 		bl	HAL_GPIO_WritePin
 270              	.LVL21:
 165:Core/Src/main.c ****     HAL_GPIO_WritePin(RGB_GPIO_Banks[k], RGB_GPIO_Pins[k], dash_Color[k]);
 271              		.loc 1 165 31 is_stmt 1 discriminator 3 view .LVU47
 272 0030 0134     		adds	r4, r4, #1
 273              	.LVL22:
 274              	.L18:
 165:Core/Src/main.c ****     HAL_GPIO_WritePin(RGB_GPIO_Banks[k], RGB_GPIO_Pins[k], dash_Color[k]);
 275              		.loc 1 165 26 discriminator 1 view .LVU48
 276 0032 022C     		cmp	r4, #2
 277 0034 EFD9     		bls	.L19
 278              	.LBE6:
 167:Core/Src/main.c ****   HAL_Delay(3*T);
 279              		.loc 1 167 3 view .LVU49
 280              		.loc 1 167 14 is_stmt 0 view .LVU50
 281 0036 104B     		ldr	r3, .L23+12
 282 0038 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 283              		.loc 1 167 3 view .LVU51
 284 003a 00EB4000 		add	r0, r0, r0, lsl #1
 285 003e FFF7FEFF 		bl	HAL_Delay
 286              	.LVL23:
 168:Core/Src/main.c **** 
 169:Core/Src/main.c ****   for(unsigned int k=0; k<3; k++)
 287              		.loc 1 169 3 is_stmt 1 view .LVU52
 288              	.LBB7:
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 9


 289              		.loc 1 169 7 view .LVU53
 290              		.loc 1 169 20 is_stmt 0 view .LVU54
 291 0042 0024     		movs	r4, #0
 292              	.LVL24:
 293              		.loc 1 169 3 view .LVU55
 294 0044 09E0     		b	.L20
 295              	.LVL25:
 296              	.L21:
 170:Core/Src/main.c ****     HAL_GPIO_WritePin(RGB_GPIO_Banks[k], RGB_GPIO_Pins[k], 0);
 297              		.loc 1 170 5 is_stmt 1 view .LVU56
 298 0046 0022     		movs	r2, #0
 299 0048 094B     		ldr	r3, .L23+4
 300 004a 33F81410 		ldrh	r1, [r3, r4, lsl #1]
 301 004e 094B     		ldr	r3, .L23+8
 302 0050 53F82400 		ldr	r0, [r3, r4, lsl #2]
 303 0054 FFF7FEFF 		bl	HAL_GPIO_WritePin
 304              	.LVL26:
 169:Core/Src/main.c ****     HAL_GPIO_WritePin(RGB_GPIO_Banks[k], RGB_GPIO_Pins[k], 0);
 305              		.loc 1 169 31 discriminator 3 view .LVU57
 306 0058 0134     		adds	r4, r4, #1
 307              	.LVL27:
 308              	.L20:
 169:Core/Src/main.c ****     HAL_GPIO_WritePin(RGB_GPIO_Banks[k], RGB_GPIO_Pins[k], 0);
 309              		.loc 1 169 26 discriminator 1 view .LVU58
 310 005a 022C     		cmp	r4, #2
 311 005c F3D9     		bls	.L21
 312              	.LBE7:
 171:Core/Src/main.c ****   HAL_Delay(T);
 313              		.loc 1 171 3 view .LVU59
 314 005e 064B     		ldr	r3, .L23+12
 315 0060 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 316 0062 FFF7FEFF 		bl	HAL_Delay
 317              	.LVL28:
 172:Core/Src/main.c **** }
 318              		.loc 1 172 1 is_stmt 0 view .LVU60
 319 0066 02B0     		add	sp, sp, #8
 320              	.LCFI9:
 321              		.cfi_def_cfa_offset 8
 322              		@ sp needed
 323 0068 10BD     		pop	{r4, pc}
 324              	.LVL29:
 325              	.L24:
 326              		.loc 1 172 1 view .LVU61
 327 006a 00BF     		.align	2
 328              	.L23:
 329 006c 00000000 		.word	.LANCHOR0
 330 0070 00000000 		.word	RGB_GPIO_Pins
 331 0074 00000000 		.word	RGB_GPIO_Banks
 332 0078 00000000 		.word	T
 333              		.cfi_endproc
 334              	.LFE71:
 336              		.section	.rodata.morse_Send.str1.4,"aMS",%progbits,1
 337              		.align	2
 338              	.LC4:
 339 0000 0D0A0D0A 		.ascii	"\015\012\015\012[ SENDING MESSAGE ]\015\000"
 339      5B205345 
 339      4E44494E 
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 10


 339      47204D45 
 339      53534147 
 340 0019 000000   		.align	2
 341              	.LC5:
 342 001c 0D00     		.ascii	"\015\000"
 343              		.section	.text.morse_Send,"ax",%progbits
 344              		.align	1
 345              		.global	morse_Send
 346              		.syntax unified
 347              		.thumb
 348              		.thumb_func
 350              	morse_Send:
 351              	.LVL30:
 352              	.LFB72:
 173:Core/Src/main.c **** 
 174:Core/Src/main.c **** void morse_Send(char* msg) {
 353              		.loc 1 174 28 is_stmt 1 view -0
 354              		.cfi_startproc
 355              		@ args = 0, pretend = 0, frame = 0
 356              		@ frame_needed = 0, uses_anonymous_args = 0
 357              		.loc 1 174 28 is_stmt 0 view .LVU63
 358 0000 38B5     		push	{r3, r4, r5, lr}
 359              	.LCFI10:
 360              		.cfi_def_cfa_offset 16
 361              		.cfi_offset 3, -16
 362              		.cfi_offset 4, -12
 363              		.cfi_offset 5, -8
 364              		.cfi_offset 14, -4
 365 0002 0546     		mov	r5, r0
 175:Core/Src/main.c ****   printf("\r\n\r\n[ SENDING MESSAGE ]\r\n");
 366              		.loc 1 175 3 is_stmt 1 view .LVU64
 367 0004 1248     		ldr	r0, .L34
 368              	.LVL31:
 369              		.loc 1 175 3 is_stmt 0 view .LVU65
 370 0006 FFF7FEFF 		bl	puts
 371              	.LVL32:
 176:Core/Src/main.c ****   for(unsigned int j=0; j<strlen(msg); j++) {
 372              		.loc 1 176 3 is_stmt 1 view .LVU66
 373              	.LBB8:
 374              		.loc 1 176 7 view .LVU67
 375              		.loc 1 176 20 is_stmt 0 view .LVU68
 376 000a 0024     		movs	r4, #0
 377              		.loc 1 176 3 view .LVU69
 378 000c 06E0     		b	.L26
 379              	.LVL33:
 380              	.L33:
 177:Core/Src/main.c ****     switch(morse_Msg[j]) {
 178:Core/Src/main.c ****       case '.':
 179:Core/Src/main.c ****         dot();
 381              		.loc 1 179 9 is_stmt 1 view .LVU70
 382 000e FFF7FEFF 		bl	dot
 383              	.LVL34:
 180:Core/Src/main.c ****         break;
 384              		.loc 1 180 9 view .LVU71
 385              	.L29:
 181:Core/Src/main.c ****       case '-':
 182:Core/Src/main.c ****         dash();
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 11


 183:Core/Src/main.c ****         break;
 184:Core/Src/main.c ****       default:
 185:Core/Src/main.c ****         HAL_Delay(3*T);
 186:Core/Src/main.c ****     }
 187:Core/Src/main.c ****     printf("%c", morse_Msg[j]);
 386              		.loc 1 187 5 view .LVU72
 387 0012 104B     		ldr	r3, .L34+4
 388 0014 185D     		ldrb	r0, [r3, r4]	@ zero_extendqisi2
 389 0016 FFF7FEFF 		bl	putchar
 390              	.LVL35:
 176:Core/Src/main.c ****     switch(morse_Msg[j]) {
 391              		.loc 1 176 41 discriminator 2 view .LVU73
 392 001a 0134     		adds	r4, r4, #1
 393              	.LVL36:
 394              	.L26:
 176:Core/Src/main.c ****     switch(morse_Msg[j]) {
 395              		.loc 1 176 26 discriminator 1 view .LVU74
 176:Core/Src/main.c ****     switch(morse_Msg[j]) {
 396              		.loc 1 176 27 is_stmt 0 discriminator 1 view .LVU75
 397 001c 2846     		mov	r0, r5
 398 001e FFF7FEFF 		bl	strlen
 399              	.LVL37:
 176:Core/Src/main.c ****     switch(morse_Msg[j]) {
 400              		.loc 1 176 26 discriminator 1 view .LVU76
 401 0022 A042     		cmp	r0, r4
 402 0024 0FD9     		bls	.L32
 177:Core/Src/main.c ****       case '.':
 403              		.loc 1 177 5 is_stmt 1 view .LVU77
 177:Core/Src/main.c ****       case '.':
 404              		.loc 1 177 21 is_stmt 0 view .LVU78
 405 0026 0B4B     		ldr	r3, .L34+4
 406 0028 1B5D     		ldrb	r3, [r3, r4]	@ zero_extendqisi2
 177:Core/Src/main.c ****       case '.':
 407              		.loc 1 177 5 view .LVU79
 408 002a 2D2B     		cmp	r3, #45
 409 002c 08D0     		beq	.L27
 410 002e 2E2B     		cmp	r3, #46
 411 0030 EDD0     		beq	.L33
 185:Core/Src/main.c ****     }
 412              		.loc 1 185 9 is_stmt 1 view .LVU80
 185:Core/Src/main.c ****     }
 413              		.loc 1 185 20 is_stmt 0 view .LVU81
 414 0032 094B     		ldr	r3, .L34+8
 415 0034 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 185:Core/Src/main.c ****     }
 416              		.loc 1 185 9 view .LVU82
 417 0036 00EB4000 		add	r0, r0, r0, lsl #1
 418 003a FFF7FEFF 		bl	HAL_Delay
 419              	.LVL38:
 420 003e E8E7     		b	.L29
 421              	.L27:
 182:Core/Src/main.c ****         break;
 422              		.loc 1 182 9 is_stmt 1 view .LVU83
 423 0040 FFF7FEFF 		bl	dash
 424              	.LVL39:
 183:Core/Src/main.c ****       default:
 425              		.loc 1 183 9 view .LVU84
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 12


 426 0044 E5E7     		b	.L29
 427              	.L32:
 428              	.LBE8:
 188:Core/Src/main.c ****   }
 189:Core/Src/main.c ****   printf("\r\n");
 429              		.loc 1 189 3 view .LVU85
 430 0046 0548     		ldr	r0, .L34+12
 431 0048 FFF7FEFF 		bl	puts
 432              	.LVL40:
 190:Core/Src/main.c **** }
 433              		.loc 1 190 1 is_stmt 0 view .LVU86
 434 004c 38BD     		pop	{r3, r4, r5, pc}
 435              	.LVL41:
 436              	.L35:
 437              		.loc 1 190 1 view .LVU87
 438 004e 00BF     		.align	2
 439              	.L34:
 440 0050 00000000 		.word	.LC4
 441 0054 00000000 		.word	morse_Msg
 442 0058 00000000 		.word	T
 443 005c 1C000000 		.word	.LC5
 444              		.cfi_endproc
 445              	.LFE72:
 447              		.section	.rodata.morse_Trigger.str1.4,"aMS",%progbits,1
 448              		.align	2
 449              	.LC7:
 450 0000 53776974 		.ascii	"Switched to mode %c\015\012\000"
 450      63686564 
 450      20746F20 
 450      6D6F6465 
 450      2025630D 
 451 0016 0000     		.align	2
 452              	.LC6:
 453 0018 6D6F7273 		.ascii	"morse\000"
 453      6500
 454              		.section	.text.morse_Trigger,"ax",%progbits
 455              		.align	1
 456              		.global	morse_Trigger
 457              		.syntax unified
 458              		.thumb
 459              		.thumb_func
 461              	morse_Trigger:
 462              	.LVL42:
 463              	.LFB73:
 191:Core/Src/main.c **** 
 192:Core/Src/main.c **** void morse_Trigger(char c) {
 464              		.loc 1 192 28 is_stmt 1 view -0
 465              		.cfi_startproc
 466              		@ args = 0, pretend = 0, frame = 8
 467              		@ frame_needed = 0, uses_anonymous_args = 0
 468              		.loc 1 192 28 is_stmt 0 view .LVU89
 469 0000 30B5     		push	{r4, r5, lr}
 470              	.LCFI11:
 471              		.cfi_def_cfa_offset 12
 472              		.cfi_offset 4, -12
 473              		.cfi_offset 5, -8
 474              		.cfi_offset 14, -4
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 13


 475 0002 83B0     		sub	sp, sp, #12
 476              	.LCFI12:
 477              		.cfi_def_cfa_offset 24
 478 0004 0446     		mov	r4, r0
 193:Core/Src/main.c ****   char s[] = "morse";
 479              		.loc 1 193 3 is_stmt 1 view .LVU90
 480              		.loc 1 193 8 is_stmt 0 view .LVU91
 481 0006 204B     		ldr	r3, .L46
 482 0008 93E80300 		ldm	r3, {r0, r1}
 483              	.LVL43:
 484              		.loc 1 193 8 view .LVU92
 485 000c 0090     		str	r0, [sp]
 486 000e ADF80410 		strh	r1, [sp, #4]	@ movhi
 194:Core/Src/main.c ****   static unsigned int i = 0;
 487              		.loc 1 194 3 is_stmt 1 view .LVU93
 195:Core/Src/main.c **** 
 196:Core/Src/main.c ****   if(c == 'A' || c == 'B' || c == 'C') {
 488              		.loc 1 196 3 view .LVU94
 489              		.loc 1 196 27 is_stmt 0 view .LVU95
 490 0012 A4F14103 		sub	r3, r4, #65
 491 0016 DBB2     		uxtb	r3, r3
 492              		.loc 1 196 5 view .LVU96
 493 0018 022B     		cmp	r3, #2
 494 001a 14D9     		bls	.L43
 197:Core/Src/main.c ****     current_Mode = c - 'A';  // Set mode 0, 1 or 2
 198:Core/Src/main.c ****     memcpy(color_PWM, color_PWM_Set[current_Mode], sizeof(color_PWM));
 199:Core/Src/main.c ****     strcpy(morse_Msg, morse_Messages[current_Mode]);
 200:Core/Src/main.c ****     printf("Switched to mode %c\r\n", c);
 201:Core/Src/main.c ****     return;
 202:Core/Src/main.c ****   }
 203:Core/Src/main.c **** 
 204:Core/Src/main.c ****   if(c == s[i])
 495              		.loc 1 204 3 is_stmt 1 view .LVU97
 496              		.loc 1 204 12 is_stmt 0 view .LVU98
 497 001c 1B4B     		ldr	r3, .L46+4
 498 001e 1B68     		ldr	r3, [r3]
 499 0020 03F10802 		add	r2, r3, #8
 500 0024 6A44     		add	r2, sp, r2
 501 0026 12F8082C 		ldrb	r2, [r2, #-8]	@ zero_extendqisi2
 502              		.loc 1 204 5 view .LVU99
 503 002a A242     		cmp	r2, r4
 504 002c 20D0     		beq	.L44
 205:Core/Src/main.c ****     i++;
 206:Core/Src/main.c ****   else
 207:Core/Src/main.c ****     i = 0;
 505              		.loc 1 207 5 is_stmt 1 view .LVU100
 506              		.loc 1 207 7 is_stmt 0 view .LVU101
 507 002e 174B     		ldr	r3, .L46+4
 508 0030 0022     		movs	r2, #0
 509 0032 1A60     		str	r2, [r3]
 510              	.L40:
 208:Core/Src/main.c ****   
 209:Core/Src/main.c ****   if(!s[i]) {
 511              		.loc 1 209 3 is_stmt 1 view .LVU102
 512              		.loc 1 209 8 is_stmt 0 view .LVU103
 513 0034 154B     		ldr	r3, .L46+4
 514 0036 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 14


 515 0038 0833     		adds	r3, r3, #8
 516 003a 6B44     		add	r3, sp, r3
 517 003c 13F8083C 		ldrb	r3, [r3, #-8]	@ zero_extendqisi2
 518              		.loc 1 209 5 view .LVU104
 519 0040 D3B1     		cbz	r3, .L45
 520              	.L36:
 210:Core/Src/main.c ****     i = 0;
 211:Core/Src/main.c ****     morse_Send(morse_Msg);
 212:Core/Src/main.c ****   }
 213:Core/Src/main.c **** }
 521              		.loc 1 213 1 view .LVU105
 522 0042 03B0     		add	sp, sp, #12
 523              	.LCFI13:
 524              		.cfi_remember_state
 525              		.cfi_def_cfa_offset 12
 526              		@ sp needed
 527 0044 30BD     		pop	{r4, r5, pc}
 528              	.LVL44:
 529              	.L43:
 530              	.LCFI14:
 531              		.cfi_restore_state
 197:Core/Src/main.c ****     memcpy(color_PWM, color_PWM_Set[current_Mode], sizeof(color_PWM));
 532              		.loc 1 197 5 is_stmt 1 view .LVU106
 197:Core/Src/main.c ****     memcpy(color_PWM, color_PWM_Set[current_Mode], sizeof(color_PWM));
 533              		.loc 1 197 18 is_stmt 0 view .LVU107
 534 0046 124A     		ldr	r2, .L46+8
 535 0048 1370     		strb	r3, [r2]
 198:Core/Src/main.c ****     strcpy(morse_Msg, morse_Messages[current_Mode]);
 536              		.loc 1 198 5 is_stmt 1 view .LVU108
 198:Core/Src/main.c ****     strcpy(morse_Msg, morse_Messages[current_Mode]);
 537              		.loc 1 198 36 is_stmt 0 view .LVU109
 538 004a 124A     		ldr	r2, .L46+12
 539 004c 52F82320 		ldr	r2, [r2, r3, lsl #2]
 198:Core/Src/main.c ****     strcpy(morse_Msg, morse_Messages[current_Mode]);
 540              		.loc 1 198 5 view .LVU110
 541 0050 114D     		ldr	r5, .L46+16
 542 0052 1068     		ldr	r0, [r2]	@ unaligned
 543 0054 5168     		ldr	r1, [r2, #4]	@ unaligned
 544 0056 9268     		ldr	r2, [r2, #8]	@ unaligned
 545 0058 07C5     		stmia	r5!, {r0, r1, r2}
 199:Core/Src/main.c ****     printf("Switched to mode %c\r\n", c);
 546              		.loc 1 199 5 is_stmt 1 view .LVU111
 547 005a 104A     		ldr	r2, .L46+20
 548 005c 52F82310 		ldr	r1, [r2, r3, lsl #2]
 549 0060 0F48     		ldr	r0, .L46+24
 550 0062 FFF7FEFF 		bl	strcpy
 551              	.LVL45:
 200:Core/Src/main.c ****     return;
 552              		.loc 1 200 5 view .LVU112
 553 0066 2146     		mov	r1, r4
 554 0068 0E48     		ldr	r0, .L46+28
 555 006a FFF7FEFF 		bl	printf
 556              	.LVL46:
 201:Core/Src/main.c ****   }
 557              		.loc 1 201 5 view .LVU113
 558 006e E8E7     		b	.L36
 559              	.L44:
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 15


 205:Core/Src/main.c ****   else
 560              		.loc 1 205 5 view .LVU114
 205:Core/Src/main.c ****   else
 561              		.loc 1 205 6 is_stmt 0 view .LVU115
 562 0070 0133     		adds	r3, r3, #1
 563 0072 064A     		ldr	r2, .L46+4
 564 0074 1360     		str	r3, [r2]
 565 0076 DDE7     		b	.L40
 566              	.L45:
 210:Core/Src/main.c ****     morse_Send(morse_Msg);
 567              		.loc 1 210 5 is_stmt 1 view .LVU116
 210:Core/Src/main.c ****     morse_Send(morse_Msg);
 568              		.loc 1 210 7 is_stmt 0 view .LVU117
 569 0078 044B     		ldr	r3, .L46+4
 570 007a 0022     		movs	r2, #0
 571 007c 1A60     		str	r2, [r3]
 211:Core/Src/main.c ****   }
 572              		.loc 1 211 5 is_stmt 1 view .LVU118
 573 007e 0848     		ldr	r0, .L46+24
 574 0080 FFF7FEFF 		bl	morse_Send
 575              	.LVL47:
 576 0084 DDE7     		b	.L36
 577              	.L47:
 578 0086 00BF     		.align	2
 579              	.L46:
 580 0088 18000000 		.word	.LC6
 581 008c 00000000 		.word	i.2
 582 0090 00000000 		.word	current_Mode
 583 0094 00000000 		.word	color_PWM_Set
 584 0098 00000000 		.word	color_PWM
 585 009c 00000000 		.word	morse_Messages
 586 00a0 00000000 		.word	morse_Msg
 587 00a4 00000000 		.word	.LC7
 588              		.cfi_endproc
 589              	.LFE73:
 591              		.section	.rodata.HAL_UART_RxCpltCallback.str1.4,"aMS",%progbits,1
 592              		.align	2
 593              	.LC8:
 594 0000 4361626C 		.ascii	"Cable Test Mode\000"
 594      65205465 
 594      7374204D 
 594      6F646500 
 595              		.align	2
 596              	.LC9:
 597 0010 52474220 		.ascii	"RGB Mode\000"
 597      4D6F6465 
 597      00
 598 0019 000000   		.align	2
 599              	.LC10:
 600 001c 436F6465 		.ascii	"Code Version %d.%d\015\012\000"
 600      20566572 
 600      73696F6E 
 600      2025642E 
 600      25640D0A 
 601              		.section	.text.HAL_UART_RxCpltCallback,"ax",%progbits
 602              		.align	1
 603              		.global	HAL_UART_RxCpltCallback
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 16


 604              		.syntax unified
 605              		.thumb
 606              		.thumb_func
 608              	HAL_UART_RxCpltCallback:
 609              	.LVL48:
 610              	.LFB74:
 214:Core/Src/main.c **** 
 215:Core/Src/main.c **** 
 216:Core/Src/main.c **** /* Callback function for UART RX Complete: process incoming character */
 217:Core/Src/main.c **** void HAL_UART_RxCpltCallback(UART_HandleTypeDef *huart)
 218:Core/Src/main.c **** {
 611              		.loc 1 218 1 view -0
 612              		.cfi_startproc
 613              		@ args = 0, pretend = 0, frame = 0
 614              		@ frame_needed = 0, uses_anonymous_args = 0
 615              		.loc 1 218 1 is_stmt 0 view .LVU120
 616 0000 10B5     		push	{r4, lr}
 617              	.LCFI15:
 618              		.cfi_def_cfa_offset 8
 619              		.cfi_offset 4, -8
 620              		.cfi_offset 14, -4
 219:Core/Src/main.c ****   if(uart_buf[0] == 'T') { // Toggle test mode
 621              		.loc 1 219 3 is_stmt 1 view .LVU121
 622              		.loc 1 219 14 is_stmt 0 view .LVU122
 623 0002 0F4B     		ldr	r3, .L55
 624 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 625              		.loc 1 219 5 view .LVU123
 626 0006 542B     		cmp	r3, #84
 627 0008 0AD0     		beq	.L54
 220:Core/Src/main.c ****     test_mode = !test_mode;
 221:Core/Src/main.c ****     HD44780_Clear();
 222:Core/Src/main.c ****     HD44780_PrintStr(test_mode ? "Cable Test Mode" : "RGB Mode");
 223:Core/Src/main.c ****   }
 224:Core/Src/main.c ****   else
 225:Core/Src/main.c ****     printf("Code Version %d.%d\r\n",SW_VERSION/10, SW_VERSION%10);
 628              		.loc 1 225 5 is_stmt 1 view .LVU124
 629 000a 0122     		movs	r2, #1
 630 000c 1146     		mov	r1, r2
 631 000e 0D48     		ldr	r0, .L55+4
 632              	.LVL49:
 633              		.loc 1 225 5 is_stmt 0 view .LVU125
 634 0010 FFF7FEFF 		bl	printf
 635              	.LVL50:
 636              	.L51:
 226:Core/Src/main.c ****   
 227:Core/Src/main.c ****   HAL_UART_Receive_IT(&huart1, uart_buf, 1); // reactivate interrupt for next char
 637              		.loc 1 227 3 is_stmt 1 view .LVU126
 638 0014 0122     		movs	r2, #1
 639 0016 0A49     		ldr	r1, .L55
 640 0018 0B48     		ldr	r0, .L55+8
 641 001a FFF7FEFF 		bl	HAL_UART_Receive_IT
 642              	.LVL51:
 228:Core/Src/main.c **** }
 643              		.loc 1 228 1 is_stmt 0 view .LVU127
 644 001e 10BD     		pop	{r4, pc}
 645              	.LVL52:
 646              	.L54:
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 17


 220:Core/Src/main.c ****     test_mode = !test_mode;
 647              		.loc 1 220 5 is_stmt 1 view .LVU128
 220:Core/Src/main.c ****     test_mode = !test_mode;
 648              		.loc 1 220 17 is_stmt 0 view .LVU129
 649 0020 0A4C     		ldr	r4, .L55+12
 650 0022 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 651 0024 B3FA83F3 		clz	r3, r3
 652 0028 5B09     		lsrs	r3, r3, #5
 220:Core/Src/main.c ****     test_mode = !test_mode;
 653              		.loc 1 220 15 view .LVU130
 654 002a 2370     		strb	r3, [r4]
 221:Core/Src/main.c ****     HD44780_PrintStr(test_mode ? "Cable Test Mode" : "RGB Mode");
 655              		.loc 1 221 5 is_stmt 1 view .LVU131
 656 002c FFF7FEFF 		bl	HD44780_Clear
 657              	.LVL53:
 222:Core/Src/main.c ****   }
 658              		.loc 1 222 5 view .LVU132
 222:Core/Src/main.c ****   }
 659              		.loc 1 222 32 is_stmt 0 view .LVU133
 660 0030 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 222:Core/Src/main.c ****   }
 661              		.loc 1 222 5 view .LVU134
 662 0032 1BB1     		cbz	r3, .L52
 222:Core/Src/main.c ****   }
 663              		.loc 1 222 5 discriminator 1 view .LVU135
 664 0034 0648     		ldr	r0, .L55+16
 665              	.L50:
 222:Core/Src/main.c ****   }
 666              		.loc 1 222 5 discriminator 4 view .LVU136
 667 0036 FFF7FEFF 		bl	HD44780_PrintStr
 668              	.LVL54:
 669 003a EBE7     		b	.L51
 670              	.L52:
 222:Core/Src/main.c ****   }
 671              		.loc 1 222 5 discriminator 2 view .LVU137
 672 003c 0548     		ldr	r0, .L55+20
 673 003e FAE7     		b	.L50
 674              	.L56:
 675              		.align	2
 676              	.L55:
 677 0040 00000000 		.word	uart_buf
 678 0044 1C000000 		.word	.LC10
 679 0048 00000000 		.word	huart1
 680 004c 00000000 		.word	test_mode
 681 0050 00000000 		.word	.LC8
 682 0054 10000000 		.word	.LC9
 683              		.cfi_endproc
 684              	.LFE74:
 686              		.section	.text.HAL_TIM_PeriodElapsedCallback,"ax",%progbits
 687              		.align	1
 688              		.global	HAL_TIM_PeriodElapsedCallback
 689              		.syntax unified
 690              		.thumb
 691              		.thumb_func
 693              	HAL_TIM_PeriodElapsedCallback:
 694              	.LVL55:
 695              	.LFB75:
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 18


 229:Core/Src/main.c **** 
 230:Core/Src/main.c **** /* Callback function for TIM2 period elapsed */
 231:Core/Src/main.c **** void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim2)
 232:Core/Src/main.c **** {
 696              		.loc 1 232 1 is_stmt 1 view -0
 697              		.cfi_startproc
 698              		@ args = 0, pretend = 0, frame = 0
 699              		@ frame_needed = 0, uses_anonymous_args = 0
 700              		.loc 1 232 1 is_stmt 0 view .LVU139
 701 0000 10B5     		push	{r4, lr}
 702              	.LCFI16:
 703              		.cfi_def_cfa_offset 8
 704              		.cfi_offset 4, -8
 705              		.cfi_offset 14, -4
 233:Core/Src/main.c ****   if(ticks++ == 100) {    // 100 timer2 ticks = one hundredth of a second! This is fitting for 100H
 706              		.loc 1 233 3 is_stmt 1 view .LVU140
 707              		.loc 1 233 11 is_stmt 0 view .LVU141
 708 0002 1D4A     		ldr	r2, .L68
 709 0004 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 710 0006 591C     		adds	r1, r3, #1
 711 0008 1170     		strb	r1, [r2]
 712              		.loc 1 233 5 view .LVU142
 713 000a 642B     		cmp	r3, #100
 714 000c 01D0     		beq	.L66
 715              	.LVL56:
 716              	.L58:
 717              	.LBB9:
 234:Core/Src/main.c ****     ticks=0;   // reset
 235:Core/Src/main.c ****     for(unsigned int i=0; i<3; i++)
 718              		.loc 1 235 22 view .LVU143
 719 000e 0024     		movs	r4, #0
 720 0010 19E0     		b	.L62
 721              	.LVL57:
 722              	.L66:
 723              		.loc 1 235 22 view .LVU144
 724              	.LBE9:
 234:Core/Src/main.c ****     ticks=0;   // reset
 725              		.loc 1 234 5 is_stmt 1 view .LVU145
 234:Core/Src/main.c ****     ticks=0;   // reset
 726              		.loc 1 234 10 is_stmt 0 view .LVU146
 727 0012 0024     		movs	r4, #0
 728 0014 1470     		strb	r4, [r2]
 729              		.loc 1 235 5 is_stmt 1 view .LVU147
 730              	.LBB10:
 731              		.loc 1 235 9 view .LVU148
 732              	.LVL58:
 733              		.loc 1 235 5 is_stmt 0 view .LVU149
 734 0016 00E0     		b	.L59
 735              	.LVL59:
 736              	.L60:
 737              		.loc 1 235 33 is_stmt 1 discriminator 2 view .LVU150
 738 0018 0134     		adds	r4, r4, #1
 739              	.LVL60:
 740              	.L59:
 741              		.loc 1 235 28 discriminator 1 view .LVU151
 742 001a 022C     		cmp	r4, #2
 743 001c F7D8     		bhi	.L58
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 19


 236:Core/Src/main.c ****       if(color_PWM[SM_State][i])
 744              		.loc 1 236 7 view .LVU152
 745              		.loc 1 236 29 is_stmt 0 view .LVU153
 746 001e 174B     		ldr	r3, .L68+4
 747 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 748 0022 03EB4303 		add	r3, r3, r3, lsl #1
 749 0026 164A     		ldr	r2, .L68+8
 750 0028 1344     		add	r3, r3, r2
 751 002a 1B5D     		ldrb	r3, [r3, r4]	@ zero_extendqisi2
 752              		.loc 1 236 9 view .LVU154
 753 002c 002B     		cmp	r3, #0
 754 002e F3D0     		beq	.L60
 237:Core/Src/main.c ****         HAL_GPIO_WritePin(RGB_GPIO_Banks[i], RGB_GPIO_Pins[i], 1);
 755              		.loc 1 237 9 is_stmt 1 view .LVU155
 756 0030 0122     		movs	r2, #1
 757 0032 144B     		ldr	r3, .L68+12
 758 0034 33F81410 		ldrh	r1, [r3, r4, lsl #1]
 759 0038 134B     		ldr	r3, .L68+16
 760 003a 53F82400 		ldr	r0, [r3, r4, lsl #2]
 761 003e FFF7FEFF 		bl	HAL_GPIO_WritePin
 762              	.LVL61:
 763 0042 E9E7     		b	.L60
 764              	.LVL62:
 765              	.L63:
 766              		.loc 1 237 9 is_stmt 0 view .LVU156
 767              	.LBE10:
 768              	.LBB11:
 238:Core/Src/main.c ****   }
 239:Core/Src/main.c **** 
 240:Core/Src/main.c ****   for(unsigned int i=0; i<3; i++) {
 769              		.loc 1 240 31 is_stmt 1 discriminator 2 view .LVU157
 770 0044 0134     		adds	r4, r4, #1
 771              	.LVL63:
 772              	.L62:
 773              		.loc 1 240 26 discriminator 1 view .LVU158
 774 0046 022C     		cmp	r4, #2
 775 0048 14D8     		bhi	.L67
 241:Core/Src/main.c ****     if(ticks == color_PWM[SM_State][i])
 776              		.loc 1 241 5 view .LVU159
 777              		.loc 1 241 36 is_stmt 0 view .LVU160
 778 004a 0C4B     		ldr	r3, .L68+4
 779 004c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 780 004e 03EB4303 		add	r3, r3, r3, lsl #1
 781 0052 0B4A     		ldr	r2, .L68+8
 782 0054 1344     		add	r3, r3, r2
 783 0056 1A5D     		ldrb	r2, [r3, r4]	@ zero_extendqisi2
 784              		.loc 1 241 14 view .LVU161
 785 0058 074B     		ldr	r3, .L68
 786 005a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 787              		.loc 1 241 7 view .LVU162
 788 005c 9A42     		cmp	r2, r3
 789 005e F1D1     		bne	.L63
 242:Core/Src/main.c ****       HAL_GPIO_WritePin(RGB_GPIO_Banks[i], RGB_GPIO_Pins[i], 0);
 790              		.loc 1 242 7 is_stmt 1 view .LVU163
 791 0060 0022     		movs	r2, #0
 792 0062 084B     		ldr	r3, .L68+12
 793 0064 33F81410 		ldrh	r1, [r3, r4, lsl #1]
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 20


 794 0068 074B     		ldr	r3, .L68+16
 795 006a 53F82400 		ldr	r0, [r3, r4, lsl #2]
 796 006e FFF7FEFF 		bl	HAL_GPIO_WritePin
 797              	.LVL64:
 798 0072 E7E7     		b	.L63
 799              	.L67:
 800              	.LBE11:
 243:Core/Src/main.c ****   }
 244:Core/Src/main.c **** }
 801              		.loc 1 244 1 is_stmt 0 view .LVU164
 802 0074 10BD     		pop	{r4, pc}
 803              	.LVL65:
 804              	.L69:
 805              		.loc 1 244 1 view .LVU165
 806 0076 00BF     		.align	2
 807              	.L68:
 808 0078 00000000 		.word	ticks
 809 007c 00000000 		.word	SM_State
 810 0080 00000000 		.word	color_PWM
 811 0084 00000000 		.word	RGB_GPIO_Pins
 812 0088 00000000 		.word	RGB_GPIO_Banks
 813              		.cfi_endproc
 814              	.LFE75:
 816              		.section	.rodata.run_cable_test.str1.4,"aMS",%progbits,1
 817              		.align	2
 818              	.LC11:
 819 0000 4F4B00   		.ascii	"OK\000"
 820 0003 00       		.align	2
 821              	.LC12:
 822 0004 4641494C 		.ascii	"FAIL\000"
 822      00
 823 0009 000000   		.align	2
 824              	.LC13:
 825 000c 50412564 		.ascii	"PA%d->PB%d: %s\012\000"
 825      2D3E5042 
 825      25643A20 
 825      25730A00 
 826              		.align	2
 827              	.LC14:
 828 001c 4641554C 		.ascii	"FAULTY CABLE\000"
 828      54592043 
 828      41424C45 
 828      00
 829 0029 000000   		.align	2
 830              	.LC15:
 831 002c 25642000 		.ascii	"%d \000"
 832              		.align	2
 833              	.LC16:
 834 0030 54797065 		.ascii	"Type: \000"
 834      3A2000
 835              		.section	.text.run_cable_test,"ax",%progbits
 836              		.align	1
 837              		.global	run_cable_test
 838              		.syntax unified
 839              		.thumb
 840              		.thumb_func
 842              	run_cable_test:
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 21


 843              	.LFB76:
 245:Core/Src/main.c **** 
 246:Core/Src/main.c **** /* USER CODE BEGIN 0 */
 247:Core/Src/main.c **** 
 248:Core/Src/main.c **** 
 249:Core/Src/main.c **** 
 250:Core/Src/main.c **** void run_cable_test() {
 844              		.loc 1 250 23 is_stmt 1 view -0
 845              		.cfi_startproc
 846              		@ args = 0, pretend = 0, frame = 48
 847              		@ frame_needed = 0, uses_anonymous_args = 0
 848 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 849              	.LCFI17:
 850              		.cfi_def_cfa_offset 20
 851              		.cfi_offset 4, -20
 852              		.cfi_offset 5, -16
 853              		.cfi_offset 6, -12
 854              		.cfi_offset 7, -8
 855              		.cfi_offset 14, -4
 856 0002 8DB0     		sub	sp, sp, #52
 857              	.LCFI18:
 858              		.cfi_def_cfa_offset 72
 251:Core/Src/main.c ****     uint8_t wire_map[8] = {0};
 859              		.loc 1 251 5 view .LVU167
 860              		.loc 1 251 13 is_stmt 0 view .LVU168
 861 0004 0024     		movs	r4, #0
 862 0006 0A94     		str	r4, [sp, #40]
 863 0008 0B94     		str	r4, [sp, #44]
 252:Core/Src/main.c ****     uint16_t pa_pins[8] = {GPIO_PIN_1, GPIO_PIN_2, GPIO_PIN_3, GPIO_PIN_4,
 864              		.loc 1 252 5 is_stmt 1 view .LVU169
 865              		.loc 1 252 14 is_stmt 0 view .LVU170
 866 000a 624D     		ldr	r5, .L105
 867 000c 06AE     		add	r6, sp, #24
 868 000e 05F10803 		add	r3, r5, #8
 869 0012 0FCB     		ldm	r3, {r0, r1, r2, r3}
 870 0014 86E80F00 		stm	r6, {r0, r1, r2, r3}
 253:Core/Src/main.c ****                           GPIO_PIN_5, GPIO_PIN_6, GPIO_PIN_7, GPIO_PIN_8};
 254:Core/Src/main.c ****     uint16_t pb_pins[8] = {GPIO_PIN_8, GPIO_PIN_9, GPIO_PIN_10, GPIO_PIN_11,
 871              		.loc 1 254 5 is_stmt 1 view .LVU171
 872              		.loc 1 254 14 is_stmt 0 view .LVU172
 873 0018 02AE     		add	r6, sp, #8
 874 001a 05F11803 		add	r3, r5, #24
 875 001e 0FCB     		ldm	r3, {r0, r1, r2, r3}
 876 0020 86E80F00 		stm	r6, {r0, r1, r2, r3}
 255:Core/Src/main.c ****                           GPIO_PIN_12, GPIO_PIN_13, GPIO_PIN_14, GPIO_PIN_15};
 256:Core/Src/main.c **** 
 257:Core/Src/main.c ****     // Test all wire connections
 258:Core/Src/main.c ****     for(uint8_t i = 0; i < 8; i++) {
 877              		.loc 1 258 5 is_stmt 1 view .LVU173
 878              	.LBB12:
 879              		.loc 1 258 9 view .LVU174
 880              	.LVL66:
 881              		.loc 1 258 5 is_stmt 0 view .LVU175
 882 0024 05E0     		b	.L71
 883              	.LVL67:
 884              	.L86:
 259:Core/Src/main.c ****         HAL_GPIO_WritePin(GPIOA, pa_pins[i], GPIO_PIN_SET);
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 22


 260:Core/Src/main.c ****         HAL_Delay(2);
 261:Core/Src/main.c ****         wire_map[i] = HAL_GPIO_ReadPin(GPIOB, pb_pins[i]) ? 1 : 0;
 262:Core/Src/main.c ****         HAL_GPIO_WritePin(GPIOA, pa_pins[i], GPIO_PIN_RESET);
 263:Core/Src/main.c ****         printf("PA%d->PB%d: %s\n", i+1, 8+i, wire_map[i] ? "OK" : "FAIL");
 885              		.loc 1 263 9 discriminator 2 view .LVU176
 886 0026 5C4B     		ldr	r3, .L105+4
 887              	.L72:
 888              		.loc 1 263 9 discriminator 4 view .LVU177
 889 0028 5C48     		ldr	r0, .L105+8
 890 002a FFF7FEFF 		bl	printf
 891              	.LVL68:
 258:Core/Src/main.c ****         HAL_GPIO_WritePin(GPIOA, pa_pins[i], GPIO_PIN_SET);
 892              		.loc 1 258 32 is_stmt 1 discriminator 2 view .LVU178
 893 002e 0134     		adds	r4, r4, #1
 894              	.LVL69:
 258:Core/Src/main.c ****         HAL_GPIO_WritePin(GPIOA, pa_pins[i], GPIO_PIN_SET);
 895              		.loc 1 258 32 is_stmt 0 discriminator 2 view .LVU179
 896 0030 E4B2     		uxtb	r4, r4
 897              	.LVL70:
 898              	.L71:
 258:Core/Src/main.c ****         HAL_GPIO_WritePin(GPIOA, pa_pins[i], GPIO_PIN_SET);
 899              		.loc 1 258 26 is_stmt 1 discriminator 1 view .LVU180
 900 0032 072C     		cmp	r4, #7
 901 0034 26D8     		bhi	.L97
 259:Core/Src/main.c ****         HAL_GPIO_WritePin(GPIOA, pa_pins[i], GPIO_PIN_SET);
 902              		.loc 1 259 9 view .LVU181
 903 0036 0CAB     		add	r3, sp, #48
 904 0038 03EB4405 		add	r5, r3, r4, lsl #1
 905 003c 35F8187C 		ldrh	r7, [r5, #-24]
 906 0040 574E     		ldr	r6, .L105+12
 907 0042 0122     		movs	r2, #1
 908 0044 3946     		mov	r1, r7
 909 0046 3046     		mov	r0, r6
 910 0048 FFF7FEFF 		bl	HAL_GPIO_WritePin
 911              	.LVL71:
 260:Core/Src/main.c ****         wire_map[i] = HAL_GPIO_ReadPin(GPIOB, pb_pins[i]) ? 1 : 0;
 912              		.loc 1 260 9 view .LVU182
 913 004c 0220     		movs	r0, #2
 914 004e FFF7FEFF 		bl	HAL_Delay
 915              	.LVL72:
 261:Core/Src/main.c ****         HAL_GPIO_WritePin(GPIOA, pa_pins[i], GPIO_PIN_RESET);
 916              		.loc 1 261 9 view .LVU183
 261:Core/Src/main.c ****         HAL_GPIO_WritePin(GPIOA, pa_pins[i], GPIO_PIN_RESET);
 917              		.loc 1 261 23 is_stmt 0 view .LVU184
 918 0052 35F8281C 		ldrh	r1, [r5, #-40]
 919 0056 5348     		ldr	r0, .L105+16
 920 0058 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 921              	.LVL73:
 261:Core/Src/main.c ****         HAL_GPIO_WritePin(GPIOA, pa_pins[i], GPIO_PIN_RESET);
 922              		.loc 1 261 63 discriminator 1 view .LVU185
 923 005c 051E     		subs	r5, r0, #0
 924 005e 18BF     		it	ne
 925 0060 0125     		movne	r5, #1
 261:Core/Src/main.c ****         HAL_GPIO_WritePin(GPIOA, pa_pins[i], GPIO_PIN_RESET);
 926              		.loc 1 261 21 discriminator 1 view .LVU186
 927 0062 04F13003 		add	r3, r4, #48
 928 0066 6B44     		add	r3, sp, r3
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 23


 929 0068 03F8085C 		strb	r5, [r3, #-8]
 262:Core/Src/main.c ****         printf("PA%d->PB%d: %s\n", i+1, 8+i, wire_map[i] ? "OK" : "FAIL");
 930              		.loc 1 262 9 is_stmt 1 view .LVU187
 931 006c 0022     		movs	r2, #0
 932 006e 3946     		mov	r1, r7
 933 0070 3046     		mov	r0, r6
 934 0072 FFF7FEFF 		bl	HAL_GPIO_WritePin
 935              	.LVL74:
 936              		.loc 1 263 9 view .LVU188
 937 0076 611C     		adds	r1, r4, #1
 938 0078 04F10802 		add	r2, r4, #8
 939 007c 002D     		cmp	r5, #0
 940 007e D2D0     		beq	.L86
 941              		.loc 1 263 9 is_stmt 0 discriminator 1 view .LVU189
 942 0080 494B     		ldr	r3, .L105+20
 943 0082 D1E7     		b	.L72
 944              	.L97:
 945              	.LBE12:
 946              	.LBB13:
 264:Core/Src/main.c ****     }
 265:Core/Src/main.c **** 
 266:Core/Src/main.c ****     // Check for faults first
 267:Core/Src/main.c ****     uint8_t fault_count = 0;
 268:Core/Src/main.c ****     for(uint8_t i = 0; i < 8; i++) {
 947              		.loc 1 268 17 view .LVU190
 948 0084 0023     		movs	r3, #0
 949              	.LBE13:
 267:Core/Src/main.c ****     for(uint8_t i = 0; i < 8; i++) {
 950              		.loc 1 267 13 view .LVU191
 951 0086 1C46     		mov	r4, r3
 952              	.LVL75:
 267:Core/Src/main.c ****     for(uint8_t i = 0; i < 8; i++) {
 953              		.loc 1 267 13 view .LVU192
 954 0088 01E0     		b	.L74
 955              	.LVL76:
 956              	.L75:
 957              	.LBB14:
 958              		.loc 1 268 32 is_stmt 1 discriminator 2 view .LVU193
 959 008a 0133     		adds	r3, r3, #1
 960              	.LVL77:
 961              		.loc 1 268 32 is_stmt 0 discriminator 2 view .LVU194
 962 008c DBB2     		uxtb	r3, r3
 963              	.LVL78:
 964              	.L74:
 965              		.loc 1 268 26 is_stmt 1 discriminator 1 view .LVU195
 966 008e 072B     		cmp	r3, #7
 967 0090 09D8     		bhi	.L98
 269:Core/Src/main.c ****         if(!wire_map[i]) fault_count++;
 968              		.loc 1 269 9 view .LVU196
 969              		.loc 1 269 21 is_stmt 0 view .LVU197
 970 0092 03F13002 		add	r2, r3, #48
 971 0096 6A44     		add	r2, sp, r2
 972 0098 12F8082C 		ldrb	r2, [r2, #-8]	@ zero_extendqisi2
 973              		.loc 1 269 11 view .LVU198
 974 009c 002A     		cmp	r2, #0
 975 009e F4D1     		bne	.L75
 976              		.loc 1 269 26 is_stmt 1 discriminator 1 view .LVU199
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 24


 977              		.loc 1 269 37 is_stmt 0 discriminator 1 view .LVU200
 978 00a0 0134     		adds	r4, r4, #1
 979              	.LVL79:
 980              		.loc 1 269 37 discriminator 1 view .LVU201
 981 00a2 E4B2     		uxtb	r4, r4
 982              	.LVL80:
 983              		.loc 1 269 37 discriminator 1 view .LVU202
 984 00a4 F1E7     		b	.L75
 985              	.L98:
 986              		.loc 1 269 37 discriminator 1 view .LVU203
 987              	.LBE14:
 270:Core/Src/main.c ****     }
 271:Core/Src/main.c **** 
 272:Core/Src/main.c ****     CableType type = CABLE_FAULTY;
 988              		.loc 1 272 5 is_stmt 1 view .LVU204
 989              	.LVL81:
 273:Core/Src/main.c ****     
 274:Core/Src/main.c ****     // Only check cable types if no faults
 275:Core/Src/main.c ****     if(fault_count == 0) {
 990              		.loc 1 275 5 view .LVU205
 991              		.loc 1 275 7 is_stmt 0 view .LVU206
 992 00a6 94B1     		cbz	r4, .L87
 272:Core/Src/main.c ****     
 993              		.loc 1 272 15 view .LVU207
 994 00a8 0224     		movs	r4, #2
 995              	.LVL82:
 996              	.L78:
 276:Core/Src/main.c ****         // Check for straight cable (1-1, 2-2...8-8)
 277:Core/Src/main.c ****         uint8_t is_straight = 1;
 278:Core/Src/main.c ****         for(uint8_t i = 0; i < 8; i++) {
 279:Core/Src/main.c ****             if(!wire_map[i]) {
 280:Core/Src/main.c ****                 is_straight = 0;
 281:Core/Src/main.c ****                 break;
 282:Core/Src/main.c ****             }
 283:Core/Src/main.c ****         }
 284:Core/Src/main.c ****         
 285:Core/Src/main.c ****         if(is_straight) {
 286:Core/Src/main.c ****             type = CABLE_STRAIGHT;
 287:Core/Src/main.c ****         }
 288:Core/Src/main.c ****         else {
 289:Core/Src/main.c ****             // Check for T568B crossover pattern
 290:Core/Src/main.c ****             // PA1->PB10 (wire 1->3), PA2->PB13 (wire 2->6)
 291:Core/Src/main.c ****             // PA3->PB8 (wire 3->1), PA6->PB11 (wire 6->2)
 292:Core/Src/main.c ****             if(wire_map[0] &&   // PA1->PB8 (should be 0 for crossover)
 293:Core/Src/main.c ****                wire_map[1] &&   // PA2->PB9 (should be 0 for crossover)
 294:Core/Src/main.c ****                !wire_map[2] &&  // PA3->PB10 (should be 1 for crossover)
 295:Core/Src/main.c ****                !wire_map[5]) {  // PA6->PB13 (should be 1 for crossover)
 296:Core/Src/main.c ****                 // Detailed check for actual crossover pairs
 297:Core/Src/main.c ****                 if(HAL_GPIO_ReadPin(GPIOB, GPIO_PIN_10) &&  // PB10 (crossover pin 3)
 298:Core/Src/main.c ****                    HAL_GPIO_ReadPin(GPIOB, GPIO_PIN_13) &&  // PB13 (crossover pin 6)
 299:Core/Src/main.c ****                    HAL_GPIO_ReadPin(GPIOB, GPIO_PIN_8) &&   // PB8 (crossover pin 1)
 300:Core/Src/main.c ****                    HAL_GPIO_ReadPin(GPIOB, GPIO_PIN_11)) {  // PB11 (crossover pin 4)
 301:Core/Src/main.c ****                     type = CABLE_CROSSOVER;
 302:Core/Src/main.c ****                 }
 303:Core/Src/main.c ****             }
 304:Core/Src/main.c ****         }
 305:Core/Src/main.c ****     }
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 25


 306:Core/Src/main.c **** 
 307:Core/Src/main.c ****     // Display results
 308:Core/Src/main.c ****     HD44780_Clear();
 997              		.loc 1 308 5 is_stmt 1 view .LVU208
 998 00aa FFF7FEFF 		bl	HD44780_Clear
 999              	.LVL83:
 309:Core/Src/main.c ****     HD44780_SetCursor(0, 0);
 1000              		.loc 1 309 5 view .LVU209
 1001 00ae 0021     		movs	r1, #0
 1002 00b0 0846     		mov	r0, r1
 1003 00b2 FFF7FEFF 		bl	HD44780_SetCursor
 1004              	.LVL84:
 310:Core/Src/main.c ****     
 311:Core/Src/main.c ****     if(type == CABLE_FAULTY) {
 1005              		.loc 1 311 5 view .LVU210
 1006              		.loc 1 311 7 is_stmt 0 view .LVU211
 1007 00b6 022C     		cmp	r4, #2
 1008 00b8 4ED0     		beq	.L99
 312:Core/Src/main.c ****         HD44780_PrintStr("FAULTY CABLE");
 313:Core/Src/main.c ****         HD44780_SetCursor(0, 1);
 314:Core/Src/main.c ****         for(uint8_t i = 0; i < 8; i++) {
 315:Core/Src/main.c ****             if(!wire_map[i]) {
 316:Core/Src/main.c ****                 char buf[4];
 317:Core/Src/main.c ****                 sprintf(buf, "%d ", i+1);
 318:Core/Src/main.c ****                 HD44780_PrintStr(buf);
 319:Core/Src/main.c ****             }
 320:Core/Src/main.c ****         }
 321:Core/Src/main.c ****     }
 322:Core/Src/main.c ****     else {
 323:Core/Src/main.c ****         HD44780_PrintStr("Type: ");
 1009              		.loc 1 323 9 is_stmt 1 view .LVU212
 1010 00ba 3C48     		ldr	r0, .L105+24
 1011 00bc FFF7FEFF 		bl	HD44780_PrintStr
 1012              	.LVL85:
 324:Core/Src/main.c ****         HD44780_PrintStr(cable_type_names[type]);
 1013              		.loc 1 324 9 view .LVU213
 1014 00c0 3B4B     		ldr	r3, .L105+28
 1015 00c2 53F82400 		ldr	r0, [r3, r4, lsl #2]
 1016 00c6 FFF7FEFF 		bl	HD44780_PrintStr
 1017              	.LVL86:
 1018              	.L70:
 325:Core/Src/main.c ****     }
 326:Core/Src/main.c **** }
 1019              		.loc 1 326 1 is_stmt 0 view .LVU214
 1020 00ca 0DB0     		add	sp, sp, #52
 1021              	.LCFI19:
 1022              		.cfi_remember_state
 1023              		.cfi_def_cfa_offset 20
 1024              		@ sp needed
 1025 00cc F0BD     		pop	{r4, r5, r6, r7, pc}
 1026              	.LVL87:
 1027              	.L87:
 1028              	.LCFI20:
 1029              		.cfi_restore_state
 1030              	.LBB15:
 1031              	.LBB16:
 278:Core/Src/main.c ****             if(!wire_map[i]) {
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 26


 1032              		.loc 1 278 21 view .LVU215
 1033 00ce 2346     		mov	r3, r4
 1034              	.LVL88:
 1035              	.L77:
 278:Core/Src/main.c ****             if(!wire_map[i]) {
 1036              		.loc 1 278 30 is_stmt 1 discriminator 1 view .LVU216
 1037 00d0 072B     		cmp	r3, #7
 1038 00d2 08D8     		bhi	.L100
 279:Core/Src/main.c ****                 is_straight = 0;
 1039              		.loc 1 279 13 view .LVU217
 279:Core/Src/main.c ****                 is_straight = 0;
 1040              		.loc 1 279 25 is_stmt 0 view .LVU218
 1041 00d4 03F13002 		add	r2, r3, #48
 1042 00d8 6A44     		add	r2, sp, r2
 1043 00da 12F8082C 		ldrb	r2, [r2, #-8]	@ zero_extendqisi2
 279:Core/Src/main.c ****                 is_straight = 0;
 1044              		.loc 1 279 15 view .LVU219
 1045 00de 1AB1     		cbz	r2, .L79
 278:Core/Src/main.c ****             if(!wire_map[i]) {
 1046              		.loc 1 278 36 is_stmt 1 discriminator 2 view .LVU220
 1047 00e0 0133     		adds	r3, r3, #1
 1048              	.LVL89:
 278:Core/Src/main.c ****             if(!wire_map[i]) {
 1049              		.loc 1 278 36 is_stmt 0 discriminator 2 view .LVU221
 1050 00e2 DBB2     		uxtb	r3, r3
 1051              	.LVL90:
 278:Core/Src/main.c ****             if(!wire_map[i]) {
 1052              		.loc 1 278 36 discriminator 2 view .LVU222
 1053 00e4 F4E7     		b	.L77
 1054              	.L100:
 278:Core/Src/main.c ****             if(!wire_map[i]) {
 1055              		.loc 1 278 36 discriminator 2 view .LVU223
 1056              	.LBE16:
 277:Core/Src/main.c ****         for(uint8_t i = 0; i < 8; i++) {
 1057              		.loc 1 277 17 view .LVU224
 1058 00e6 0122     		movs	r2, #1
 1059              	.L79:
 1060              	.LVL91:
 285:Core/Src/main.c ****             type = CABLE_STRAIGHT;
 1061              		.loc 1 285 9 is_stmt 1 view .LVU225
 285:Core/Src/main.c ****             type = CABLE_STRAIGHT;
 1062              		.loc 1 285 11 is_stmt 0 view .LVU226
 1063 00e8 002A     		cmp	r2, #0
 1064 00ea DED1     		bne	.L78
 292:Core/Src/main.c ****                wire_map[1] &&   // PA2->PB9 (should be 0 for crossover)
 1065              		.loc 1 292 13 is_stmt 1 view .LVU227
 292:Core/Src/main.c ****                wire_map[1] &&   // PA2->PB9 (should be 0 for crossover)
 1066              		.loc 1 292 24 is_stmt 0 view .LVU228
 1067 00ec 9DF82830 		ldrb	r3, [sp, #40]	@ zero_extendqisi2
 1068              	.LVL92:
 292:Core/Src/main.c ****                wire_map[1] &&   // PA2->PB9 (should be 0 for crossover)
 1069              		.loc 1 292 15 view .LVU229
 1070 00f0 53B3     		cbz	r3, .L88
 293:Core/Src/main.c ****                !wire_map[2] &&  // PA3->PB10 (should be 1 for crossover)
 1071              		.loc 1 293 24 view .LVU230
 1072 00f2 9DF82930 		ldrb	r3, [sp, #41]	@ zero_extendqisi2
 292:Core/Src/main.c ****                wire_map[1] &&   // PA2->PB9 (should be 0 for crossover)
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 27


 1073              		.loc 1 292 28 discriminator 1 view .LVU231
 1074 00f6 4BB3     		cbz	r3, .L89
 294:Core/Src/main.c ****                !wire_map[5]) {  // PA6->PB13 (should be 1 for crossover)
 1075              		.loc 1 294 25 view .LVU232
 1076 00f8 9DF82A30 		ldrb	r3, [sp, #42]	@ zero_extendqisi2
 293:Core/Src/main.c ****                !wire_map[2] &&  // PA3->PB10 (should be 1 for crossover)
 1077              		.loc 1 293 28 view .LVU233
 1078 00fc 43BB     		cbnz	r3, .L90
 295:Core/Src/main.c ****                 // Detailed check for actual crossover pairs
 1079              		.loc 1 295 25 view .LVU234
 1080 00fe 9DF82D30 		ldrb	r3, [sp, #45]	@ zero_extendqisi2
 294:Core/Src/main.c ****                !wire_map[5]) {  // PA6->PB13 (should be 1 for crossover)
 1081              		.loc 1 294 29 view .LVU235
 1082 0102 0BB1     		cbz	r3, .L101
 1083              	.LBE15:
 272:Core/Src/main.c ****     
 1084              		.loc 1 272 15 view .LVU236
 1085 0104 0224     		movs	r4, #2
 1086              	.LVL93:
 272:Core/Src/main.c ****     
 1087              		.loc 1 272 15 view .LVU237
 1088 0106 D0E7     		b	.L78
 1089              	.LVL94:
 1090              	.L101:
 1091              	.LBB17:
 297:Core/Src/main.c ****                    HAL_GPIO_ReadPin(GPIOB, GPIO_PIN_13) &&  // PB13 (crossover pin 6)
 1092              		.loc 1 297 17 is_stmt 1 view .LVU238
 297:Core/Src/main.c ****                    HAL_GPIO_ReadPin(GPIOB, GPIO_PIN_13) &&  // PB13 (crossover pin 6)
 1093              		.loc 1 297 20 is_stmt 0 view .LVU239
 1094 0108 4FF48061 		mov	r1, #1024
 1095 010c 2548     		ldr	r0, .L105+16
 1096 010e FFF7FEFF 		bl	HAL_GPIO_ReadPin
 1097              	.LVL95:
 297:Core/Src/main.c ****                    HAL_GPIO_ReadPin(GPIOB, GPIO_PIN_13) &&  // PB13 (crossover pin 6)
 1098              		.loc 1 297 19 discriminator 1 view .LVU240
 1099 0112 08B9     		cbnz	r0, .L102
 1100              	.LBE17:
 272:Core/Src/main.c ****     
 1101              		.loc 1 272 15 view .LVU241
 1102 0114 0224     		movs	r4, #2
 1103              	.LVL96:
 272:Core/Src/main.c ****     
 1104              		.loc 1 272 15 view .LVU242
 1105 0116 C8E7     		b	.L78
 1106              	.LVL97:
 1107              	.L102:
 1108              	.LBB18:
 298:Core/Src/main.c ****                    HAL_GPIO_ReadPin(GPIOB, GPIO_PIN_8) &&   // PB8 (crossover pin 1)
 1109              		.loc 1 298 20 view .LVU243
 1110 0118 4FF40051 		mov	r1, #8192
 1111 011c 2148     		ldr	r0, .L105+16
 1112 011e FFF7FEFF 		bl	HAL_GPIO_ReadPin
 1113              	.LVL98:
 297:Core/Src/main.c ****                    HAL_GPIO_ReadPin(GPIOB, GPIO_PIN_13) &&  // PB13 (crossover pin 6)
 1114              		.loc 1 297 57 discriminator 1 view .LVU244
 1115 0122 08B9     		cbnz	r0, .L103
 1116              	.LBE18:
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 28


 272:Core/Src/main.c ****     
 1117              		.loc 1 272 15 view .LVU245
 1118 0124 0224     		movs	r4, #2
 1119              	.LVL99:
 272:Core/Src/main.c ****     
 1120              		.loc 1 272 15 view .LVU246
 1121 0126 C0E7     		b	.L78
 1122              	.LVL100:
 1123              	.L103:
 1124              	.LBB19:
 299:Core/Src/main.c ****                    HAL_GPIO_ReadPin(GPIOB, GPIO_PIN_11)) {  // PB11 (crossover pin 4)
 1125              		.loc 1 299 20 view .LVU247
 1126 0128 4FF48071 		mov	r1, #256
 1127 012c 1D48     		ldr	r0, .L105+16
 1128 012e FFF7FEFF 		bl	HAL_GPIO_ReadPin
 1129              	.LVL101:
 298:Core/Src/main.c ****                    HAL_GPIO_ReadPin(GPIOB, GPIO_PIN_8) &&   // PB8 (crossover pin 1)
 1130              		.loc 1 298 57 view .LVU248
 1131 0132 08B9     		cbnz	r0, .L104
 1132              	.LBE19:
 272:Core/Src/main.c ****     
 1133              		.loc 1 272 15 view .LVU249
 1134 0134 0224     		movs	r4, #2
 1135              	.LVL102:
 272:Core/Src/main.c ****     
 1136              		.loc 1 272 15 view .LVU250
 1137 0136 B8E7     		b	.L78
 1138              	.LVL103:
 1139              	.L104:
 1140              	.LBB20:
 300:Core/Src/main.c ****                     type = CABLE_CROSSOVER;
 1141              		.loc 1 300 20 view .LVU251
 1142 0138 4FF40061 		mov	r1, #2048
 1143 013c 1948     		ldr	r0, .L105+16
 1144 013e FFF7FEFF 		bl	HAL_GPIO_ReadPin
 1145              	.LVL104:
 299:Core/Src/main.c ****                    HAL_GPIO_ReadPin(GPIOB, GPIO_PIN_11)) {  // PB11 (crossover pin 4)
 1146              		.loc 1 299 56 view .LVU252
 1147 0142 38B9     		cbnz	r0, .L95
 1148              	.LBE20:
 272:Core/Src/main.c ****     
 1149              		.loc 1 272 15 view .LVU253
 1150 0144 0224     		movs	r4, #2
 1151              	.LVL105:
 272:Core/Src/main.c ****     
 1152              		.loc 1 272 15 view .LVU254
 1153 0146 B0E7     		b	.L78
 1154              	.LVL106:
 1155              	.L88:
 272:Core/Src/main.c ****     
 1156              		.loc 1 272 15 view .LVU255
 1157 0148 0224     		movs	r4, #2
 1158              	.LVL107:
 272:Core/Src/main.c ****     
 1159              		.loc 1 272 15 view .LVU256
 1160 014a AEE7     		b	.L78
 1161              	.LVL108:
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 29


 1162              	.L89:
 272:Core/Src/main.c ****     
 1163              		.loc 1 272 15 view .LVU257
 1164 014c 0224     		movs	r4, #2
 1165              	.LVL109:
 272:Core/Src/main.c ****     
 1166              		.loc 1 272 15 view .LVU258
 1167 014e ACE7     		b	.L78
 1168              	.LVL110:
 1169              	.L90:
 272:Core/Src/main.c ****     
 1170              		.loc 1 272 15 view .LVU259
 1171 0150 0224     		movs	r4, #2
 1172              	.LVL111:
 272:Core/Src/main.c ****     
 1173              		.loc 1 272 15 view .LVU260
 1174 0152 AAE7     		b	.L78
 1175              	.LVL112:
 1176              	.L95:
 1177              	.LBB21:
 301:Core/Src/main.c ****                 }
 1178              		.loc 1 301 26 view .LVU261
 1179 0154 0124     		movs	r4, #1
 1180              	.LVL113:
 301:Core/Src/main.c ****                 }
 1181              		.loc 1 301 26 view .LVU262
 1182 0156 A8E7     		b	.L78
 1183              	.LVL114:
 1184              	.L99:
 301:Core/Src/main.c ****                 }
 1185              		.loc 1 301 26 view .LVU263
 1186              	.LBE21:
 312:Core/Src/main.c ****         HD44780_SetCursor(0, 1);
 1187              		.loc 1 312 9 is_stmt 1 view .LVU264
 1188 0158 1648     		ldr	r0, .L105+32
 1189 015a FFF7FEFF 		bl	HD44780_PrintStr
 1190              	.LVL115:
 313:Core/Src/main.c ****         for(uint8_t i = 0; i < 8; i++) {
 1191              		.loc 1 313 9 view .LVU265
 1192 015e 0121     		movs	r1, #1
 1193 0160 0020     		movs	r0, #0
 1194 0162 FFF7FEFF 		bl	HD44780_SetCursor
 1195              	.LVL116:
 314:Core/Src/main.c ****             if(!wire_map[i]) {
 1196              		.loc 1 314 9 view .LVU266
 1197              	.LBB22:
 314:Core/Src/main.c ****             if(!wire_map[i]) {
 1198              		.loc 1 314 13 view .LVU267
 314:Core/Src/main.c ****             if(!wire_map[i]) {
 1199              		.loc 1 314 21 is_stmt 0 view .LVU268
 1200 0166 0024     		movs	r4, #0
 1201              	.LVL117:
 314:Core/Src/main.c ****             if(!wire_map[i]) {
 1202              		.loc 1 314 9 view .LVU269
 1203 0168 01E0     		b	.L82
 1204              	.LVL118:
 1205              	.L83:
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 30


 314:Core/Src/main.c ****             if(!wire_map[i]) {
 1206              		.loc 1 314 36 is_stmt 1 discriminator 2 view .LVU270
 1207 016a 0134     		adds	r4, r4, #1
 1208              	.LVL119:
 314:Core/Src/main.c ****             if(!wire_map[i]) {
 1209              		.loc 1 314 36 is_stmt 0 discriminator 2 view .LVU271
 1210 016c E4B2     		uxtb	r4, r4
 1211              	.LVL120:
 1212              	.L82:
 314:Core/Src/main.c ****             if(!wire_map[i]) {
 1213              		.loc 1 314 30 is_stmt 1 discriminator 1 view .LVU272
 1214 016e 072C     		cmp	r4, #7
 1215 0170 ABD8     		bhi	.L70
 315:Core/Src/main.c ****                 char buf[4];
 1216              		.loc 1 315 13 view .LVU273
 315:Core/Src/main.c ****                 char buf[4];
 1217              		.loc 1 315 25 is_stmt 0 view .LVU274
 1218 0172 04F13003 		add	r3, r4, #48
 1219 0176 6B44     		add	r3, sp, r3
 1220 0178 13F8083C 		ldrb	r3, [r3, #-8]	@ zero_extendqisi2
 315:Core/Src/main.c ****                 char buf[4];
 1221              		.loc 1 315 15 view .LVU275
 1222 017c 002B     		cmp	r3, #0
 1223 017e F4D1     		bne	.L83
 1224              	.LBB23:
 316:Core/Src/main.c ****                 sprintf(buf, "%d ", i+1);
 1225              		.loc 1 316 17 is_stmt 1 view .LVU276
 317:Core/Src/main.c ****                 HD44780_PrintStr(buf);
 1226              		.loc 1 317 17 view .LVU277
 1227 0180 621C     		adds	r2, r4, #1
 1228 0182 0D49     		ldr	r1, .L105+36
 1229 0184 01A8     		add	r0, sp, #4
 1230 0186 FFF7FEFF 		bl	sprintf
 1231              	.LVL121:
 318:Core/Src/main.c ****             }
 1232              		.loc 1 318 17 view .LVU278
 1233 018a 01A8     		add	r0, sp, #4
 1234 018c FFF7FEFF 		bl	HD44780_PrintStr
 1235              	.LVL122:
 1236 0190 EBE7     		b	.L83
 1237              	.L106:
 1238 0192 00BF     		.align	2
 1239              	.L105:
 1240 0194 00000000 		.word	.LANCHOR0
 1241 0198 04000000 		.word	.LC12
 1242 019c 0C000000 		.word	.LC13
 1243 01a0 00080140 		.word	1073809408
 1244 01a4 000C0140 		.word	1073810432
 1245 01a8 00000000 		.word	.LC11
 1246 01ac 30000000 		.word	.LC16
 1247 01b0 00000000 		.word	cable_type_names
 1248 01b4 1C000000 		.word	.LC14
 1249 01b8 2C000000 		.word	.LC15
 1250              	.LBE23:
 1251              	.LBE22:
 1252              		.cfi_endproc
 1253              	.LFE76:
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 31


 1255              		.section	.text.Error_Handler,"ax",%progbits
 1256              		.align	1
 1257              		.global	Error_Handler
 1258              		.syntax unified
 1259              		.thumb
 1260              		.thumb_func
 1262              	Error_Handler:
 1263              	.LFB79:
 327:Core/Src/main.c **** 
 328:Core/Src/main.c **** /* USER CODE END 0 */
 329:Core/Src/main.c **** 
 330:Core/Src/main.c **** /**
 331:Core/Src/main.c ****   * @brief  The application entry point.
 332:Core/Src/main.c ****   * @retval int
 333:Core/Src/main.c ****   */
 334:Core/Src/main.c **** int main(void)
 335:Core/Src/main.c **** {
 336:Core/Src/main.c **** 
 337:Core/Src/main.c ****   /* USER CODE BEGIN 1 */
 338:Core/Src/main.c ****   /****************************************************************************/
 339:Core/Src/main.c ****   /********************************      MAIN        **************************/
 340:Core/Src/main.c ****   /****************************************************************************/
 341:Core/Src/main.c ****   
 342:Core/Src/main.c ****   /* USER CODE END 1 */
 343:Core/Src/main.c **** 
 344:Core/Src/main.c ****   /* MCU Configuration--------------------------------------------------------*/
 345:Core/Src/main.c **** 
 346:Core/Src/main.c ****   /* Reset of all peripherals, Initializes the Flash interface and the Systick. */
 347:Core/Src/main.c ****   HAL_Init();
 348:Core/Src/main.c **** 
 349:Core/Src/main.c ****   /* USER CODE BEGIN Init */
 350:Core/Src/main.c ****   /* USER CODE END Init */
 351:Core/Src/main.c **** 
 352:Core/Src/main.c ****   /* Configure the system clock */
 353:Core/Src/main.c ****   SystemClock_Config();
 354:Core/Src/main.c **** 
 355:Core/Src/main.c ****   /* USER CODE BEGIN SysInit */
 356:Core/Src/main.c ****   /* USER CODE END SysInit */
 357:Core/Src/main.c **** 
 358:Core/Src/main.c ****   /* Initialize all configured peripherals */
 359:Core/Src/main.c ****   MX_GPIO_Init();
 360:Core/Src/main.c ****   MX_USART1_UART_Init();
 361:Core/Src/main.c ****   MX_USB_DEVICE_Init();
 362:Core/Src/main.c ****   MX_TIM2_Init();
 363:Core/Src/main.c ****   MX_I2C1_Init();
 364:Core/Src/main.c ****   /* USER CODE BEGIN 2 */
 365:Core/Src/main.c ****   HAL_UART_Receive_IT(&huart1, uart_buf, 1); // enable UART Rx IT=interrupt
 366:Core/Src/main.c ****   HAL_TIM_Base_Start_IT(&htim2);  //enable Timer 2 interrupt
 367:Core/Src/main.c ****   memcpy(color_PWM, color_PWM_Set[current_Mode], sizeof(color_PWM));
 368:Core/Src/main.c ****   // Initialize LCD (16 columns, 2 rows)
 369:Core/Src/main.c **** HD44780_Init(2);
 370:Core/Src/main.c **** HD44780_Backlight();
 371:Core/Src/main.c **** HD44780_Clear();
 372:Core/Src/main.c **** HD44780_SetCursor(0, 0);
 373:Core/Src/main.c **** HD44780_PrintStr("hello world from");
 374:Core/Src/main.c **** HD44780_SetCursor(0, 1);
 375:Core/Src/main.c **** HD44780_PrintStr("haidamacu");
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 32


 376:Core/Src/main.c ****   /* USER CODE END 2 */
 377:Core/Src/main.c **** 
 378:Core/Src/main.c ****   /* Infinite loop */
 379:Core/Src/main.c ****   /* USER CODE BEGIN WHILE */
 380:Core/Src/main.c ****   
 381:Core/Src/main.c ****   setbuf(stdout, NULL);
 382:Core/Src/main.c ****   printf("Code version %d.%d starting...\r\n", SW_VERSION/10, SW_VERSION%10);
 383:Core/Src/main.c ****   /*********************************** main loop *************************************************/
 384:Core/Src/main.c ****   while (1)
 385:Core/Src/main.c ****   {
 386:Core/Src/main.c ****     /* USER CODE END WHILE */
 387:Core/Src/main.c **** 
 388:Core/Src/main.c ****   /* USER CODE BEGIN 3 */
 389:Core/Src/main.c **** static uint32_t button_press_time = 0;
 390:Core/Src/main.c **** static uint8_t last_button_state = 1; // Initialize with button released state
 391:Core/Src/main.c **** 
 392:Core/Src/main.c **** // Read current button state properly
 393:Core/Src/main.c **** uint8_t current_button_state = HAL_GPIO_ReadPin(GPIOC, GPIO_PIN_13);
 394:Core/Src/main.c **** 
 395:Core/Src/main.c **** // Detect button press (falling edge)
 396:Core/Src/main.c **** if(last_button_state && !current_button_state) { 
 397:Core/Src/main.c ****     button_press_time = HAL_GetTick();
 398:Core/Src/main.c **** } 
 399:Core/Src/main.c **** // Detect button release (rising edge)
 400:Core/Src/main.c **** else if(!last_button_state && current_button_state) {
 401:Core/Src/main.c ****     if(button_press_time > 0) {
 402:Core/Src/main.c ****         // Long press detection (>1000ms)
 403:Core/Src/main.c ****         if(HAL_GetTick() - button_press_time > 1000) {
 404:Core/Src/main.c ****             test_mode = !test_mode;
 405:Core/Src/main.c ****             HD44780_Clear();
 406:Core/Src/main.c ****             HD44780_PrintStr(test_mode ? "TEST MODE" : "RGB MODE");
 407:Core/Src/main.c ****         }
 408:Core/Src/main.c ****         // Short press action
 409:Core/Src/main.c ****         else {
 410:Core/Src/main.c ****             if(test_mode) {
 411:Core/Src/main.c ****                 run_cable_test();
 412:Core/Src/main.c ****             } else {
 413:Core/Src/main.c ****                 SM_State = (SM_State+1)%4;
 414:Core/Src/main.c ****                 printf("R:%d G:%d B:%d\r\n", 
 415:Core/Src/main.c ****                     color_PWM[SM_State][0],
 416:Core/Src/main.c ****                     color_PWM[SM_State][1],
 417:Core/Src/main.c ****                     color_PWM[SM_State][2]);
 418:Core/Src/main.c ****             }
 419:Core/Src/main.c ****         }
 420:Core/Src/main.c ****         button_press_time = 0;
 421:Core/Src/main.c ****     }
 422:Core/Src/main.c **** }
 423:Core/Src/main.c **** 
 424:Core/Src/main.c **** // Update last state at the END of the loop iteration
 425:Core/Src/main.c **** last_button_state = current_button_state;
 426:Core/Src/main.c **** 
 427:Core/Src/main.c **** 
 428:Core/Src/main.c **** HAL_Delay(10); // Small delay to reduce CPU usage
 429:Core/Src/main.c **** /* USER CODE END 3 */
 430:Core/Src/main.c **** 
 431:Core/Src/main.c ****   
 432:Core/Src/main.c **** }
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 33


 433:Core/Src/main.c **** 
 434:Core/Src/main.c **** }
 435:Core/Src/main.c **** /**
 436:Core/Src/main.c ****   * @brief System Clock Configuration
 437:Core/Src/main.c ****   * @retval None
 438:Core/Src/main.c ****   */
 439:Core/Src/main.c **** void SystemClock_Config(void)
 440:Core/Src/main.c **** {
 441:Core/Src/main.c ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 442:Core/Src/main.c ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 443:Core/Src/main.c ****   RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
 444:Core/Src/main.c **** 
 445:Core/Src/main.c ****   /** Initializes the RCC Oscillators according to the specified parameters
 446:Core/Src/main.c ****   * in the RCC_OscInitTypeDef structure.
 447:Core/Src/main.c ****   */
 448:Core/Src/main.c ****   RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSE;
 449:Core/Src/main.c ****   RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 450:Core/Src/main.c ****   RCC_OscInitStruct.HSEPredivValue = RCC_HSE_PREDIV_DIV1;
 451:Core/Src/main.c ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 452:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 453:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 454:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL9;
 455:Core/Src/main.c ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 456:Core/Src/main.c ****   {
 457:Core/Src/main.c ****     Error_Handler();
 458:Core/Src/main.c ****   }
 459:Core/Src/main.c **** 
 460:Core/Src/main.c ****   /** Initializes the CPU, AHB and APB buses clocks
 461:Core/Src/main.c ****   */
 462:Core/Src/main.c ****   RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK|RCC_CLOCKTYPE_SYSCLK
 463:Core/Src/main.c ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 464:Core/Src/main.c ****   RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
 465:Core/Src/main.c ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 466:Core/Src/main.c ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 467:Core/Src/main.c ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 468:Core/Src/main.c **** 
 469:Core/Src/main.c ****   if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_2) != HAL_OK)
 470:Core/Src/main.c ****   {
 471:Core/Src/main.c ****     Error_Handler();
 472:Core/Src/main.c ****   }
 473:Core/Src/main.c ****   PeriphClkInit.PeriphClockSelection = RCC_PERIPHCLK_USB;
 474:Core/Src/main.c ****   PeriphClkInit.UsbClockSelection = RCC_USBCLKSOURCE_PLL_DIV1_5;
 475:Core/Src/main.c ****   if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK)
 476:Core/Src/main.c ****   {
 477:Core/Src/main.c ****     Error_Handler();
 478:Core/Src/main.c ****   }
 479:Core/Src/main.c **** }
 480:Core/Src/main.c **** 
 481:Core/Src/main.c **** /* USER CODE BEGIN 4 */
 482:Core/Src/main.c **** 
 483:Core/Src/main.c **** /* USER CODE END 4 */
 484:Core/Src/main.c **** 
 485:Core/Src/main.c **** /**
 486:Core/Src/main.c ****   * @brief  This function is executed in case of error occurrence.
 487:Core/Src/main.c ****   * @retval None
 488:Core/Src/main.c ****   */
 489:Core/Src/main.c **** void Error_Handler(void)
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 34


 490:Core/Src/main.c **** {
 1264              		.loc 1 490 1 view -0
 1265              		.cfi_startproc
 1266              		@ Volatile: function does not return.
 1267              		@ args = 0, pretend = 0, frame = 0
 1268              		@ frame_needed = 0, uses_anonymous_args = 0
 1269              		@ link register save eliminated.
 491:Core/Src/main.c ****   /* USER CODE BEGIN Error_Handler_Debug */
 492:Core/Src/main.c ****   /* User can add his own implementation to report the HAL error return state */
 493:Core/Src/main.c ****   __disable_irq();
 1270              		.loc 1 493 3 view .LVU280
 1271              	.LBB24:
 1272              	.LBI24:
 1273              		.file 2 "Drivers/CMSIS/Include/cmsis_gcc.h"
   1:Drivers/CMSIS/Include/cmsis_gcc.h **** /**************************************************************************//**
   2:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @brief    CMSIS compiler GCC header file
   4:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @version  V5.0.4
   5:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @date     09. April 2018
   6:Drivers/CMSIS/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:Drivers/CMSIS/Include/cmsis_gcc.h **** /*
   8:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Copyright (c) 2009-2018 Arm Limited. All rights reserved.
   9:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  10:Drivers/CMSIS/Include/cmsis_gcc.h ****  * SPDX-License-Identifier: Apache-2.0
  11:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  12:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Licensed under the Apache License, Version 2.0 (the License); you may
  13:Drivers/CMSIS/Include/cmsis_gcc.h ****  * not use this file except in compliance with the License.
  14:Drivers/CMSIS/Include/cmsis_gcc.h ****  * You may obtain a copy of the License at
  15:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  16:Drivers/CMSIS/Include/cmsis_gcc.h ****  * www.apache.org/licenses/LICENSE-2.0
  17:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  18:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Unless required by applicable law or agreed to in writing, software
  19:Drivers/CMSIS/Include/cmsis_gcc.h ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
  20:Drivers/CMSIS/Include/cmsis_gcc.h ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  21:Drivers/CMSIS/Include/cmsis_gcc.h ****  * See the License for the specific language governing permissions and
  22:Drivers/CMSIS/Include/cmsis_gcc.h ****  * limitations under the License.
  23:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  24:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  25:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  26:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  27:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  28:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
  29:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
  30:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  31:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  32:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  33:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  34:Drivers/CMSIS/Include/cmsis_gcc.h **** /* Fallback for __has_builtin */
  35:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __has_builtin
  36:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __has_builtin(x) (0)
  37:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  38:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  39:Drivers/CMSIS/Include/cmsis_gcc.h **** /* CMSIS compiler specific defines */
  40:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ASM
  41:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ASM                                  __asm
  42:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  43:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __INLINE
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 35


  44:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __INLINE                               inline
  45:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  46:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_INLINE
  47:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_INLINE                        static inline
  48:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  49:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_FORCEINLINE                 
  50:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_FORCEINLINE                   __attribute__((always_inline)) static inline
  51:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif                                           
  52:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __NO_RETURN
  53:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __NO_RETURN                            __attribute__((__noreturn__))
  54:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  55:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __USED
  56:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __USED                                 __attribute__((used))
  57:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  58:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __WEAK
  59:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __WEAK                                 __attribute__((weak))
  60:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  61:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED
  62:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED                               __attribute__((packed, aligned(1)))
  63:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  64:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_STRUCT
  65:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_STRUCT                        struct __attribute__((packed, aligned(1)))
  66:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  67:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_UNION
  68:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_UNION                         union __attribute__((packed, aligned(1)))
  69:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  70:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32        /* deprecated */
  71:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  72:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  73:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  74:Drivers/CMSIS/Include/cmsis_gcc.h ****   struct __attribute__((packed)) T_UINT32 { uint32_t v; };
  75:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  76:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32(x)                  (((struct T_UINT32 *)(x))->v)
  77:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  78:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_WRITE
  79:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  80:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  81:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  82:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_WRITE { uint16_t v; };
  83:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  84:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_WRITE(addr, val)    (void)((((struct T_UINT16_WRITE *)(void *)(addr))-
  85:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  86:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_READ
  87:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  88:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  89:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  90:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_READ { uint16_t v; };
  91:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  92:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_READ(addr)          (((const struct T_UINT16_READ *)(const void *)(add
  93:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  94:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_WRITE
  95:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  96:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  97:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  98:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_WRITE { uint32_t v; };
  99:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 100:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_WRITE(addr, val)    (void)((((struct T_UINT32_WRITE *)(void *)(addr))-
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 36


 101:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 102:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_READ
 103:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
 104:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
 105:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
 106:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_READ { uint32_t v; };
 107:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 108:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_READ(addr)          (((const struct T_UINT32_READ *)(const void *)(add
 109:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 110:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ALIGNED
 111:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ALIGNED(x)                           __attribute__((aligned(x)))
 112:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 113:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __RESTRICT
 114:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __RESTRICT                             __restrict
 115:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 116:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 117:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 118:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
 119:Drivers/CMSIS/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
 120:Drivers/CMSIS/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
 121:Drivers/CMSIS/Include/cmsis_gcc.h ****   @{
 122:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 123:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 124:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 125:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
 126:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing the I-bit in the CPSR.
 127:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 128:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __enable_irq(void)
 130:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 131:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
 132:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 133:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 134:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 135:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 136:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
 137:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting the I-bit in the CPSR.
 138:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 139:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __disable_irq(void)
 1274              		.loc 2 140 27 view .LVU281
 1275              	.LBB25:
 141:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 142:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
 1276              		.loc 2 142 3 view .LVU282
 1277              		.syntax unified
 1278              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1279 0000 72B6     		cpsid i
 1280              	@ 0 "" 2
 1281              		.thumb
 1282              		.syntax unified
 1283              	.L108:
 1284              	.LBE25:
 1285              	.LBE24:
 494:Core/Src/main.c ****   while (1)
 1286              		.loc 1 494 3 view .LVU283
 495:Core/Src/main.c ****   {
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 37


 496:Core/Src/main.c ****   }
 1287              		.loc 1 496 3 view .LVU284
 494:Core/Src/main.c ****   while (1)
 1288              		.loc 1 494 9 view .LVU285
 1289 0002 FEE7     		b	.L108
 1290              		.cfi_endproc
 1291              	.LFE79:
 1293              		.section	.text.SystemClock_Config,"ax",%progbits
 1294              		.align	1
 1295              		.global	SystemClock_Config
 1296              		.syntax unified
 1297              		.thumb
 1298              		.thumb_func
 1300              	SystemClock_Config:
 1301              	.LFB78:
 440:Core/Src/main.c ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 1302              		.loc 1 440 1 view -0
 1303              		.cfi_startproc
 1304              		@ args = 0, pretend = 0, frame = 80
 1305              		@ frame_needed = 0, uses_anonymous_args = 0
 1306 0000 00B5     		push	{lr}
 1307              	.LCFI21:
 1308              		.cfi_def_cfa_offset 4
 1309              		.cfi_offset 14, -4
 1310 0002 95B0     		sub	sp, sp, #84
 1311              	.LCFI22:
 1312              		.cfi_def_cfa_offset 88
 441:Core/Src/main.c ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 1313              		.loc 1 441 3 view .LVU287
 441:Core/Src/main.c ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 1314              		.loc 1 441 22 is_stmt 0 view .LVU288
 1315 0004 2822     		movs	r2, #40
 1316 0006 0021     		movs	r1, #0
 1317 0008 0DEB0200 		add	r0, sp, r2
 1318 000c FFF7FEFF 		bl	memset
 1319              	.LVL123:
 442:Core/Src/main.c ****   RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
 1320              		.loc 1 442 3 is_stmt 1 view .LVU289
 442:Core/Src/main.c ****   RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
 1321              		.loc 1 442 22 is_stmt 0 view .LVU290
 1322 0010 0023     		movs	r3, #0
 1323 0012 0593     		str	r3, [sp, #20]
 1324 0014 0693     		str	r3, [sp, #24]
 1325 0016 0793     		str	r3, [sp, #28]
 1326 0018 0893     		str	r3, [sp, #32]
 1327 001a 0993     		str	r3, [sp, #36]
 443:Core/Src/main.c **** 
 1328              		.loc 1 443 3 is_stmt 1 view .LVU291
 443:Core/Src/main.c **** 
 1329              		.loc 1 443 28 is_stmt 0 view .LVU292
 1330 001c 0193     		str	r3, [sp, #4]
 1331 001e 0293     		str	r3, [sp, #8]
 1332 0020 0393     		str	r3, [sp, #12]
 1333 0022 0493     		str	r3, [sp, #16]
 448:Core/Src/main.c ****   RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 1334              		.loc 1 448 3 is_stmt 1 view .LVU293
 448:Core/Src/main.c ****   RCC_OscInitStruct.HSEState = RCC_HSE_ON;
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 38


 1335              		.loc 1 448 36 is_stmt 0 view .LVU294
 1336 0024 0122     		movs	r2, #1
 1337 0026 0A92     		str	r2, [sp, #40]
 449:Core/Src/main.c ****   RCC_OscInitStruct.HSEPredivValue = RCC_HSE_PREDIV_DIV1;
 1338              		.loc 1 449 3 is_stmt 1 view .LVU295
 449:Core/Src/main.c ****   RCC_OscInitStruct.HSEPredivValue = RCC_HSE_PREDIV_DIV1;
 1339              		.loc 1 449 30 is_stmt 0 view .LVU296
 1340 0028 4FF48033 		mov	r3, #65536
 1341 002c 0B93     		str	r3, [sp, #44]
 450:Core/Src/main.c ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 1342              		.loc 1 450 3 is_stmt 1 view .LVU297
 451:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 1343              		.loc 1 451 3 view .LVU298
 451:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 1344              		.loc 1 451 30 is_stmt 0 view .LVU299
 1345 002e 0E92     		str	r2, [sp, #56]
 452:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 1346              		.loc 1 452 3 is_stmt 1 view .LVU300
 452:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 1347              		.loc 1 452 34 is_stmt 0 view .LVU301
 1348 0030 0222     		movs	r2, #2
 1349 0032 1192     		str	r2, [sp, #68]
 453:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL9;
 1350              		.loc 1 453 3 is_stmt 1 view .LVU302
 453:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL9;
 1351              		.loc 1 453 35 is_stmt 0 view .LVU303
 1352 0034 1293     		str	r3, [sp, #72]
 454:Core/Src/main.c ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 1353              		.loc 1 454 3 is_stmt 1 view .LVU304
 454:Core/Src/main.c ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 1354              		.loc 1 454 32 is_stmt 0 view .LVU305
 1355 0036 4FF4E013 		mov	r3, #1835008
 1356 003a 1393     		str	r3, [sp, #76]
 455:Core/Src/main.c ****   {
 1357              		.loc 1 455 3 is_stmt 1 view .LVU306
 455:Core/Src/main.c ****   {
 1358              		.loc 1 455 7 is_stmt 0 view .LVU307
 1359 003c 0AA8     		add	r0, sp, #40
 1360 003e FFF7FEFF 		bl	HAL_RCC_OscConfig
 1361              	.LVL124:
 455:Core/Src/main.c ****   {
 1362              		.loc 1 455 6 discriminator 1 view .LVU308
 1363 0042 C0B9     		cbnz	r0, .L114
 462:Core/Src/main.c ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 1364              		.loc 1 462 3 is_stmt 1 view .LVU309
 462:Core/Src/main.c ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 1365              		.loc 1 462 31 is_stmt 0 view .LVU310
 1366 0044 0F23     		movs	r3, #15
 1367 0046 0593     		str	r3, [sp, #20]
 464:Core/Src/main.c ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 1368              		.loc 1 464 3 is_stmt 1 view .LVU311
 464:Core/Src/main.c ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 1369              		.loc 1 464 34 is_stmt 0 view .LVU312
 1370 0048 0221     		movs	r1, #2
 1371 004a 0691     		str	r1, [sp, #24]
 465:Core/Src/main.c ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 1372              		.loc 1 465 3 is_stmt 1 view .LVU313
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 39


 465:Core/Src/main.c ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 1373              		.loc 1 465 35 is_stmt 0 view .LVU314
 1374 004c 0023     		movs	r3, #0
 1375 004e 0793     		str	r3, [sp, #28]
 466:Core/Src/main.c ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 1376              		.loc 1 466 3 is_stmt 1 view .LVU315
 466:Core/Src/main.c ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 1377              		.loc 1 466 36 is_stmt 0 view .LVU316
 1378 0050 4FF48062 		mov	r2, #1024
 1379 0054 0892     		str	r2, [sp, #32]
 467:Core/Src/main.c **** 
 1380              		.loc 1 467 3 is_stmt 1 view .LVU317
 467:Core/Src/main.c **** 
 1381              		.loc 1 467 36 is_stmt 0 view .LVU318
 1382 0056 0993     		str	r3, [sp, #36]
 469:Core/Src/main.c ****   {
 1383              		.loc 1 469 3 is_stmt 1 view .LVU319
 469:Core/Src/main.c ****   {
 1384              		.loc 1 469 7 is_stmt 0 view .LVU320
 1385 0058 05A8     		add	r0, sp, #20
 1386 005a FFF7FEFF 		bl	HAL_RCC_ClockConfig
 1387              	.LVL125:
 469:Core/Src/main.c ****   {
 1388              		.loc 1 469 6 discriminator 1 view .LVU321
 1389 005e 60B9     		cbnz	r0, .L115
 473:Core/Src/main.c ****   PeriphClkInit.UsbClockSelection = RCC_USBCLKSOURCE_PLL_DIV1_5;
 1390              		.loc 1 473 3 is_stmt 1 view .LVU322
 473:Core/Src/main.c ****   PeriphClkInit.UsbClockSelection = RCC_USBCLKSOURCE_PLL_DIV1_5;
 1391              		.loc 1 473 38 is_stmt 0 view .LVU323
 1392 0060 1023     		movs	r3, #16
 1393 0062 0193     		str	r3, [sp, #4]
 474:Core/Src/main.c ****   if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK)
 1394              		.loc 1 474 3 is_stmt 1 view .LVU324
 474:Core/Src/main.c ****   if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK)
 1395              		.loc 1 474 35 is_stmt 0 view .LVU325
 1396 0064 0023     		movs	r3, #0
 1397 0066 0493     		str	r3, [sp, #16]
 475:Core/Src/main.c ****   {
 1398              		.loc 1 475 3 is_stmt 1 view .LVU326
 475:Core/Src/main.c ****   {
 1399              		.loc 1 475 7 is_stmt 0 view .LVU327
 1400 0068 01A8     		add	r0, sp, #4
 1401 006a FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 1402              	.LVL126:
 475:Core/Src/main.c ****   {
 1403              		.loc 1 475 6 discriminator 1 view .LVU328
 1404 006e 30B9     		cbnz	r0, .L116
 479:Core/Src/main.c **** 
 1405              		.loc 1 479 1 view .LVU329
 1406 0070 15B0     		add	sp, sp, #84
 1407              	.LCFI23:
 1408              		.cfi_remember_state
 1409              		.cfi_def_cfa_offset 4
 1410              		@ sp needed
 1411 0072 5DF804FB 		ldr	pc, [sp], #4
 1412              	.L114:
 1413              	.LCFI24:
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 40


 1414              		.cfi_restore_state
 457:Core/Src/main.c ****   }
 1415              		.loc 1 457 5 is_stmt 1 view .LVU330
 1416 0076 FFF7FEFF 		bl	Error_Handler
 1417              	.LVL127:
 1418              	.L115:
 471:Core/Src/main.c ****   }
 1419              		.loc 1 471 5 view .LVU331
 1420 007a FFF7FEFF 		bl	Error_Handler
 1421              	.LVL128:
 1422              	.L116:
 477:Core/Src/main.c ****   }
 1423              		.loc 1 477 5 view .LVU332
 1424 007e FFF7FEFF 		bl	Error_Handler
 1425              	.LVL129:
 1426              		.cfi_endproc
 1427              	.LFE78:
 1429              		.section	.rodata.main.str1.4,"aMS",%progbits,1
 1430              		.align	2
 1431              	.LC17:
 1432 0000 54455354 		.ascii	"TEST MODE\000"
 1432      204D4F44 
 1432      4500
 1433 000a 0000     		.align	2
 1434              	.LC18:
 1435 000c 52474220 		.ascii	"RGB MODE\000"
 1435      4D4F4445 
 1435      00
 1436 0015 000000   		.align	2
 1437              	.LC19:
 1438 0018 68656C6C 		.ascii	"hello world from\000"
 1438      6F20776F 
 1438      726C6420 
 1438      66726F6D 
 1438      00
 1439 0029 000000   		.align	2
 1440              	.LC20:
 1441 002c 68616964 		.ascii	"haidamacu\000"
 1441      616D6163 
 1441      7500
 1442 0036 0000     		.align	2
 1443              	.LC21:
 1444 0038 436F6465 		.ascii	"Code version %d.%d starting...\015\012\000"
 1444      20766572 
 1444      73696F6E 
 1444      2025642E 
 1444      25642073 
 1445 0059 000000   		.align	2
 1446              	.LC22:
 1447 005c 523A2564 		.ascii	"R:%d G:%d B:%d\015\012\000"
 1447      20473A25 
 1447      6420423A 
 1447      25640D0A 
 1447      00
 1448              		.section	.text.main,"ax",%progbits
 1449              		.align	1
 1450              		.global	main
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 41


 1451              		.syntax unified
 1452              		.thumb
 1453              		.thumb_func
 1455              	main:
 1456              	.LFB77:
 335:Core/Src/main.c **** 
 1457              		.loc 1 335 1 view -0
 1458              		.cfi_startproc
 1459              		@ args = 0, pretend = 0, frame = 0
 1460              		@ frame_needed = 0, uses_anonymous_args = 0
 1461 0000 38B5     		push	{r3, r4, r5, lr}
 1462              	.LCFI25:
 1463              		.cfi_def_cfa_offset 16
 1464              		.cfi_offset 3, -16
 1465              		.cfi_offset 4, -12
 1466              		.cfi_offset 5, -8
 1467              		.cfi_offset 14, -4
 347:Core/Src/main.c **** 
 1468              		.loc 1 347 3 view .LVU334
 1469 0002 FFF7FEFF 		bl	HAL_Init
 1470              	.LVL130:
 353:Core/Src/main.c **** 
 1471              		.loc 1 353 3 view .LVU335
 1472 0006 FFF7FEFF 		bl	SystemClock_Config
 1473              	.LVL131:
 359:Core/Src/main.c ****   MX_USART1_UART_Init();
 1474              		.loc 1 359 3 view .LVU336
 1475 000a FFF7FEFF 		bl	MX_GPIO_Init
 1476              	.LVL132:
 360:Core/Src/main.c ****   MX_USB_DEVICE_Init();
 1477              		.loc 1 360 3 view .LVU337
 1478 000e FFF7FEFF 		bl	MX_USART1_UART_Init
 1479              	.LVL133:
 361:Core/Src/main.c ****   MX_TIM2_Init();
 1480              		.loc 1 361 3 view .LVU338
 1481 0012 FFF7FEFF 		bl	MX_USB_DEVICE_Init
 1482              	.LVL134:
 362:Core/Src/main.c ****   MX_I2C1_Init();
 1483              		.loc 1 362 3 view .LVU339
 1484 0016 FFF7FEFF 		bl	MX_TIM2_Init
 1485              	.LVL135:
 363:Core/Src/main.c ****   /* USER CODE BEGIN 2 */
 1486              		.loc 1 363 3 view .LVU340
 1487 001a FFF7FEFF 		bl	MX_I2C1_Init
 1488              	.LVL136:
 365:Core/Src/main.c ****   HAL_TIM_Base_Start_IT(&htim2);  //enable Timer 2 interrupt
 1489              		.loc 1 365 3 view .LVU341
 1490 001e 0122     		movs	r2, #1
 1491 0020 4249     		ldr	r1, .L129
 1492 0022 4348     		ldr	r0, .L129+4
 1493 0024 FFF7FEFF 		bl	HAL_UART_Receive_IT
 1494              	.LVL137:
 366:Core/Src/main.c ****   memcpy(color_PWM, color_PWM_Set[current_Mode], sizeof(color_PWM));
 1495              		.loc 1 366 3 view .LVU342
 1496 0028 4248     		ldr	r0, .L129+8
 1497 002a FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 1498              	.LVL138:
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 42


 367:Core/Src/main.c ****   // Initialize LCD (16 columns, 2 rows)
 1499              		.loc 1 367 3 view .LVU343
 1500 002e 424B     		ldr	r3, .L129+12
 1501 0030 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 367:Core/Src/main.c ****   // Initialize LCD (16 columns, 2 rows)
 1502              		.loc 1 367 34 is_stmt 0 view .LVU344
 1503 0032 424B     		ldr	r3, .L129+16
 1504 0034 53F82220 		ldr	r2, [r3, r2, lsl #2]
 367:Core/Src/main.c ****   // Initialize LCD (16 columns, 2 rows)
 1505              		.loc 1 367 3 view .LVU345
 1506 0038 414B     		ldr	r3, .L129+20
 1507 003a 1068     		ldr	r0, [r2]	@ unaligned
 1508 003c 5168     		ldr	r1, [r2, #4]	@ unaligned
 1509 003e 9268     		ldr	r2, [r2, #8]	@ unaligned
 1510 0040 07C3     		stmia	r3!, {r0, r1, r2}
 369:Core/Src/main.c **** HD44780_Backlight();
 1511              		.loc 1 369 1 is_stmt 1 view .LVU346
 1512 0042 0220     		movs	r0, #2
 1513 0044 FFF7FEFF 		bl	HD44780_Init
 1514              	.LVL139:
 370:Core/Src/main.c **** HD44780_Clear();
 1515              		.loc 1 370 1 view .LVU347
 1516 0048 FFF7FEFF 		bl	HD44780_Backlight
 1517              	.LVL140:
 371:Core/Src/main.c **** HD44780_SetCursor(0, 0);
 1518              		.loc 1 371 1 view .LVU348
 1519 004c FFF7FEFF 		bl	HD44780_Clear
 1520              	.LVL141:
 372:Core/Src/main.c **** HD44780_PrintStr("hello world from");
 1521              		.loc 1 372 1 view .LVU349
 1522 0050 0021     		movs	r1, #0
 1523 0052 0846     		mov	r0, r1
 1524 0054 FFF7FEFF 		bl	HD44780_SetCursor
 1525              	.LVL142:
 373:Core/Src/main.c **** HD44780_SetCursor(0, 1);
 1526              		.loc 1 373 1 view .LVU350
 1527 0058 3A48     		ldr	r0, .L129+24
 1528 005a FFF7FEFF 		bl	HD44780_PrintStr
 1529              	.LVL143:
 374:Core/Src/main.c **** HD44780_PrintStr("haidamacu");
 1530              		.loc 1 374 1 view .LVU351
 1531 005e 0121     		movs	r1, #1
 1532 0060 0020     		movs	r0, #0
 1533 0062 FFF7FEFF 		bl	HD44780_SetCursor
 1534              	.LVL144:
 375:Core/Src/main.c ****   /* USER CODE END 2 */
 1535              		.loc 1 375 1 view .LVU352
 1536 0066 3848     		ldr	r0, .L129+28
 1537 0068 FFF7FEFF 		bl	HD44780_PrintStr
 1538              	.LVL145:
 381:Core/Src/main.c ****   printf("Code version %d.%d starting...\r\n", SW_VERSION/10, SW_VERSION%10);
 1539              		.loc 1 381 3 view .LVU353
 381:Core/Src/main.c ****   printf("Code version %d.%d starting...\r\n", SW_VERSION/10, SW_VERSION%10);
 1540              		.loc 1 381 10 is_stmt 0 view .LVU354
 1541 006c 374B     		ldr	r3, .L129+32
 1542 006e 1B68     		ldr	r3, [r3]
 381:Core/Src/main.c ****   printf("Code version %d.%d starting...\r\n", SW_VERSION/10, SW_VERSION%10);
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 43


 1543              		.loc 1 381 3 view .LVU355
 1544 0070 0021     		movs	r1, #0
 1545 0072 9868     		ldr	r0, [r3, #8]
 1546 0074 FFF7FEFF 		bl	setbuf
 1547              	.LVL146:
 382:Core/Src/main.c ****   /*********************************** main loop *************************************************/
 1548              		.loc 1 382 3 is_stmt 1 view .LVU356
 1549 0078 0122     		movs	r2, #1
 1550 007a 1146     		mov	r1, r2
 1551 007c 3448     		ldr	r0, .L129+36
 1552 007e FFF7FEFF 		bl	printf
 1553              	.LVL147:
 1554 0082 09E0     		b	.L124
 1555              	.LVL148:
 1556              	.L118:
 1557              	.LBB26:
 400:Core/Src/main.c ****     if(button_press_time > 0) {
 1558              		.loc 1 400 6 view .LVU357
 400:Core/Src/main.c ****     if(button_press_time > 0) {
 1559              		.loc 1 400 8 is_stmt 0 view .LVU358
 1560 0084 1BB9     		cbnz	r3, .L119
 400:Core/Src/main.c ****     if(button_press_time > 0) {
 1561              		.loc 1 400 28 discriminator 1 view .LVU359
 1562 0086 14B1     		cbz	r4, .L119
 401:Core/Src/main.c ****         // Long press detection (>1000ms)
 1563              		.loc 1 401 5 is_stmt 1 view .LVU360
 401:Core/Src/main.c ****         // Long press detection (>1000ms)
 1564              		.loc 1 401 26 is_stmt 0 view .LVU361
 1565 0088 324B     		ldr	r3, .L129+40
 1566 008a 1B68     		ldr	r3, [r3]
 401:Core/Src/main.c ****         // Long press detection (>1000ms)
 1567              		.loc 1 401 7 view .LVU362
 1568 008c ABB9     		cbnz	r3, .L127
 1569              	.LVL149:
 1570              	.L119:
 425:Core/Src/main.c **** 
 1571              		.loc 1 425 1 is_stmt 1 view .LVU363
 425:Core/Src/main.c **** 
 1572              		.loc 1 425 19 is_stmt 0 view .LVU364
 1573 008e 324B     		ldr	r3, .L129+44
 1574 0090 1C70     		strb	r4, [r3]
 428:Core/Src/main.c **** /* USER CODE END 3 */
 1575              		.loc 1 428 1 is_stmt 1 view .LVU365
 1576 0092 0A20     		movs	r0, #10
 1577 0094 FFF7FEFF 		bl	HAL_Delay
 1578              	.LVL150:
 1579              	.LBE26:
 384:Core/Src/main.c ****   {
 1580              		.loc 1 384 9 view .LVU366
 1581              	.L124:
 384:Core/Src/main.c ****   {
 1582              		.loc 1 384 3 view .LVU367
 1583              	.LBB27:
 389:Core/Src/main.c **** static uint8_t last_button_state = 1; // Initialize with button released state
 1584              		.loc 1 389 1 view .LVU368
 390:Core/Src/main.c **** 
 1585              		.loc 1 390 1 view .LVU369
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 44


 393:Core/Src/main.c **** 
 1586              		.loc 1 393 1 view .LVU370
 393:Core/Src/main.c **** 
 1587              		.loc 1 393 32 is_stmt 0 view .LVU371
 1588 0098 4FF40051 		mov	r1, #8192
 1589 009c 2F48     		ldr	r0, .L129+48
 1590 009e FFF7FEFF 		bl	HAL_GPIO_ReadPin
 1591              	.LVL151:
 1592 00a2 0446     		mov	r4, r0
 1593              	.LVL152:
 396:Core/Src/main.c ****     button_press_time = HAL_GetTick();
 1594              		.loc 1 396 1 is_stmt 1 view .LVU372
 396:Core/Src/main.c ****     button_press_time = HAL_GetTick();
 1595              		.loc 1 396 4 is_stmt 0 view .LVU373
 1596 00a4 2C4B     		ldr	r3, .L129+44
 1597 00a6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 396:Core/Src/main.c ****     button_press_time = HAL_GetTick();
 1598              		.loc 1 396 3 view .LVU374
 1599 00a8 002B     		cmp	r3, #0
 1600 00aa EBD0     		beq	.L118
 396:Core/Src/main.c ****     button_press_time = HAL_GetTick();
 1601              		.loc 1 396 22 discriminator 1 view .LVU375
 1602 00ac 0028     		cmp	r0, #0
 1603 00ae E9D1     		bne	.L118
 397:Core/Src/main.c **** } 
 1604              		.loc 1 397 5 is_stmt 1 view .LVU376
 397:Core/Src/main.c **** } 
 1605              		.loc 1 397 25 is_stmt 0 view .LVU377
 1606 00b0 FFF7FEFF 		bl	HAL_GetTick
 1607              	.LVL153:
 397:Core/Src/main.c **** } 
 1608              		.loc 1 397 23 discriminator 1 view .LVU378
 1609 00b4 274B     		ldr	r3, .L129+40
 1610 00b6 1860     		str	r0, [r3]
 397:Core/Src/main.c **** } 
 1611              		.loc 1 397 23 view .LVU379
 1612 00b8 E9E7     		b	.L119
 1613              	.LVL154:
 1614              	.L127:
 403:Core/Src/main.c ****             test_mode = !test_mode;
 1615              		.loc 1 403 9 is_stmt 1 view .LVU380
 403:Core/Src/main.c ****             test_mode = !test_mode;
 1616              		.loc 1 403 12 is_stmt 0 view .LVU381
 1617 00ba FFF7FEFF 		bl	HAL_GetTick
 1618              	.LVL155:
 403:Core/Src/main.c ****             test_mode = !test_mode;
 1619              		.loc 1 403 26 discriminator 1 view .LVU382
 1620 00be 254B     		ldr	r3, .L129+40
 1621 00c0 1B68     		ldr	r3, [r3]
 1622 00c2 C01A     		subs	r0, r0, r3
 403:Core/Src/main.c ****             test_mode = !test_mode;
 1623              		.loc 1 403 11 discriminator 1 view .LVU383
 1624 00c4 B0F57A7F 		cmp	r0, #1000
 1625 00c8 08D8     		bhi	.L128
 410:Core/Src/main.c ****                 run_cable_test();
 1626              		.loc 1 410 13 is_stmt 1 view .LVU384
 410:Core/Src/main.c ****                 run_cable_test();
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 45


 1627              		.loc 1 410 16 is_stmt 0 view .LVU385
 1628 00ca 254B     		ldr	r3, .L129+52
 1629 00cc 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 410:Core/Src/main.c ****                 run_cable_test();
 1630              		.loc 1 410 15 view .LVU386
 1631 00ce ABB1     		cbz	r3, .L123
 411:Core/Src/main.c ****             } else {
 1632              		.loc 1 411 17 is_stmt 1 view .LVU387
 1633 00d0 FFF7FEFF 		bl	run_cable_test
 1634              	.LVL156:
 1635              	.L122:
 420:Core/Src/main.c ****     }
 1636              		.loc 1 420 9 view .LVU388
 420:Core/Src/main.c ****     }
 1637              		.loc 1 420 27 is_stmt 0 view .LVU389
 1638 00d4 1F4B     		ldr	r3, .L129+40
 1639 00d6 0022     		movs	r2, #0
 1640 00d8 1A60     		str	r2, [r3]
 1641 00da D8E7     		b	.L119
 1642              	.L128:
 404:Core/Src/main.c ****             HD44780_Clear();
 1643              		.loc 1 404 13 is_stmt 1 view .LVU390
 404:Core/Src/main.c ****             HD44780_Clear();
 1644              		.loc 1 404 25 is_stmt 0 view .LVU391
 1645 00dc 204D     		ldr	r5, .L129+52
 1646 00de 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 1647 00e0 B3FA83F3 		clz	r3, r3
 1648 00e4 5B09     		lsrs	r3, r3, #5
 404:Core/Src/main.c ****             HD44780_Clear();
 1649              		.loc 1 404 23 view .LVU392
 1650 00e6 2B70     		strb	r3, [r5]
 405:Core/Src/main.c ****             HD44780_PrintStr(test_mode ? "TEST MODE" : "RGB MODE");
 1651              		.loc 1 405 13 is_stmt 1 view .LVU393
 1652 00e8 FFF7FEFF 		bl	HD44780_Clear
 1653              	.LVL157:
 406:Core/Src/main.c ****         }
 1654              		.loc 1 406 13 view .LVU394
 406:Core/Src/main.c ****         }
 1655              		.loc 1 406 40 is_stmt 0 view .LVU395
 1656 00ec 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 406:Core/Src/main.c ****         }
 1657              		.loc 1 406 13 view .LVU396
 1658 00ee 1BB1     		cbz	r3, .L125
 406:Core/Src/main.c ****         }
 1659              		.loc 1 406 13 discriminator 1 view .LVU397
 1660 00f0 1C48     		ldr	r0, .L129+56
 1661              	.L121:
 406:Core/Src/main.c ****         }
 1662              		.loc 1 406 13 discriminator 4 view .LVU398
 1663 00f2 FFF7FEFF 		bl	HD44780_PrintStr
 1664              	.LVL158:
 1665 00f6 EDE7     		b	.L122
 1666              	.L125:
 406:Core/Src/main.c ****         }
 1667              		.loc 1 406 13 discriminator 2 view .LVU399
 1668 00f8 1B48     		ldr	r0, .L129+60
 1669 00fa FAE7     		b	.L121
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 46


 1670              	.L123:
 413:Core/Src/main.c ****                 printf("R:%d G:%d B:%d\r\n", 
 1671              		.loc 1 413 17 is_stmt 1 view .LVU400
 413:Core/Src/main.c ****                 printf("R:%d G:%d B:%d\r\n", 
 1672              		.loc 1 413 37 is_stmt 0 view .LVU401
 1673 00fc 1B49     		ldr	r1, .L129+64
 1674 00fe 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1675 0100 0133     		adds	r3, r3, #1
 413:Core/Src/main.c ****                 printf("R:%d G:%d B:%d\r\n", 
 1676              		.loc 1 413 40 view .LVU402
 1677 0102 5A42     		rsbs	r2, r3, #0
 1678 0104 03F00303 		and	r3, r3, #3
 1679 0108 02F00302 		and	r2, r2, #3
 1680 010c 58BF     		it	pl
 1681 010e 5342     		rsbpl	r3, r2, #0
 413:Core/Src/main.c ****                 printf("R:%d G:%d B:%d\r\n", 
 1682              		.loc 1 413 26 view .LVU403
 1683 0110 0B70     		strb	r3, [r1]
 414:Core/Src/main.c ****                     color_PWM[SM_State][0],
 1684              		.loc 1 414 17 is_stmt 1 view .LVU404
 1685 0112 D9B2     		uxtb	r1, r3
 415:Core/Src/main.c ****                     color_PWM[SM_State][1],
 1686              		.loc 1 415 40 is_stmt 0 view .LVU405
 1687 0114 0A48     		ldr	r0, .L129+20
 1688 0116 01EB4101 		add	r1, r1, r1, lsl #1
 1689 011a 4218     		adds	r2, r0, r1
 414:Core/Src/main.c ****                     color_PWM[SM_State][0],
 1690              		.loc 1 414 17 view .LVU406
 1691 011c 9378     		ldrb	r3, [r2, #2]	@ zero_extendqisi2
 1692 011e 5278     		ldrb	r2, [r2, #1]	@ zero_extendqisi2
 1693 0120 415C     		ldrb	r1, [r0, r1]	@ zero_extendqisi2
 1694 0122 1348     		ldr	r0, .L129+68
 1695 0124 FFF7FEFF 		bl	printf
 1696              	.LVL159:
 1697 0128 D4E7     		b	.L122
 1698              	.L130:
 1699 012a 00BF     		.align	2
 1700              	.L129:
 1701 012c 00000000 		.word	uart_buf
 1702 0130 00000000 		.word	huart1
 1703 0134 00000000 		.word	htim2
 1704 0138 00000000 		.word	current_Mode
 1705 013c 00000000 		.word	color_PWM_Set
 1706 0140 00000000 		.word	color_PWM
 1707 0144 18000000 		.word	.LC19
 1708 0148 2C000000 		.word	.LC20
 1709 014c 00000000 		.word	_impure_ptr
 1710 0150 38000000 		.word	.LC21
 1711 0154 00000000 		.word	button_press_time.0
 1712 0158 00000000 		.word	last_button_state.1
 1713 015c 00100140 		.word	1073811456
 1714 0160 00000000 		.word	test_mode
 1715 0164 00000000 		.word	.LC17
 1716 0168 0C000000 		.word	.LC18
 1717 016c 00000000 		.word	SM_State
 1718 0170 5C000000 		.word	.LC22
 1719              	.LBE27:
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 47


 1720              		.cfi_endproc
 1721              	.LFE77:
 1723              		.section	.bss.button_press_time.0,"aw",%nobits
 1724              		.align	2
 1727              	button_press_time.0:
 1728 0000 00000000 		.space	4
 1729              		.section	.data.last_button_state.1,"aw"
 1732              	last_button_state.1:
 1733 0000 01       		.byte	1
 1734              		.section	.bss.i.2,"aw",%nobits
 1735              		.align	2
 1738              	i.2:
 1739 0000 00000000 		.space	4
 1740              		.global	dash_Color
 1741              		.section	.data.dash_Color,"aw"
 1742              		.align	2
 1745              	dash_Color:
 1746 0000 000100   		.ascii	"\000\001\000"
 1747              		.global	dot_Color
 1748              		.section	.data.dot_Color,"aw"
 1749              		.align	2
 1752              	dot_Color:
 1753 0000 010001   		.ascii	"\001\000\001"
 1754              		.global	cable_type_names
 1755              		.section	.rodata.str1.4,"aMS",%progbits,1
 1756              		.align	2
 1757              	.LC23:
 1758 0000 53747261 		.ascii	"Straight\000"
 1758      69676874 
 1758      00
 1759 0009 000000   		.align	2
 1760              	.LC24:
 1761 000c 43726F73 		.ascii	"Crossover\000"
 1761      736F7665 
 1761      7200
 1762 0016 0000     		.align	2
 1763              	.LC25:
 1764 0018 4661756C 		.ascii	"Faulty\000"
 1764      747900
 1765              		.section	.data.cable_type_names,"aw"
 1766              		.align	2
 1769              	cable_type_names:
 1770 0000 00000000 		.word	.LC23
 1771 0004 0C000000 		.word	.LC24
 1772 0008 18000000 		.word	.LC25
 1773              		.global	last_button_state
 1774              		.section	.data.last_button_state,"aw"
 1777              	last_button_state:
 1778 0000 01       		.byte	1
 1779              		.global	test_mode
 1780              		.section	.bss.test_mode,"aw",%nobits
 1783              	test_mode:
 1784 0000 00       		.space	1
 1785              		.global	T
 1786              		.section	.data.T,"aw"
 1789              	T:
 1790 0000 64       		.byte	100
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 48


 1791              		.global	current_Mode
 1792              		.section	.bss.current_Mode,"aw",%nobits
 1795              	current_Mode:
 1796 0000 00       		.space	1
 1797              		.global	morse_Msg
 1798              		.section	.data.morse_Msg,"aw"
 1799              		.align	2
 1802              	morse_Msg:
 1803 0000 2E2E2D2D 		.ascii	"..--- ----. / ... - .- .-. -\000"
 1803      2D202D2D 
 1803      2D2D2E20 
 1803      2F202E2E 
 1803      2E202D20 
 1804 001d 00000000 		.space	35
 1804      00000000 
 1804      00000000 
 1804      00000000 
 1804      00000000 
 1805              		.global	morse_Messages
 1806              		.section	.rodata.str1.4
 1807 001f 00       		.align	2
 1808              	.LC26:
 1809 0020 2E2E2D2D 		.ascii	"..--- ----. / ... - .- .-. -\000"
 1809      2D202D2D 
 1809      2D2D2E20 
 1809      2F202E2E 
 1809      2E202D20 
 1810 003d 000000   		.align	2
 1811              	.LC27:
 1812 0040 2E202D2E 		.ascii	". -.-. .... .. .--. .- / ..--- ----.\000"
 1812      2D2E202E 
 1812      2E2E2E20 
 1812      2E2E202E 
 1812      2D2D2E20 
 1813 0065 000000   		.align	2
 1814              	.LC28:
 1815 0068 2E2E2E2E 		.ascii	".... . .-.. .-.. --- / ..--- ----.\000"
 1815      202E202E 
 1815      2D2E2E20 
 1815      2E2D2E2E 
 1815      202D2D2D 
 1816              		.section	.data.morse_Messages,"aw"
 1817              		.align	2
 1820              	morse_Messages:
 1821 0000 20000000 		.word	.LC26
 1822 0004 40000000 		.word	.LC27
 1823 0008 68000000 		.word	.LC28
 1824              		.global	color_PWM
 1825              		.section	.bss.color_PWM,"aw",%nobits
 1826              		.align	2
 1829              	color_PWM:
 1830 0000 00000000 		.space	12
 1830      00000000 
 1830      00000000 
 1831              		.global	color_PWM_Set
 1832              		.section	.data.color_PWM_Set,"aw"
 1833              		.align	2
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 49


 1836              	color_PWM_Set:
 1837 0000 00000000 		.word	colors_Mode_A
 1838 0004 00000000 		.word	colors_Mode_B
 1839 0008 00000000 		.word	colors_Mode_C
 1840              		.global	colors_Mode_C
 1841              		.section	.data.colors_Mode_C,"aw"
 1842              		.align	2
 1845              	colors_Mode_C:
 1846 0000 000064   		.ascii	"\000\000d"
 1847 0003 503200   		.ascii	"P2\000"
 1848 0006 320032   		.ascii	"2\0002"
 1849 0009 000000   		.ascii	"\000\000\000"
 1850              		.global	colors_Mode_B
 1851              		.section	.data.colors_Mode_B,"aw"
 1852              		.align	2
 1855              	colors_Mode_B:
 1856 0000 640000   		.ascii	"d\000\000"
 1857 0003 5A1E1E   		.ascii	"Z\036\036"
 1858 0006 004646   		.ascii	"\000FF"
 1859 0009 646464   		.ascii	"ddd"
 1860              		.global	colors_Mode_A
 1861              		.section	.data.colors_Mode_A,"aw"
 1862              		.align	2
 1865              	colors_Mode_A:
 1866 0000 006400   		.ascii	"\000d\000"
 1867 0003 4B4628   		.ascii	"KF("
 1868 0006 1E3C5A   		.ascii	"\036<Z"
 1869 0009 000000   		.ascii	"\000\000\000"
 1870              		.global	RGB_GPIO_Pins
 1871              		.section	.data.RGB_GPIO_Pins,"aw"
 1872              		.align	2
 1875              	RGB_GPIO_Pins:
 1876 0000 0100     		.short	1
 1877 0002 0200     		.short	2
 1878 0004 0001     		.short	256
 1879              		.global	RGB_GPIO_Banks
 1880              		.section	.data.RGB_GPIO_Banks,"aw"
 1881              		.align	2
 1884              	RGB_GPIO_Banks:
 1885 0000 000C0140 		.word	1073810432
 1886 0004 000C0140 		.word	1073810432
 1887 0008 00080140 		.word	1073809408
 1888              		.global	SM_State
 1889              		.section	.bss.SM_State,"aw",%nobits
 1892              	SM_State:
 1893 0000 00       		.space	1
 1894              		.global	ticks
 1895              		.section	.bss.ticks,"aw",%nobits
 1898              	ticks:
 1899 0000 00       		.space	1
 1900              		.global	uart_buf
 1901              		.section	.bss.uart_buf,"aw",%nobits
 1902              		.align	2
 1905              	uart_buf:
 1906 0000 00       		.space	1
 1907              		.section	.rodata
 1908              		.align	2
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 50


 1909              		.set	.LANCHOR0,. + 0
 1910              	.LC2:
 1911 0000 010001   		.ascii	"\001\000\001"
 1912 0003 00       		.space	1
 1913              	.LC3:
 1914 0004 000100   		.ascii	"\000\001\000"
 1915 0007 00       		.space	1
 1916              	.LC0:
 1917 0008 0200     		.short	2
 1918 000a 0400     		.short	4
 1919 000c 0800     		.short	8
 1920 000e 1000     		.short	16
 1921 0010 2000     		.short	32
 1922 0012 4000     		.short	64
 1923 0014 8000     		.short	128
 1924 0016 0001     		.short	256
 1925              	.LC1:
 1926 0018 0001     		.short	256
 1927 001a 0002     		.short	512
 1928 001c 0004     		.short	1024
 1929 001e 0008     		.short	2048
 1930 0020 0010     		.short	4096
 1931 0022 0020     		.short	8192
 1932 0024 0040     		.short	16384
 1933 0026 0080     		.short	-32768
 1934              		.text
 1935              	.Letext0:
 1936              		.file 3 "C:\\ST\\STM32CubeCLT_1.18.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/13.3.1/../
 1937              		.file 4 "C:\\ST\\STM32CubeCLT_1.18.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/13.3.1/../
 1938              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 1939              		.file 6 "C:\\ST\\STM32CubeCLT_1.18.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/13.3.1/inc
 1940              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 1941              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_rcc.h"
 1942              		.file 9 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_rcc_ex.h"
 1943              		.file 10 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_gpio.h"
 1944              		.file 11 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 1945              		.file 12 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_tim.h"
 1946              		.file 13 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_uart.h"
 1947              		.file 14 "Core/Inc/tim.h"
 1948              		.file 15 "Core/Inc/usart.h"
 1949              		.file 16 "C:\\ST\\STM32CubeCLT_1.18.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/13.3.1/..
 1950              		.file 17 "C:\\ST\\STM32CubeCLT_1.18.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/13.3.1/..
 1951              		.file 18 "C:\\ST\\STM32CubeCLT_1.18.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/13.3.1/..
 1952              		.file 19 "C:\\ST\\STM32CubeCLT_1.18.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/13.3.1/..
 1953              		.file 20 "Core/Inc/liquidcrystal_i2c.h"
 1954              		.file 21 "Core/Inc/i2c.h"
 1955              		.file 22 "USB_DEVICE/App/usb_device.h"
 1956              		.file 23 "Core/Inc/gpio.h"
 1957              		.file 24 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 1958              		.file 25 "C:\\ST\\STM32CubeCLT_1.18.0\\GNU-tools-for-STM32\\bin/../lib/gcc/arm-none-eabi/13.3.1/..
 1959              		.file 26 "<built-in>"
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 51


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:19     .text.__io_putchar:00000000 $t
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:25     .text.__io_putchar:00000000 __io_putchar
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:61     .text.__io_putchar:0000001c $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:66     .text._write:00000000 $t
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:72     .text._write:00000000 _write
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:105    .text._write:00000014 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:110    .text.dot:00000000 $t
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:116    .text.dot:00000000 dot
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:214    .text.dot:00000068 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1875   .data.RGB_GPIO_Pins:00000000 RGB_GPIO_Pins
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1884   .data.RGB_GPIO_Banks:00000000 RGB_GPIO_Banks
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1789   .data.T:00000000 T
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:222    .text.dash:00000000 $t
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:228    .text.dash:00000000 dash
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:329    .text.dash:0000006c $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:337    .rodata.morse_Send.str1.4:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:344    .text.morse_Send:00000000 $t
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:350    .text.morse_Send:00000000 morse_Send
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:440    .text.morse_Send:00000050 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1802   .data.morse_Msg:00000000 morse_Msg
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:448    .rodata.morse_Trigger.str1.4:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:455    .text.morse_Trigger:00000000 $t
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:461    .text.morse_Trigger:00000000 morse_Trigger
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:580    .text.morse_Trigger:00000088 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1738   .bss.i.2:00000000 i.2
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1795   .bss.current_Mode:00000000 current_Mode
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1836   .data.color_PWM_Set:00000000 color_PWM_Set
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1829   .bss.color_PWM:00000000 color_PWM
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1820   .data.morse_Messages:00000000 morse_Messages
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:592    .rodata.HAL_UART_RxCpltCallback.str1.4:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:602    .text.HAL_UART_RxCpltCallback:00000000 $t
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:608    .text.HAL_UART_RxCpltCallback:00000000 HAL_UART_RxCpltCallback
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:677    .text.HAL_UART_RxCpltCallback:00000040 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1905   .bss.uart_buf:00000000 uart_buf
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1783   .bss.test_mode:00000000 test_mode
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:687    .text.HAL_TIM_PeriodElapsedCallback:00000000 $t
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:693    .text.HAL_TIM_PeriodElapsedCallback:00000000 HAL_TIM_PeriodElapsedCallback
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:808    .text.HAL_TIM_PeriodElapsedCallback:00000078 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1898   .bss.ticks:00000000 ticks
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1892   .bss.SM_State:00000000 SM_State
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:817    .rodata.run_cable_test.str1.4:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:836    .text.run_cable_test:00000000 $t
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:842    .text.run_cable_test:00000000 run_cable_test
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1240   .text.run_cable_test:00000194 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1769   .data.cable_type_names:00000000 cable_type_names
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1256   .text.Error_Handler:00000000 $t
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1262   .text.Error_Handler:00000000 Error_Handler
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1294   .text.SystemClock_Config:00000000 $t
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1300   .text.SystemClock_Config:00000000 SystemClock_Config
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1430   .rodata.main.str1.4:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1449   .text.main:00000000 $t
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1455   .text.main:00000000 main
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1701   .text.main:0000012c $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1727   .bss.button_press_time.0:00000000 button_press_time.0
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1732   .data.last_button_state.1:00000000 last_button_state.1
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 52


C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1724   .bss.button_press_time.0:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1735   .bss.i.2:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1745   .data.dash_Color:00000000 dash_Color
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1742   .data.dash_Color:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1752   .data.dot_Color:00000000 dot_Color
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1749   .data.dot_Color:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1756   .rodata.str1.4:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1766   .data.cable_type_names:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1777   .data.last_button_state:00000000 last_button_state
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1784   .bss.test_mode:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1796   .bss.current_Mode:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1799   .data.morse_Msg:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1817   .data.morse_Messages:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1826   .bss.color_PWM:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1833   .data.color_PWM_Set:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1865   .data.colors_Mode_A:00000000 colors_Mode_A
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1855   .data.colors_Mode_B:00000000 colors_Mode_B
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1845   .data.colors_Mode_C:00000000 colors_Mode_C
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1842   .data.colors_Mode_C:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1852   .data.colors_Mode_B:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1862   .data.colors_Mode_A:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1872   .data.RGB_GPIO_Pins:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1881   .data.RGB_GPIO_Banks:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1893   .bss.SM_State:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1899   .bss.ticks:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1902   .bss.uart_buf:00000000 $d
C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s:1908   .rodata:00000000 $d

UNDEFINED SYMBOLS
HAL_UART_Transmit
huart1
HAL_GPIO_WritePin
HAL_Delay
puts
putchar
strlen
strcpy
printf
HAL_UART_Receive_IT
HD44780_Clear
HD44780_PrintStr
HAL_GPIO_ReadPin
HD44780_SetCursor
sprintf
memset
HAL_RCC_OscConfig
HAL_RCC_ClockConfig
HAL_RCCEx_PeriphCLKConfig
HAL_Init
MX_GPIO_Init
MX_USART1_UART_Init
MX_USB_DEVICE_Init
MX_TIM2_Init
MX_I2C1_Init
HAL_TIM_Base_Start_IT
HD44780_Init
HD44780_Backlight
ARM GAS  C:\Users\TeTe\AppData\Local\Temp\ccbZW7Yx.s 			page 53


setbuf
HAL_GetTick
htim2
_impure_ptr
